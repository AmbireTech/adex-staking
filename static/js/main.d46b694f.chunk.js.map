{"version":3,"sources":["helpers/formatting.js","AppContext.js","components/Tooltip.js","components/cardCommon.js","helpers/bonds.js","components/WithDialog.js","actions/validations.js","ethereum.js","actions/common.js","actions/loyaltyPoolActions.js","actions/v5actions.js","actions/actions.js","helpers/fetch.js","helpers/errors.js","actions/pools.js","actions/farm.js","components/Anchor.js","components/MigrationForm.js","components/Bonds.js","components/StatsCard.js","components/DepositForm.js","components/Deposits.js","components/StakingPoolTxnsHistory.js","components/SectionHeader.js","components/Stakings.js","resources/gasless-ic.svg","components/Gasless.js","resources/gift-ic.svg","components/ConfirmationDialog.js","components/Rewards.js","FarmProvider.js","resources/crown-ic.svg","components/FarmCard.js","components/FarmForm.js","components/FarmInfoCard.js","resources/wheat-icon.svg","components/Farm.js","resources/stats-ic.svg","ValidatorStatsContext.js","themeMUi.js","helpers/colors.js","components/StatsChart.js","hooks/windowSize.js","components/Stats.js","resources/coming-soon-ic.svg","components/WithRouterLink.js","components/PoolCard.js","resources/mail-awards.svg","helpers/validation.js","mauticActions.js","components/EmailSignUpCard.js","components/Pools.js","helpers/localStorage.js","components/StakeNowPopup.js","resources/migration-ic.svg","components/MigrationBtn.js","components/MigrateNowPopup.js","components/NewBondForm.js","components/LegacyADXSwapDialog.js","components/HelperMenu.js","components/WalletMenu.js","components/LangSelect.js","MultiThemeProvider.js","components/ThemeSwitch.js","components/rootStyles.js","components/Toolbar.js","resources/link-ic.svg","resources/farm-icon.svg","components/SideNav.js","components/UserData.js","Snack.js","components/Root.js","components/ChooseWallet.js","helpers/connector.js","AppHooks.js","helpers/hooks.js","components/Loading.js","App.js","ValidatorStatsHooks.js","serviceWorker.js","i18n.js","index.js","resources/adex-logo-clean.svg","resources/tom-ic.svg","resources/loyalty-ic.svg","resources/staking-logo.svg","resources/logo-light-theme.svg","resources/balancer-bal-logo.svg","resources/uniswap-uni-logo.svg","resources/yUSD.svg","resources/eth-logo.svg","resources/yfi-logo.svg","resources/chain-link-logo.svg","helpers/constants.js","walletconnect-logo.svg","metamask-fox.svg","resources/eddie-farmer-info-card.svg","helpers/identity.js"],"names":["formatUnits","utils","parseUnits","commify","formatADX","num","formatADXPretty","div","formatNumberPretty","formatDAI","formatAmountPretty","currency","formatDAIPretty","BigNumber","from","toLocaleString","parseADX","n","parseTokens","formatTokens","decimals","formatDate","d","getDate","month","getFullYear","formatDateTime","Intl","DateTimeFormat","navigator","language","dateStyle","timeStyle","format","getADXInUSD","prices","ADX","USD","parseFloat","getADXInUSDFormatted","adxUsd","toFixed","getDAIInUSD","DAI","getUSDFormatted","usdAmount","formatAddress","address","joinSymbol","substring","toIdAttributeString","string","defaultValue","replace","toLowerCase","formatLPToken","lpTokenDataWithPrices","lpValueBN","t1","t2","lpValue","unitsPerLP","token","AppContext","React","createContext","CommonTooltip","children","props","Tooltip","leaveTouchDelay","enterTouchDelay","title","disableFocusListener","disableHoverListener","disableTouchListener","ExtraLabel","label","Array","isArray","map","x","index","Typography","key","display","variant","color","Info","fontSize","AmountTextSingle","text","multiline","decimalSeparatorSplit","split","length","decimalsSplit","rest","slice","Box","component","width","style","opacity","join","AmountText","transValue","multipleAmountsSplit","trim","filter","i","toString","reduce","prev","curr","CardRow","infoText","fontWeight","justify","isAmountText","multilineLinesAmounts","restBox","flexDirection","alignItems","flexWrap","justifyContent","wordBreak","ml","keccak256","defaultAbiCoder","getPool","poolId","POOLS","find","id","getBondId","owner","amount","nonce","encode","ADDR_STAKING","styles","theme","spacing","dialog","backgroundColor","palette","background","paper","dialogTitle","wordWrap","margin","marginLeft","marginBottom","padding","content","flex","position","overflowX","overflowY","textBtn","cursor","btnIconLeft","marginRight","breakLong","overflowWrap","hyphens","TextBtn","withStyles","className","classes","onClick","clsx","Transition","forwardRef","ref","Slide","direction","useStyles","makeStyles","WithDialogHoc","Decorated","WithDialog","disableBackdropClick","forwardedRef","iconButton","textButton","fabButton","size","btnLabel","mini","disabled","icon","dialogActions","fullWidth","onBeforeOpen","onCloseDialog","tooltipTitle","btnProps","useState","open","setOpen","handleToggle","a","handleClick","ev","stopPropagation","preventDefault","ButtonComponent","IconButton","Fab","Button","aria-label","floating","first","second","Dialog","onClose","TransitionComponent","DialogTitle","disableTypography","root","DialogContent","closeDialog","DialogActions","isValidNumberString","numStr","isNaN","LocalProvider","REACT_APP_RPC_URL","startsWith","providers","WebSocketProvider","JsonRpcProvider","getDefaultProvider","defaultProvider","useTestnet","on","e","console","error","getSigner","chosenWalletType","library","Error","signMessage","signer","message","getAddress","sig","provider","isWalletConnect","send","hexlify","verifyMessage","getPrices","fetch","PRICES_API_URL","res","json","data","adex","usd","executeOnIdentity","txns","opts","gasless","extraGasLimit","walletAddr","getUserIdentity","addr","bytecode","identity","Contract","IdentityABI","getCode","needsToDeploy","ZERO","idNonce","toTuples","offset","to","zeroFeeTx","add","toSolidityTuple","txnsRaw","rawZeroFeeTx","signatures","tx","Transaction","hash","push","splitSig","executeUrl","ADEX_RELAYER_HOST","method","body","JSON","stringify","headers","status","txnTuples","estimateGas","executeBySender","estimatedGasLimit","gasLimit","executeTx","interface","encodeFunctionData","factoryWithSigner","ADDR_FACTORY","FactoryABI","deployAndExecute","toChannelTuple","args","creator","tokenAddr","tokenAmount","validUntil","validators","spec","Token","ADDR_ADX","ERC20ABI","LoyaltyToken","ADDR_ADX_LOYALTY_TOKEN","ADXLoyaltyPoolTokenABI","ZERO_ADDR","LOYALTY_POOP_EMPTY_STATS","balanceLpToken","balanceLpADX","rewardADX","poolTotalStaked","currentAPY","poolDepositsLimit","loaded","userDataLoaded","unbondDays","loadLoyaltyPoolData","Promise","all","balanceOf","incentivePerTokenPerAnnum","maxTotalADX","mul","toNumber","loadUserLoyaltyPoolsStats","poolData","shareValue","getLogs","fromBlock","filters","Transfer","currentShareValue","loyaltyTokenTransfersLogs","adexTokenTransfersLogs","currentBalance","some","log","parseLog","allTimeRewardADX","adxTransfersByTxHash","transactionHash","userDeposits","deposits","axdTransferLog","lpTokenLog","adxTransferLog","adx","adxLPT","avgDepositShareValue","isZero","reward","sub","onLoyaltyPoolDeposit","stats","adxDepositAmount","gt","userBalance","allowance","allowanceADXLOYALTY","setAllowance","lt","tokenWithSigner","approve","MAX_UINT","loyaltyTokenWithSigner","enter","onLoyaltyPoolWithdraw","withdrawAmountADX","loyaltyPoolStats","lpTokensToWithdraw","leave","supplyControllerABI","ADXSupplyControllerABI","PRECISION","ADXToken","ADXTokenABI","ADXSupplyController","ADDR_ADX_SUPPLY_CONTROLLER","StakingPool","ADDR_STAKING_POOL","StakingPoolABI","StakingMigrator","ADDR_STAKING_MIGRATOR","StakingMigratorABI","Core","ADDR_CORE","CoreABI","STAKING_POOL_EVENT_TYPES","STAKING_POOL_EMPTY_STATS","balanceShares","currentBalanceADX","withdrawnReward","poolTotalBalanceADX","sharesTotalSupply","totalRewards","currentReward","withdrawsADXTotal","depositsADXTotal","totalSharesInTransfers","stakings","userLeaves","hasActiveUnbondCommitments","leavesPendingToUnlockTotalMax","leavesReadyToWithdrawTotalMax","leavesPendingToUnlockTotalADX","leavesReadyToWithdrawTotalADX","rageReceivedPromilles","timeToUnbond","userShare","onMigrationToV5Finalize","claimPendingRewards","stakeWalletBalance","withdrawOnMigration","enterTo","interactionAddress","userWalletBalance","tomPoolStats","identityADXIncentiveChannels","identityAdxRewardsAmount","willWithdrawOnMigration","identityTxns","extraAmount","forEach","channel","channelTuple","channelArgs","stateRoot","proof","onStakingPoolV5Deposit","allowanceStakingPool","stakingPoolWithSigner","onStakingPoolV5Withdraw","_","unbondCommitment","shares","unlocksAt","withdraw","onStakingPoolV5RageLeave","rageLeaveADXAmount","tomStakingV5PoolStats","sharesToWithdraw","rageLeave","onStakingPoolV5UnbondCommitment","unbondCommitmentAmountADX","getTomStakingV5PoolData","mintableIncentive","totalSupply","incentivePerSecond","loadUserTomStakingV5PoolStats","LogLeave","LogWithdraw","LogRageLeave","allEnterADXTransferLogs","leaveLogs","withdrawLogs","rageLeaveLogs","sharesTokensTransfersInLogs","sharesTokensTransfersOutLogs","enterAdexTokensByTxHash","byHash","sharesTokensTransfersIn","blockNumber","type","sharesTokensTransfersOut","event","shareTokensEnterMintByHash","shareTokensTransfersInByTxHash","sharesTokensTransfersInFromExternal","Object","values","userEnters","sharesMintEvent","adexTokenTransfersLog","parsedAdxLog","adxAmount","userWithdraws","maxTokens","receivedTokens","userRageLeaves","now","Date","parsedLog","withdrawTx","unbondingCommitmentWorth","adxValue","canWithdraw","leavesPendingToUnlock","leavesReadyToWithdraw","b","concat","sort","stakingEvent","getBlock","timestamp","withTimestamp","depositsSharesWeightedSum","depositsSharesTotal","withdrawsSharesWeightedSum","withdrawsSharesTotal","totalSharesOutTransfers","Staking","StakingABI","OUTSTANDING_REWARD_THRESHOLD","POOL_EMPTY_STATS","totalStake","totalCurrentTotalActiveStake","currentAdxIncentiveAPY","lastDaiFeesAPY","totalAPY","userRewardsADX","userRewardsDAI","rewardChannels","userBonds","EMPTY_STATS","connectedWalletAddress","totalStakeTom","totalRewardADX","totalRewardDAI","tomRewardADX","totalLockedOnDeposits","totalPendingToUnlock","totalUnlockedDeposits","totalStaked","apyTomADX","userTotalStake","totalBalanceADX","userIdentityBalance","legacyTokenBalance","identityDeployed","userWalletToIdentityADXAllowance","tomBondsMigrationData","hasToMigrate","bondToMigrate","isWithdrawMigration","sumRewards","outstandingReward","isTomChannelId","val","getIncentiveChannelCurrentAPY","periodEnd","currentRewardPerSecond","currentTotalActiveStake","poolTotalStake","distributionEnds","getTime","secondsLeft","Math","floor","getValidatorFeesAPY","periodStart","totalActiveStaked","totalStakeInDaiValue","toDistribute","distributionSeconds","getChannelAPY","loadStats","loadUserStats","userStats","loadActivePoolsStats","getPoolStats","pool","getRewardChannels","adxIncentiveRewardsChannels","_id","feeRewardsChannels","currentActiveIncentiveChannels","lastFeeRewardChannel","totalCurrent","name","poolStats","identityAddr","loadBondStats","getRewards","WITH_BONUS_PROMILLES","userBondsData","tomPoolUserRewardChannels","poolsStats","tomStakingV5PoolStatsWithUserData","migrationBonusPromilles","tomAdxRewardsChannels","claimFrom","tomPoolDaiRewardsChannels","tomRewardDAI","bond","migrationReward","currentAmount","tomUnbondRequestedWithdraw","tomPoolStatsWithUserData","migratableBonds","willUnlock","MIGRATION_UNBOND_BEFORE","topics","hexZeroPad","LogBondMigrated","logs","migrationLogs","migrationLogsByBondId","bondId","bonds","topic","getEventTopic","vals","slashedAtStart","time","bondMigrationLog","bondWithData","replacedBondIndex","findIndex","rewardPool","url","resp","rewardChannel","balances","balanceTree","BalanceTree","withdrawnPerUser","channelId","getProof","mTree","getRoot","forUser","createNewBond","allowanceStaking","balanceOnIdentity","eq","needed","gte","active","stakingData","onUnbondOrRequest","isUnbond","claimRewards","coreWithSigner","legacyChannels","channelWithdraw","identityChannels","toTransfer","amnt","entries","restake","channels","collected","userBond","newBond","reBond","fetchJSON","TranslatableError","TOM_URL","DaiToken","DAI_TOKEN_ADDR","DEPOSIT_ACTION_TYPES","getPoolStatsByPoolId","DEPOSIT_POOLS","getDepositActionByTypeAndPoolId","actionType","actionName","getWithdrawActionByPoolId","getDepositActionByPoolId","getUnbondCommitmentActionByPoolId","getRageLeaveActionByPoolId","getDepositActionMaxAmountByTypeAndPoolId","getMaxWithdrawAmountByPoolId","getMaxUnbondCommitmentAmountByPoolId","getWithdrawActionBySelectedRewardChannels","rewards","byPool","r","rwds","bind","sumValidatorAnalyticsResValue","aggr","value","toChartData","valueLabel","noLast","pop","labels","datasets","getValidatorTomStats","MARKET_URL","depositAmount","totalDeposits","totalPayouts","lastApprovedBalances","adUnits","ipfs","uniqueUnits","keys","uniquePublishers","uniqueAdvertisers","dailyPayoutsData","yearlyTransactionsData","dailyTransactionsData","monthlyTransactionsData","lockupOnChain","totalCampaigns","dailyPayoutsVolume","yearlyTransactions","dailyTransactions","monthlyTransactions","getValidatorStatsByPoolId","MASTER_CHEF_ADDR","MasterChef","MasterChefABI","getOtherTokenAndPoolPrice","known","unknown","totalLPPrice","poolBalance","weight","usdPrice","unknownPrice","getDepositLPTokenToADXValue","externalPrices","adxPrice","FARM_POOLS","lpTokenData","allTokenContracts","allTokensInUSD","poolDataMap","depositAssetName","depositAssetAddr","tokenName","poolDataWithBalances","maxIters","iters","includes","poolTotalPriceUSD","lpTokensToADXData","lpTokensToADX","poolTotalADXValue","poolsPricesData","depositTokenContract","pendingADX","userInfo","poolInfo","ADXPerBlock","totalAllocPoint","walletBalance","adxPerBlock","userLPBalance","useShare","poolAllocPoints","totalStakedFloat","depositAssetDecimals","totalRewardsADX","parseInt","latRewardBlock","firstRewardBlock","totalPoolRewardsUSD","lpTokenPrice","lpTokenStakedValueUSD","rewardsDistributedPerMonthInUSD","rewardsDurationDays","rewardsDistributedPerYearInUSD","poolAPY","poolMPY","getFarmPoolsStats","poolsCalls","allPoolStats","statsByPoolId","byId","pollStatsLoaded","userStatsLoaded","onLiquidityPoolDeposit","actionAmount","LPToken","allowanceMC","balanceOnWallet","identityCode","isDeployed","connect","onLiquidityPoolWithdraw","onHarvestAll","farmStats","poolsToHarvest","totalADXRewards","toHarvest","externalIcon","link","Anchor","href","target","underline","isExternal","getUrl","linkProps","draggable","rel","Link","OpenInNew","ExternalAnchor","activePool","MigrationForm","poolLabel","created","location","useLocation","t","useTranslation","useContext","account","wrapDoingTxns","setClaimPendingRewards","setStakeWalletBalance","confirmEnterTo","setConfirmEnterTo","setEnterTo","confirmed","setConfirmed","enterToParam","URLSearchParams","search","get","setPoolStats","useEffect","newPoolStats","onAction","confirmationLabel","Trans","i18nKey","components","totalBondAmount","e1","e2","STAKING_RULES_URL","disableMigrationMsg","Grid","container","m","migrationBonus","migrationBonusCurrency","box","mt","item","xs","rewardPolicy","slashPolicy","count","apy","sign","farmer","role","FormControlLabel","userSelect","control","Checkbox","checked","onChange","FormControl","disableElevation","MigrationDialog","Bonds","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","reverse","days","ceil","bondStatus","Alert","severity","UNBOND_DAYS","StatsCard","titleInfo","subtitle","subtitleInfo","extra","extraInfo","moreExtra","moreExtraInfo","actions","LinearProgress","DepositForm","depositPool","setActionAmount","amountErr","setAmountErr","amountErrText","setAmountErrText","amountErrVals","setAmountErrVals","selectErr","setSelectErr","selectErrText","setSelectErrText","dirtyInputs","setDirtyInputs","confirmation","setConfirmation","rageConfirmed","setRageConfirmed","setActivePool","setUnbondCommitment","activeUnbondCommitments","setActiveUnbondCommitments","maxAmount","setMaxAmount","newActivePool","newMaxAmount","newActiveUnbondCommitments","action","amountBN","minStakingAmountBN","minStakingAmount","lte","userDepositsLimit","currentDeposited","onAmountChange","amountStr","required","InputLabel","Select","MenuItem","uc","px","FormHelperText","TextField","helperText","lockupPeriod","percent","getActionBtnText","DepositsDialog","iconBox","borderRadius","height","common","white","black","updateDeposits","newDeposit","newDeposits","Deposits","setDeposits","disableActionsMsg","disableDepositsMsg","loadedDeposits","loyaltyPoolDeposit","disabledDepositsMsg","disabledWithdrawsMsg","balance","allTimeReward","pendingToUnlockTotalADX","readyToWithdrawTotalADX","getLoyaltyPoolDeposit","stakingPoolDeposit","getStakingPool","deposit","PoolIcon","iconByPoolId","mr","SvgIcon","my","StakingEventRow","formatTxnHash","fabIcon","SectionHeader","canStake","mb","Stakings","setToUnbond","onUnbond","onMigrationFinalize","setToRestake","onClaimRewards","onRebond","gutterBottom","bgcolor","boxShadow","p","onRequestUnbond","onRestake","Accordion","square","AccordionSummary","expandIcon","ExpandMore","aria-controls","AccordionDetails","StakingPoolTxnsHistory","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","transform","_ref","svgRef","viewBox","ForwardRef","Gasless","ConfirmationDialog","isOpen","onDeny","onConfirm","confirmActionName","getTotalSelectedRewards","selected","getTotal","amounts","totalAmountsLabel","Rewards","setRewards","setSelected","totalAmountsSelected","setTotalAmountsSelected","claimOpen","setClaimOpen","totalRewardsAmounts","totalOutstandingRewardsAmounts","totalRewardsInUsd","totalOutstandingRewardsInUsd","selectedRewards","tomRewardChannels","startDate","endDate","getMonth","onSelectChange","newSelected","totalAmountSelected","onClaim","totalSelectedLabel","totalRewardsLabel","totalOutstandingRewardsLabel","inputProps","renderRewardRow","total","FarmContext","FarmProvider","farmHooks","addSnack","userIdle","pricesLoaded","setPricesLoaded","setStats","getStats","setGetFarmStats","refreshFarmStats","useCallback","code","intvl","setInterval","clearInterval","useFarm","Provider","FarmFormDialog","showRewards","showRewardsOnDeposit","disableWithdrawMsg","disableRewardsWithdrawMsg","params","userInputAmount","validateFields","placeholder","top","shadows","paddingLeft","paddingRight","border","special","main","platformIconBox","borderTopLeftRadius","borderBottomLeftRadius","left","specialIcon","overlay","right","bottom","loading","comingSoon","iconSpecial","maxWidth","getLink","strong","FarmPoolData","platform","getDepositAssetUrl","rewardAssetName","totalDepositTokenStaked","totalDepositTokenStakedUSD","userStakedShare","currentMPY","mpyInfo","yield","liquidityInfoText","liquidityStakedLP","liquidityStakedLPInfo","lpTokenName","liquidityOnWalletLP","liquidityOnWalletLPInfo","depositAsset","rewardAsset","mpy","FarmCard","disabledInfo","platformIcon","assetsIcons","Icon","canDeposit","mx","pt","minHeight","src","eddieTheFarmerInfo","alt","externalLink","y","enableBackground","harvestBtn","harvestIcon","canHarvest","Farm","justifyCenter","useMediaQuery","breakpoints","down","harvestOpen","setHarvestOpen","onHarvest","startIcon","ValidatorStatsContext","WHITE","BLACK","paletteCommon","primary","contrastText","secondary","grey","lightGrey","warning","success","info","lime","paletteLight","fade","hint","default","darkerPaper","specialSecondary","contrast","card","paletteDark","divider","hover","hoverOpacity","selectedOpacity","disabledOpacity","focus","focusOpacity","activatedOpacity","defaultTheme","createMuiTheme","darkShadows","lightShadows","commonTheme","typography","fontFamily","overrides","MuiButton","outlined","borderColor","contained","MuiFab","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","tooltip","arrow","MuiDrawer","paperAnchorLeft","borderRight","paperAnchorDockedLeft","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","filledInfo","filledWarning","filledError","MuiBackdrop","MuiFilledInput","borderTopRightRadius","MuiOutlinedInput","defaultThemeWithOverrides","responsiveFontSizes","factor","darkTheme","lightTheme","hexToRgbaColorString","hex","alpha","substr","hexToDec","h","g","commonDsProps","fill","lineTension","borderWidth","pointRadius","pointHitRadius","FONT","DefaultLabel","StatsChart","dataSynced","dataActive","defaultLabels","options","xLabel","yLabel","yColor","xSelect","windowSize","hasWindow","window","getWindowSize","innerWidth","innerHeight","setWindowSize","onResize","addEventListener","removeEventListener","useWindowSize","chartHeight","min","max","chartData","pointBackgroundColor","yAxisID","hidden","linesOptions","animation","responsive","layout","maintainAspectRatio","legend","tooltips","mode","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","cornerRadius","bodySpacing","caretSize","displayColors","callbacks","datasetIndex","scales","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","fontColor","CircularProgress","flexGrow","poolsSrc","selectable","chartStatsKeys","interactive","ValidatorStatsCard","currentKey","chartKey","setKey","py","PropItem","ListItem","ListItemText","XSelect","chartDataKey","setChartDataKey","labelId","getDefaultLabels","Stats","useTheme","query","setChartData","setPoolId","setPool","onPoolSelect","parse","validator","md","lg","List","dense","disablePadding","purpose","lockupPeriodText","apyStability","WithRouterLink","Component","WithRouter","withRouter","history","match","staticContext","toLocation","path","pathname","createHref","resolveToLocation","ButtonWithLink","PoolCard","totalStakedADX","totalStakedUSD","weeklyYield","weeklyYieldInfo","onStakeBtnClick","lockupPeriodTitle","lockupPeriodInfo","actionBtn","extraData","statsPath","importantValue","valueInfo","normalValue","extrInfo","filterUnits","dx","dy","input","stdDeviation","result","floodOpacity","operator","in2","in","cx","cy","rx","ry","validateEmail","email","test","String","submitFormToMautic","formId","returnValue","formName","messenger","response","utf8Decoder","TextDecoder","reader","getReader","read","mauticDataResponse","decode","extractJSONResponseFromHTML","matches","exec","messageCopy","asciiRegex","lastIndex","groupIndex","decoded","fromCharCode","warn","bold","singUp","gdprCheckbox","errors","gdpr","tosCheckbox","tos","EmailSignUp","setEmail","mauticState","setMauticState","waiting","setWaiting","setGDPR","setErrors","handleSubmit","HTMLResponse","jsonResponse","successMessage","onBlur","FormGroup","TOM_LEGACY_POOL","TOM_V5_POOL","LOYALTY_POOL","fontSizeSmall","textWhite","Pools","setNewBondOpen","setNewBondPool","tomV5APY","loyaltyPoolAPY","loadFromLocalStorage","localStorage","getItem","err","saveToLocalStorage","serialized","setItem","iconBoxBack","marginTop","paddingTop","modal","StakeNowPopup","legacySwapOpen","legacySwapInPrg","hasADX","lastPopUP","showSinceLast","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","overflow","x1","y1","x2","y2","gradientUnits","stopColor","stopOpacity","RRButton","RRFab","MigrationBtn","MigrateNowAlert","AlertTitle","MigrateNowPopup","NewBondForm","onNewBond","pools","newBondPool","DEFAULT_BOND","setBond","stakingAmount","setStakingAmount","minWidthStyle","minWidth","onlyIdentityBalance","poolToValidate","updateStakingAmountBN","maxHeight","pb","sm","wallet","ADDR_ADX_OLD","LegacyToken","LegacyADXSwapDialog","setLegacySwapInPrg","setLegacySwapInOpen","setAmount","refreshAmount","catch","external","onSwap","swapTokens","wait","Snackbar","elevation","legacyTokenWithSigner","newTokenWithSigner","hasAutocalculatedGas","firstTimeGasLimit","swap","Help","menuEl","setMenuEl","closeHelpMenu","currentTarget","Menu","anchorEl","Boolean","keepMounted","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","chipRoot","fontWeightBold","pxToRem","chipIcon","Wallet","setConnectWallet","Chip","copy","clickable","diameter","seed","jsNumberForAddress","locales","en","ko","zh","LangSelect","i18n","setAnchorEl","aria-haspopup","changeLanguage","THEMES","light","dark","MultiThemeContext","MultiThemeProvider","themeType","setThemeType","setTheme","lastTheme","contextValue","switchTheme","ThemeSwitch","backgroundImage","backgroundRepeat","up","backgroundPositionX","drawerWidth","toolbar","toolbarActions","drawerPaper","contentInner","alwaysOnTop","zIndex","AppToolbar","handleDrawerToggle","AppBar","Toolbar","Hidden","mdUp","_ref15","_ref16","_ref17","xmlSpace","RRListItem","activeColor","activeBgColor","sntPadding","navListRoot","navList","sideNavToolbar","version","borderTopWidth","borderTopColor","borderTopStyle","listItem","adxLink","sideSwitch","textTransform","noUserData","SideNav","logo","logoLight","priceUSD","UserData","Divider","textAlign","button","ListItemIcon","year","packageJson","ShtarvolinkiSnack","snackOpen","snackMessageInfo","closeSnack","snackExited","autoHideDuration","hideTimeout","onExited","Root","mobileOpen","setMobileOpen","isTempDrawer","isNewBondOpen","toUnbond","toRestake","openErr","openDoingTx","snackbarErr","connectWallet","handleErrClose","onWalletTypeSelect","snackHooks","chainWarning","idlePopupOpen","onIdleDialogAction","drawer","undefined","document","Drawer","anchor","ModalProps","ol","li","handleListItemClick","handleClose","disableNonBrowserWallets","aria-labelledby","Wallets","extraLabel","METAMASK","Avatar","ChooseWallet","msg","isEarly","aria-describedby","minutes","IDLE_TIMEOUT_MINUTES","injected","InjectedConnector","supportedChainIds","ledger","LedgerConnector","chainId","pollingInterval","trezor","TrezorConnector","manifestEmail","manifestAppUrl","walletconnect","WalletConnectConnector","rpc","1","bridge","qrcode","IDLE_TIMEOUT","connectorsByName","WALLET_CONNECT","TREZOR","LEDGER","tryGetErrMessage","useApp","snackPack","setSnackPack","setMessageInfo","random","reason","useSnack","useWeb3React","activate","deactivate","setOpenErr","setOpenDoingTx","setSnackbarErr","chosenWalletTypeName","setChosenWalletTypeName","setChosenWalletType","setPrices","setChainWarning","refreshCount","setRefreshCount","setUserIdle","setIdlePopupOpen","suppress","handleConnect","handleChainChanged","handleAccountsChanged","accounts","reload","handleNetworkChanged","networkId","ethereum","removeListener","useInactiveListener","useIdleTimer","onIdle","debounce","refreshStats","newPrices","updatePrices","newStats","SUPPORTED_CHAINS","chain","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","UserRejectedRequestErrorWalletConnect","getErrorMessage","fn","walletTypeName","newWalletType","updateWalletType","Loading","App","appHooks","validatorStatsHooks","setStatsByPoolId","updatePoolStats","useValidatorStats","Fragment","CssBaseline","fallback","getLibrary","ethers","Web3Provider","hostname","use","Backend","LanguageDetector","initReactI18next","init","backend","loadPath","fallbackLng","defaultNS","debug","keySeparator","interpolation","escapeValue","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister","_ref2","_ref3","SvgAdexLogoClean","points","SvgTomIc","SvgLoyaltyIc","module","exports","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","stroke","preserveAspectRatio","fillRule","shapeRendering","textRendering","imageRendering","clipRule","estimatedAnnualFeeYield","estimatedAnnualADXYield","estimatedAnnualADXEarlyYield","confirmationUrl","legacyPoolId","LoyaltyIcon","TomIcon","metamaskLogo","walletconnectLogo","wallets","lpTokenAddr","rewardAssetAddr","UniswapIcon","ADXIcon","ETHIcon","BalancerIcon","YUSDIcon","YFIIcon","LINKIcon","addrHex","getBytecode","generateAddress2","Buffer","alloc","idAddr","identityContract","feeTokenAddr","feeAmount"],"mappings":"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","file":"static/js/main.d46b694f.chunk.js","sourcesContent":["import { BigNumber, utils } from \"ethers\"\nconst { formatUnits, parseUnits, commify } = utils\n\nexport function formatADX(num) {\n\treturn formatUnits(num, 18)\n}\n\nexport function formatADXPretty(num) {\n\treturn commify(formatUnits(num.div(\"100000000000000\"), 4))\n}\n\nexport function formatNumberPretty(num) {\n\treturn commify(num)\n}\n\nexport function formatDAI(num) {\n\treturn formatUnits(num, 18)\n}\n\nexport function formatDAIPretty(num) {\n\treturn commify(formatUnits(num.div(\"10000000000000000\"), 2))\n}\n\nexport function formatAmountPretty(num, currency) {\n\tif (!num) {\n\t\treturn num\n\t}\n\n\tswitch (currency) {\n\t\tcase \"DAI\":\n\t\t\treturn formatDAIPretty(BigNumber.from(num))\n\t\tcase \"ADX\":\n\t\t\treturn formatADXPretty(BigNumber.from(num))\n\t\tdefault:\n\t\t\treturn num.toLocaleString(10)\n\t}\n}\n\nexport function parseADX(n) {\n\treturn parseUnits(n, 18)\n}\n\nexport function parseTokens(n, decimals = 18) {\n\treturn parseUnits(n, 18)\n}\n\nexport function formatTokens(n, decimals = 18) {\n\treturn formatUnits(n, decimals)\n}\n\nexport function formatDate(d) {\n\treturn `${d.getDate()} ${d.toLocaleString(\"default\", {\n\t\tmonth: \"short\"\n\t})} ${d.getFullYear()}`\n}\n\nexport function formatDateTime(d) {\n\treturn new Intl.DateTimeFormat(navigator.language, {\n\t\tdateStyle: \"short\",\n\t\ttimeStyle: \"short\"\n\t}).format(d)\n}\n\n// @TODO refactor to take pool arguments and use pool constants\nexport function getApproxAPY(bond, totalStake, isEarly) {\n\tif (!totalStake || totalStake.isZero()) return 0\n\tconst earlyDistributionEnds = 1599177600000\n\tconst bondCreatedSeconds =\n\t\tbond && bond.nonce ? bond.nonce.toNumber() : Date.now() / 1000\n\tconst getsEarlyBird =\n\t\t(isEarly || bondCreatedSeconds < 1597276800) &&\n\t\tDate.now() < earlyDistributionEnds\n\t// this reward is distributed over that many days, hence * (365/145)\n\tconst base = (6000000 / parseFloat(formatADX(totalStake), 10)) * (365 / 145)\n\tconst early = (1000000 / parseFloat(formatADX(totalStake), 10)) * (365 / 30)\n\treturn base + (getsEarlyBird ? early : 0)\n\t// @TODO DAI rewards\n}\n\nexport function getADXInUSD(prices, ADX) {\n\tif (!prices || !prices.USD) return 0\n\tconst adxUsd = parseFloat(formatADX(ADX || 0), 10) * prices.USD\n\treturn adxUsd\n}\n\nexport function getADXInUSDFormatted(prices, ADX) {\n\tconst adxUsd = getADXInUSD(prices, ADX)\n\treturn `$ ${commify(adxUsd.toFixed(2))}`\n}\n\nexport function getDAIInUSD(DAI) {\n\tconst adxUsd = parseFloat(formatDAI(DAI || 0), 10) * 1\n\treturn adxUsd\n}\n\nexport function getUSDFormatted(usdAmount) {\n\treturn `$ ${commify(parseFloat(usdAmount.toFixed(2)))}`\n}\n\nexport const formatAddress = (address = \"\", joinSymbol = \"...\") => {\n\treturn `${address.substring(0, 6)}${joinSymbol}${address.substring(38, 42)}`\n}\n\nexport const formatTxnHash = (hash = \"\") => {\n\treturn `${hash.substring(0, 16)}...`\n}\n\nexport const toIdAttributeString = (string, defaultValue) => {\n\tif (typeof string === \"string\") {\n\t\treturn string.replace(/([^a-z0-9]+)/gi, \"-\").toLowerCase()\n\t} else {\n\t\treturn defaultValue || \"\"\n\t}\n}\n\nexport const formatLPToken = ({ lpTokenDataWithPrices, lpValueBN }) => {\n\tif (!lpValueBN) return \"-\"\n\n\tconst [t1, t2] = lpTokenDataWithPrices\n\tconst lpValue = parseFloat(formatTokens(lpValueBN))\n\n\tconst formatted = `\n\t\t${formatNumberPretty((t1.unitsPerLP * lpValue).toFixed(6))} ${t1.token} +\n\t\t${formatNumberPretty((t2.unitsPerLP * lpValue).toFixed(6))} ${t2.token}\n\t`\n\treturn formatted\n}\n","import React from \"react\"\n\nconst AppContext = React.createContext()\n\nexport default AppContext\n","import React from \"react\"\nimport { Tooltip } from \"@material-ui/core\"\n\nconst CommonTooltip = ({ children, ...props }) => (\n\t<Tooltip\n\t\tleaveTouchDelay={16900}\n\t\tenterTouchDelay={420}\n\t\t{...props}\n\t\t{...(!props.title\n\t\t\t? {\n\t\t\t\t\tdisableFocusListener: true,\n\t\t\t\t\tdisableHoverListener: true,\n\t\t\t\t\tdisableTouchListener: true\n\t\t\t  }\n\t\t\t: {})}\n\t>\n\t\t{children}\n\t</Tooltip>\n)\n\nexport default CommonTooltip\n","import React, { Fragment } from \"react\"\nimport { Box, Typography } from \"@material-ui/core\"\nimport { InfoSharp as InfoIcon } from \"@material-ui/icons\"\nimport Tooltip from \"./Tooltip\"\n\nconst ExtraLabel = ({ label = \"\" }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay=\"block\"\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nexport function Info({ title }) {\n\treturn (\n\t\t<Tooltip title={<ExtraLabel label={title} />}>\n\t\t\t<InfoIcon fontSize=\"inherit\" />\n\t\t</Tooltip>\n\t)\n}\n\nfunction AmountTextSingle({ text = \"\", fontSize, multiline }) {\n\tconst decimalSeparatorSplit = text.split(\".\")\n\n\tif (decimalSeparatorSplit.length > 1) {\n\t\tconst decimalsSplit = decimalSeparatorSplit[1].split(\" \")\n\t\tconst rest = decimalsSplit.slice(2)\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tdisplay={multiline ? \"block\" : \"inline\"}\n\t\t\t\twidth={multiline ? 1 : \"auto\"}\n\t\t\t\tfontSize={fontSize}\n\t\t\t>\n\t\t\t\t<Box component=\"div\" display=\"inline\">\n\t\t\t\t\t{decimalSeparatorSplit[0]}\n\t\t\t\t\t{\".\"}\n\t\t\t\t</Box>\n\t\t\t\t<Box\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tdisplay=\"inline\"\n\t\t\t\t\tstyle={{ opacity: \"0.56\" }}\n\t\t\t\t\tfontSize={fontSize * 0.8}\n\t\t\t\t>\n\t\t\t\t\t{decimalsSplit[0]}\n\t\t\t\t</Box>\n\t\t\t\t{decimalsSplit[1] && (\n\t\t\t\t\t<Box component=\"div\" display=\"inline\" fontSize={fontSize * 0.8}>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t{decimalsSplit[1]}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{!!rest.length && (\n\t\t\t\t\t<Box component=\"div\" display=\"inline\">\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t{rest.join(\" \")}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t)\n\t} else {\n\t\treturn text\n\t}\n}\n\nexport function AmountText({ text = \"\", fontSize, multiline, children }) {\n\tconst transValue = children ? children.join(\";\") : \"\"\n\n\tconst multipleAmountsSplit = (text || transValue)\n\t\t.split(\";\")\n\t\t.map(x => x.trim())\n\t\t.filter(x => !!x)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{multipleAmountsSplit.length\n\t\t\t\t? multipleAmountsSplit\n\t\t\t\t\t\t.map((x, i) => (\n\t\t\t\t\t\t\t<AmountTextSingle\n\t\t\t\t\t\t\t\tkey={i + x.toString()}\n\t\t\t\t\t\t\t\ttext={x}\n\t\t\t\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\t\t\t\tmultiline={multiline}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t\t.reduce((prev, curr) => [prev, multiline ? null : \"; \", curr])\n\t\t\t\t: text}\n\t\t</Fragment>\n\t)\n}\n\nexport function CardRow({\n\ttext,\n\tinfoText,\n\tfontWeight,\n\tfontSize,\n\tcolor,\n\tjustify,\n\tisAmountText,\n\tmultilineLinesAmounts,\n\t...restBox\n}) {\n\treturn (\n\t\t<Box {...restBox}>\n\t\t\t<Typography component=\"div\" variant=\"body2\">\n\t\t\t\t<Box\n\t\t\t\t\tcolor={color}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\tjustifyContent={justify || \"flex-start\"}\n\t\t\t\t\tstyle={{ wordBreak: \"break-word\" }}\n\t\t\t\t>\n\t\t\t\t\t{isAmountText ? (\n\t\t\t\t\t\t<AmountText\n\t\t\t\t\t\t\ttext={text}\n\t\t\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\t\t\tmultiline={multilineLinesAmounts}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\ttext\n\t\t\t\t\t)}\n\t\t\t\t\t{infoText && (\n\t\t\t\t\t\t<Box ml={0.69} display=\"flex\">\n\t\t\t\t\t\t\t<Info title={infoText} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</Typography>\n\t\t</Box>\n\t)\n}\n","import { POOLS, ADDR_STAKING } from \"./constants\"\nimport { utils } from \"ethers\"\n\nconst { keccak256, defaultAbiCoder } = utils\n\nexport const getPool = poolId => POOLS.find(x => x.id === poolId)\nexport function getBondId({ owner, amount, poolId, nonce }) {\n\treturn keccak256(\n\t\tdefaultAbiCoder.encode(\n\t\t\t[\"address\", \"address\", \"uint\", \"bytes32\", \"uint\"],\n\t\t\t[ADDR_STAKING, owner, amount, poolId, nonce]\n\t\t)\n\t)\n}\n","import React, { Fragment, useState, forwardRef } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tButton,\n\tBox,\n\tFab,\n\tIconButton,\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tSlide,\n\tDialogActions,\n\tTypography\n} from \"@material-ui/core\"\nimport clsx from \"clsx\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport Tooltip from \"./Tooltip\"\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(2)\n\treturn {\n\t\tdialog: {\n\t\t\t// height: `calc(100vh - ${spacing}px)`,\n\t\t\t// minWidth: 999,\n\t\t\t// maxWidth: 999,\n\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t// \"@media(max-width:1080px)\": {\n\t\t\t// \tmaxWidth: \"100%\",\n\t\t\t// \tminWidth: `calc(100vw - ${spacing}px)`\n\t\t\t// }\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t\tmarginBottom: 0,\n\t\t\tpadding: 0\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tflex: \"1 1 auto\",\n\t\t\tposition: \"relative\",\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\toverflowX: \"visible\",\n\t\t\toverflowY: \"auto\"\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: \"pointer\"\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1)\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: \"break-word\",\n\t\t\toverflowWrap: \"break-word\",\n\t\t\thyphens: \"auto\"\n\t\t}\n\t}\n}\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={clsx(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{\" \"}\n\t\t\t{label}{\" \"}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function WithDialogHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tid,\n\t\t\tdisableBackdropClick = false,\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\tonCloseDialog,\n\t\t\ttooltipTitle,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tvariant\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === \"function\" && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) await onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tif (onCloseDialog) {\n\t\t\t\tonCloseDialog()\n\t\t\t}\n\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Tooltip title={tooltipTitle || \"\"}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"inline-block\"\n\t\t\t\t\t\t{...(btnProps.fullWidth ? { width: 1 } : {})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\taria-label={btnLabel || \"\"}\n\t\t\t\t\t\t\tlabel={btnLabel || \"\"}\n\t\t\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t\t\t{...btnProps}\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t\t\t{ [classes.first]: color === \"first\" },\n\t\t\t\t\t\t\t\t{ [classes.second]: color === \"second\" }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t\t{(!iconButton && btnLabel) || \"\"}\n\t\t\t\t\t\t</ButtonComponent>\n\t\t\t\t\t</Box>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Dialog\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tdisableTypography\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: clsx(classes.dialogTitle, classes.breakLong)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"h4\">{title}</Typography>\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size=\"small\">\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","export function isValidNumberString(numStr) {\n\tif (typeof numStr !== \"string\") return false\n\treturn !isNaN(numStr) && !isNaN(parseFloat(numStr))\n}\n","import { providers, utils } from \"ethers\"\n\nimport { useTestnet, REACT_APP_RPC_URL } from \"./helpers/constants\"\n\nconst LocalProvider = REACT_APP_RPC_URL.startsWith(\"wss://\")\n\t? providers.WebSocketProvider\n\t: providers.JsonRpcProvider\n\n// TODO: async\nexport const getDefaultProvider = (function() {\n\tlet defaultProvider = new LocalProvider(\n\t\tREACT_APP_RPC_URL,\n\t\tuseTestnet ? \"goerli\" : \"homestead\"\n\t)\n\n\tdefaultProvider.on(\"error\", e => {\n\t\tconsole.error(\"WS Error\", e)\n\t\tdefaultProvider = new LocalProvider(\n\t\t\tREACT_APP_RPC_URL,\n\t\t\tuseTestnet ? \"goerli\" : \"homestead\"\n\t\t)\n\t})\n\n\treturn defaultProvider\n})()\n\nexport async function getSigner(chosenWalletType) {\n\t// console.log(\"chosenWalletType\", chosenWalletType)\n\tif (!chosenWalletType || !chosenWalletType.library)\n\t\tthrow new Error(\"Wallet not connected\")\n\treturn chosenWalletType.library.getSigner()\n}\n\nexport async function signMessage(signer, message) {\n\tif (!signer) {\n\t\tthrow new Error(\"errors.noSignerProvided\")\n\t}\n\tif (!message) {\n\t\tthrow new Error(\"errors.noMessageProvided\")\n\t}\n\n\tconst address = await signer.getAddress()\n\tlet sig = \"\"\n\n\tif (signer.provider.provider.isWalletConnect) {\n\t\tsig = await signer.provider.send(\"personal_sign\", [\n\t\t\tutils.hexlify(message),\n\t\t\taddress\n\t\t])\n\t} else {\n\t\tsig = await signer.signMessage(message)\n\t}\n\n\tconst verified = (await utils.verifyMessage(message, sig)) === address\n\n\tif (!verified) {\n\t\tthrow new Error(\"errors.signatureNotVerified\")\n\t}\n\n\treturn sig\n}\n","import { BigNumber, Contract } from \"ethers\"\nimport { splitSig, Transaction } from \"adex-protocol-eth/js\"\nimport IdentityABI from \"adex-protocol-eth/abi/Identity\"\nimport FactoryABI from \"adex-protocol-eth/abi/IdentityFactory\"\nimport { ADDR_FACTORY, ZERO } from \"../helpers/constants\"\nimport { getUserIdentity, zeroFeeTx, rawZeroFeeTx } from \"../helpers/identity\"\nimport { ADEX_RELAYER_HOST, PRICES_API_URL } from \"../helpers/constants\"\nimport { getSigner, getDefaultProvider, signMessage } from \"../ethereum\"\n\nconst defaultProvider = getDefaultProvider\n\nexport async function getPrices() {\n\ttry {\n\t\tconst res = await fetch(PRICES_API_URL)\n\t\tconst data = await res.json()\n\n\t\tif (!data.adex) {\n\t\t\tthrow new Error(\"errors.gettingPrices\")\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tUSD: data.adex.usd\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err)\n\t\treturn null\n\t}\n}\n\nexport async function executeOnIdentity(\n\tchosenWalletType,\n\ttxns,\n\topts = {},\n\tgasless,\n\textraGasLimit\n) {\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\tconst walletAddr = await signer.getAddress()\n\tconst { addr, bytecode } = getUserIdentity(walletAddr)\n\tconst identity = new Contract(addr, IdentityABI, signer)\n\n\tconst needsToDeploy =\n\t\t(await defaultProvider.getCode(identity.address)) === \"0x\"\n\tconst idNonce = needsToDeploy ? ZERO : await identity.nonce()\n\tconst toTuples = offset => ([to, data], i) =>\n\t\tzeroFeeTx(\n\t\t\tidentity.address,\n\t\t\tidNonce.add(i + offset),\n\t\t\tto,\n\t\t\tdata\n\t\t).toSolidityTuple()\n\tif (gasless) {\n\t\t// @TODO: we can use execute that calls into executeBySender here to only sign one tx\n\t\tconst txnsRaw = txns.map(([to, data], i) =>\n\t\t\trawZeroFeeTx(identity.address, idNonce.add(i), to, data)\n\t\t)\n\t\tconst signatures = []\n\t\tfor (const tx of txnsRaw) {\n\t\t\tconst sig = await signMessage(signer, new Transaction(tx).hash())\n\t\t\tsignatures.push(splitSig(sig))\n\t\t}\n\n\t\tconst executeUrl = `${ADEX_RELAYER_HOST}/staking/${walletAddr}/execute`\n\t\tconst res = await fetch(executeUrl, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures\n\t\t\t}),\n\t\t\theaders: { \"Content-Type\": \"application/json\" }\n\t\t})\n\t\tif (res.status === 500) throw new Error(\"errors.relayerInternal\")\n\t\treturn res.json()\n\t} else if (!needsToDeploy) {\n\t\tconst txnTuples = txns.map(toTuples(0))\n\n\t\tif (extraGasLimit) {\n\t\t\tconst estimatedGasLimit = await identity.estimateGas.executeBySender(\n\t\t\t\ttxnTuples,\n\t\t\t\topts\n\t\t\t)\n\t\t\topts.gasLimit = estimatedGasLimit.add(BigNumber.from(extraGasLimit))\n\t\t}\n\n\t\tawait identity.executeBySender(txnTuples, opts)\n\t} else {\n\t\t// Has offset because the execute() takes the first nonce\n\t\tconst txnTuples = txns.map(toTuples(1))\n\t\tconst executeTx = zeroFeeTx(\n\t\t\tidentity.address,\n\t\t\tidNonce,\n\t\t\tidentity.address,\n\t\t\tidentity.interface.encodeFunctionData(\"executeBySender\", [txnTuples])\n\t\t)\n\n\t\tconst sig = await signMessage(signer, executeTx.hash())\n\n\t\tconst factoryWithSigner = new Contract(ADDR_FACTORY, FactoryABI, signer)\n\n\t\tif (extraGasLimit) {\n\t\t\tconst estimatedGasLimit = await factoryWithSigner.deployAndExecute(\n\t\t\t\tbytecode,\n\t\t\t\t0,\n\t\t\t\t[executeTx.toSolidityTuple()],\n\t\t\t\t[splitSig(sig)],\n\t\t\t\topts\n\t\t\t)\n\t\t\topts.gasLimit = estimatedGasLimit.add(BigNumber.from(extraGasLimit))\n\t\t}\n\n\t\tawait factoryWithSigner.deployAndExecute(\n\t\t\tbytecode,\n\t\t\t0,\n\t\t\t[executeTx.toSolidityTuple()],\n\t\t\t[splitSig(sig)],\n\t\t\topts\n\t\t)\n\t}\n}\n\nexport function toChannelTuple(args) {\n\treturn [\n\t\targs.creator,\n\t\targs.tokenAddr,\n\t\targs.tokenAmount,\n\t\targs.validUntil,\n\t\targs.validators,\n\t\targs.spec\n\t]\n}\n","import { Contract } from \"ethers\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport ADXLoyaltyPoolTokenABI from \"../abi/ADXLoyaltyPoolToken\"\nimport {\n\tADDR_ADX,\n\tADDR_ADX_LOYALTY_TOKEN,\n\tZERO,\n\tMAX_UINT\n} from \"../helpers/constants\"\nimport { getSigner, getDefaultProvider } from \"../ethereum\"\n\nconst defaultProvider = getDefaultProvider\n\nconst provider = defaultProvider\nconst Token = new Contract(ADDR_ADX, ERC20ABI, provider)\nconst LoyaltyToken = new Contract(\n\tADDR_ADX_LOYALTY_TOKEN,\n\tADXLoyaltyPoolTokenABI,\n\tprovider\n)\nconst ZERO_ADDR = \"0x0000000000000000000000000000000000000000\"\nconst ADX_LP_TOKEN_DECIMALS_MUL = \"1000000000000000000\"\n\nexport const LOYALTY_POOP_EMPTY_STATS = {\n\tbalanceLpToken: ZERO,\n\tbalanceLpADX: ZERO,\n\trewardADX: ZERO,\n\tpoolTotalStaked: ZERO,\n\tcurrentAPY: 0,\n\tpoolDepositsLimit: ZERO,\n\tloaded: false,\n\tuserDataLoaded: false,\n\tunbondDays: 0\n}\n\nexport async function loadLoyaltyPoolData() {\n\tconst [poolTotalStaked, currentAPY, poolDepositsLimit] = await Promise.all([\n\t\tToken.balanceOf(ADDR_ADX_LOYALTY_TOKEN),\n\t\tLoyaltyToken.incentivePerTokenPerAnnum(),\n\t\tLoyaltyToken.maxTotalADX()\n\t])\n\n\treturn {\n\t\t...LOYALTY_POOP_EMPTY_STATS,\n\t\tpoolTotalStaked,\n\t\tpoolDepositsLimit,\n\t\tcurrentAPY:\n\t\t\tcurrentAPY\n\t\t\t\t.mul(1000)\n\t\t\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\t\t\t\t.toNumber() / 1000\n\t}\n}\n\nexport async function loadUserLoyaltyPoolsStats(walletAddr) {\n\tconst poolData = await loadLoyaltyPoolData()\n\tif (!walletAddr) {\n\t\treturn {\n\t\t\t...poolData,\n\t\t\tloaded: true\n\t\t}\n\t}\n\n\tconst [\n\t\tbalanceLpToken,\n\t\tcurrentShareValue,\n\t\tloyaltyTokenTransfersLogs,\n\t\tadexTokenTransfersLogs\n\t] = await Promise.all([\n\t\tLoyaltyToken.balanceOf(walletAddr),\n\t\tLoyaltyToken.shareValue(),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...LoyaltyToken.filters.Transfer(null, walletAddr, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...Token.filters.Transfer(walletAddr, ADDR_ADX_LOYALTY_TOKEN, null)\n\t\t})\n\t])\n\n\tconst balanceLpADX = balanceLpToken\n\t\t.mul(currentShareValue)\n\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\n\tconst currentBalance = {\n\t\t...poolData,\n\t\tbalanceLpToken,\n\t\tbalanceLpADX,\n\t\tloaded: true,\n\t\tuserDataLoaded: true\n\t}\n\n\tconst hasExternalLoyaltyTokenTransfers = loyaltyTokenTransfersLogs.some(\n\t\tlog => LoyaltyToken.interface.parseLog(log).args[0] !== ZERO_ADDR\n\t)\n\n\t// reward === null => unknown reward - can not be calculated\n\tif (hasExternalLoyaltyTokenTransfers) {\n\t\tcurrentBalance.allTimeRewardADX = null\n\t\treturn currentBalance\n\t}\n\n\tconst adxTransfersByTxHash = adexTokenTransfersLogs.reduce((txns, log) => {\n\t\ttxns[log.transactionHash] = log\n\t\treturn txns\n\t}, {})\n\n\tconst userDeposits = loyaltyTokenTransfersLogs.reduce(\n\t\t(deposits, log) => {\n\t\t\tconst axdTransferLog = adxTransfersByTxHash[log.transactionHash]\n\n\t\t\tif (axdTransferLog) {\n\t\t\t\tconst lpTokenLog = LoyaltyToken.interface.parseLog(log)\n\t\t\t\tconst adxTransferLog = Token.interface.parseLog(axdTransferLog)\n\n\t\t\t\tdeposits.adx = deposits.adx.add(lpTokenLog.args[2])\n\t\t\t\tdeposits.adxLPT = deposits.adxLPT.add(adxTransferLog.args[2])\n\t\t\t}\n\n\t\t\treturn deposits\n\t\t},\n\t\t{ adx: ZERO, adxLPT: ZERO }\n\t)\n\n\t// multiply by decimals to keep the precision\n\tconst avgDepositShareValue = userDeposits.adx.isZero()\n\t\t? ZERO\n\t\t: userDeposits.adxLPT.mul(ADX_LP_TOKEN_DECIMALS_MUL).div(userDeposits.adx)\n\n\tconst reward = balanceLpToken\n\t\t.mul(currentShareValue.sub(avgDepositShareValue))\n\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\n\t// console.log('reward', reward.toString())\n\t// console.log('balanceLpToken', balanceLpToken.toString())\n\t// console.log('balanceLpADX', balanceLpADX.toString())\n\n\tcurrentBalance.allTimeRewardADX = reward\n\n\treturn currentBalance\n}\n\nexport async function onLoyaltyPoolDeposit(\n\tstats,\n\tchosenWalletType,\n\tadxDepositAmount\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\tif (!adxDepositAmount) throw new Error(\"errors.noDepositAmount\")\n\tif (adxDepositAmount.isZero()) throw new Error(\"errors.zeroDeposit\")\n\tif (adxDepositAmount.gt(stats.userBalance))\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tconst walletAddr = await signer.getAddress()\n\n\tconst [allowanceADXLOYALTY] = await Promise.all([\n\t\tToken.allowance(walletAddr, LoyaltyToken.address)\n\t])\n\n\tconst setAllowance = allowanceADXLOYALTY.lt(adxDepositAmount)\n\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = new Contract(ADDR_ADX, ERC20ABI, signer)\n\t\tawait tokenWithSigner.approve(LoyaltyToken.address, MAX_UINT)\n\t}\n\n\tconst loyaltyTokenWithSigner = new Contract(\n\t\tADDR_ADX_LOYALTY_TOKEN,\n\t\tADXLoyaltyPoolTokenABI,\n\t\tsigner\n\t)\n\n\tawait loyaltyTokenWithSigner.enter(\n\t\tadxDepositAmount,\n\t\tsetAllowance ? { gasLimit: 150000 } : {}\n\t)\n}\n\nexport async function onLoyaltyPoolWithdraw(\n\tstats,\n\tchosenWalletType,\n\twithdrawAmountADX\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\n\tconst { balanceLpADX, balanceLpToken } = stats.loyaltyPoolStats\n\n\tif (!withdrawAmountADX) throw new Error(\"errors.noWithdrawAmount\")\n\tif (balanceLpADX.isZero()) throw new Error(\"errors.zeroDeposit\")\n\tif (withdrawAmountADX.gt(balanceLpADX))\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\n\tconst loyaltyTokenWithSigner = new Contract(\n\t\tADDR_ADX_LOYALTY_TOKEN,\n\t\tADXLoyaltyPoolTokenABI,\n\t\tsigner\n\t)\n\n\tconst lpTokensToWithdraw = withdrawAmountADX\n\t\t.mul(balanceLpToken)\n\t\t.div(balanceLpADX)\n\tawait loyaltyTokenWithSigner.leave(lpTokensToWithdraw)\n}\n","import { Contract, BigNumber, utils } from \"ethers\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport ADXTokenABI from \"../abi/ADXToken\"\n// import StakingABI from \"adex-protocol-eth/abi/Staking\"\nimport ADXSupplyControllerABI from \"../abi/ADXSupplyController\"\nimport StakingMigratorABI from \"../abi/StakingMigrator.json\"\nimport StakingPoolABI from \"../abi/StakingPool.json\"\nimport CoreABI from \"adex-protocol-eth/abi/AdExCore\"\nimport {\n\tADDR_ADX,\n\t// ADDR_STAKING,\n\tADDR_CORE,\n\tZERO,\n\tMAX_UINT,\n\tZERO_ADDR,\n\tADDR_STAKING_POOL,\n\tADDR_STAKING_MIGRATOR,\n\tADDR_ADX_SUPPLY_CONTROLLER\n} from \"../helpers/constants\"\nimport { getDefaultProvider, getSigner } from \"../ethereum\"\nimport { executeOnIdentity, toChannelTuple } from \"./common\"\n\nconst supplyControllerABI = ADXSupplyControllerABI\nconst secondsInYear = 60 * 60 * 24 * 365\nconst PRECISION = 1_000_000_000_000\n\nconst provider = getDefaultProvider\n\n// const Staking = new Contract(ADDR_STAKING, StakingABI, provider)\nconst ADXToken = new Contract(ADDR_ADX, ADXTokenABI, provider)\nconst ADXSupplyController = new Contract(\n\tADDR_ADX_SUPPLY_CONTROLLER,\n\tsupplyControllerABI,\n\tprovider\n)\nconst StakingPool = new Contract(ADDR_STAKING_POOL, StakingPoolABI, provider)\nconst StakingMigrator = new Contract(\n\tADDR_STAKING_MIGRATOR,\n\tStakingMigratorABI,\n\tprovider\n)\nconst Core = new Contract(ADDR_CORE, CoreABI, provider)\n\nconst POOL_SHARES_TOKEN_DECIMALS_MUL = \"1000000000000000000\"\n\nexport const STAKING_POOL_EVENT_TYPES = {\n\tenter: \"enter\",\n\tleave: \"leave\",\n\tburn: \"burn\",\n\twithdraw: \"withdraw\",\n\trageLeave: \"rageLeave\",\n\tshareTokensTransferIn: \"shareTokensTransferIn\",\n\tshareTokensTransferOut: \"shareTokensTransferOut\"\n}\n\nexport const STAKING_POOL_EMPTY_STATS = {\n\tshareValue: ZERO,\n\tbalanceShares: ZERO,\n\tcurrentBalanceADX: ZERO,\n\twithdrawnReward: ZERO,\n\tpoolTotalStaked: ZERO,\n\tpoolTotalBalanceADX: ZERO,\n\tsharesTotalSupply: ZERO,\n\ttotalRewards: ZERO,\n\tcurrentReward: ZERO,\n\twithdrawsADXTotal: ZERO,\n\tdepositsADXTotal: ZERO,\n\ttotalSharesInTransfers: ZERO,\n\tcurrentAPY: 0,\n\tstakings: [],\n\tuserLeaves: [],\n\thasActiveUnbondCommitments: false,\n\tleavesPendingToUnlockTotalMax: ZERO,\n\tleavesReadyToWithdrawTotalMax: ZERO,\n\tleavesPendingToUnlockTotalADX: ZERO,\n\tleavesReadyToWithdrawTotalADX: ZERO,\n\tunbondDays: 33,\n\tloaded: false,\n\tuserDataLoaded: false,\n\trageReceivedPromilles: 700,\n\ttimeToUnbond: 1,\n\tuserShare: 0\n}\n\nexport async function onMigrationToV5Finalize(\n\tchosenWalletType,\n\t{ amount, poolId, nonce },\n\tclaimPendingRewards,\n\tstakeWalletBalance,\n\twithdrawOnMigration, // TODO: check it here\n\tstats,\n\tenterTo\n) {\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\tconst walletAddr = await signer.getAddress()\n\n\tconst interactionAddress = enterTo ? utils.getAddress(enterTo) : walletAddr\n\n\tconst { userWalletBalance, tomPoolStats } = stats\n\tconst {\n\t\tidentityADXIncentiveChannels,\n\t\tidentityAdxRewardsAmount\n\t} = tomPoolStats\n\n\tconst willWithdrawOnMigration = withdrawOnMigration\n\n\tconst identityTxns = []\n\n\tlet extraAmount = ZERO\n\n\tif (claimPendingRewards) {\n\t\tidentityADXIncentiveChannels.forEach(channel => {\n\t\t\tconst channelTuple = toChannelTuple(channel.channelArgs)\n\t\t\tidentityTxns.push([\n\t\t\t\tCore.address,\n\t\t\t\tCore.interface.encodeFunctionData(\"channelWithdraw\", [\n\t\t\t\t\tchannelTuple,\n\t\t\t\t\tchannel.stateRoot,\n\t\t\t\t\tchannel.signatures,\n\t\t\t\t\tchannel.proof,\n\t\t\t\t\tchannel.amount\n\t\t\t\t])\n\t\t\t])\n\t\t})\n\n\t\tidentityTxns.push([\n\t\t\tADXToken.address,\n\t\t\tADXToken.interface.encodeFunctionData(\"transfer\", [\n\t\t\t\twillWithdrawOnMigration ? interactionAddress : ADDR_STAKING_MIGRATOR,\n\t\t\t\tidentityAdxRewardsAmount\n\t\t\t])\n\t\t])\n\n\t\textraAmount = extraAmount.add(identityAdxRewardsAmount)\n\t}\n\n\t// TODO: check allowance\n\tif (!willWithdrawOnMigration && stakeWalletBalance) {\n\t\tidentityTxns.push([\n\t\t\tADXToken.address,\n\t\t\tADXToken.interface.encodeFunctionData(\"transferFrom\", [\n\t\t\t\twalletAddr,\n\t\t\t\tADDR_STAKING_MIGRATOR,\n\t\t\t\tuserWalletBalance\n\t\t\t])\n\t\t])\n\n\t\textraAmount = extraAmount.add(userWalletBalance)\n\t}\n\n\tawait executeOnIdentity(\n\t\tchosenWalletType,\n\t\t[\n\t\t\t...identityTxns,\n\t\t\t[\n\t\t\t\tStakingMigrator.address,\n\t\t\t\tStakingMigrator.interface.encodeFunctionData(\"migrate\", [\n\t\t\t\t\tamount,\n\t\t\t\t\tnonce,\n\t\t\t\t\tinteractionAddress,\n\t\t\t\t\textraAmount\n\t\t\t\t])\n\t\t\t]\n\t\t],\n\t\t{},\n\t\tfalse,\n\t\tclaimPendingRewards || (!willWithdrawOnMigration && stakeWalletBalance)\n\t\t\t? 16_000\n\t\t\t: null\n\t)\n}\n\nexport async function onStakingPoolV5Deposit(\n\tstats,\n\tchosenWalletType,\n\tadxDepositAmount\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\tif (!adxDepositAmount) throw new Error(\"errors.noDepositAmount\")\n\tif (adxDepositAmount.isZero()) throw new Error(\"errors.zeroDeposit\")\n\tif (adxDepositAmount.gt(stats.userBalance))\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tconst walletAddr = await signer.getAddress()\n\n\tconst [allowanceStakingPool] = await Promise.all([\n\t\tADXToken.allowance(walletAddr, StakingPool.address)\n\t])\n\n\tconst setAllowance = allowanceStakingPool.lt(adxDepositAmount)\n\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = new Contract(ADDR_ADX, ERC20ABI, signer)\n\t\tawait tokenWithSigner.approve(StakingPool.address, MAX_UINT)\n\t}\n\n\tconst stakingPoolWithSigner = new Contract(\n\t\tADDR_STAKING_POOL,\n\t\tStakingPoolABI,\n\t\tsigner\n\t)\n\n\tawait stakingPoolWithSigner.enter(\n\t\tadxDepositAmount,\n\t\tsetAllowance ? { gasLimit: 136000 } : {}\n\t)\n}\n\nexport async function onStakingPoolV5Withdraw(\n\tstats,\n\tchosenWalletType,\n\t_,\n\tunbondCommitment\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\tif (!unbondCommitment) throw new Error(\"errors.noUnbondCommitmentProvided\")\n\t// TODO: validate unbondCommitment\n\n\tconst signer = await getSigner(chosenWalletType)\n\n\tconst stakingPoolWithSigner = new Contract(\n\t\tADDR_STAKING_POOL,\n\t\tStakingPoolABI,\n\t\tsigner\n\t)\n\n\tconst { shares, unlocksAt } = unbondCommitment\n\n\tawait stakingPoolWithSigner.withdraw(shares, unlocksAt, false)\n}\n\nexport async function onStakingPoolV5RageLeave(\n\tstats,\n\tchosenWalletType,\n\trageLeaveADXAmount\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\tif (!rageLeaveADXAmount) throw new Error(\"errors.noRageLeaveAAmount\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\n\tconst stakingPoolWithSigner = new Contract(\n\t\tADDR_STAKING_POOL,\n\t\tStakingPoolABI,\n\t\tsigner\n\t)\n\n\tconst { balanceShares, currentBalanceADX } = stats.tomStakingV5PoolStats\n\n\tconst sharesToWithdraw = rageLeaveADXAmount\n\t\t.mul(balanceShares)\n\t\t.div(currentBalanceADX)\n\n\tawait stakingPoolWithSigner.rageLeave(sharesToWithdraw, false)\n}\n\nexport async function onStakingPoolV5UnbondCommitment(\n\tstats,\n\tchosenWalletType,\n\tunbondCommitmentAmountADX\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\n\tconst { balanceShares, currentBalanceADX } = stats.tomStakingV5PoolStats\n\n\tif (!unbondCommitmentAmountADX) throw new Error(\"errors.noWithdrawAmount\")\n\tif (currentBalanceADX.isZero()) throw new Error(\"errors.zeroBalanceADX\")\n\tif (unbondCommitmentAmountADX.gt(currentBalanceADX))\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\n\tconst stakingPoolWithSigner = new Contract(\n\t\tADDR_STAKING_POOL,\n\t\tStakingPoolABI,\n\t\tsigner\n\t)\n\n\tconst sharesToWithdraw = unbondCommitmentAmountADX\n\t\t.mul(balanceShares)\n\t\t.div(currentBalanceADX)\n\n\tawait stakingPoolWithSigner.leave(sharesToWithdraw, false)\n}\n\nexport async function getTomStakingV5PoolData() {\n\tconst [\n\t\tpoolTotalStaked,\n\t\tmintableIncentive,\n\t\tsharesTotalSupply,\n\t\tincentivePerSecond,\n\t\trageReceivedPromilles = BigNumber.from(700),\n\t\tunbondDays = ZERO,\n\t\tshareValue = ZERO\n\t] = await Promise.all([\n\t\tADXToken.balanceOf(ADDR_STAKING_POOL),\n\t\tADXSupplyController.mintableIncentive(ADDR_STAKING_POOL),\n\t\tStakingPool.totalSupply(),\n\t\tADXSupplyController.incentivePerSecond(ADDR_STAKING_POOL),\n\t\tStakingPool.rageReceivedPromilles(), // TODO\n\t\tStakingPool.timeToUnbond(), // TODO\n\t\tStakingPool.shareValue() // TODO\n\t])\n\n\treturn {\n\t\tpoolTotalStaked,\n\t\tmintableIncentive,\n\t\tpoolTotalBalanceADX: poolTotalStaked.add(mintableIncentive),\n\t\tsharesTotalSupply,\n\t\tincentivePerSecond,\n\t\tshareValue,\n\t\trageReceivedPromilles: rageReceivedPromilles.toNumber(),\n\t\tunbondDays: unbondDays.div(60 * 60 * 24).toNumber(),\n\t\tcurrentAPY: incentivePerSecond.isZero()\n\t\t\t? 0\n\t\t\t: incentivePerSecond\n\t\t\t\t\t.mul(PRECISION)\n\t\t\t\t\t.mul(secondsInYear)\n\t\t\t\t\t.div(poolTotalStaked)\n\t\t\t\t\t.toNumber() / PRECISION\n\t}\n}\n\nexport async function loadUserTomStakingV5PoolStats({ walletAddr } = {}) {\n\tconst owner = walletAddr\n\tconst poolData = await getTomStakingV5PoolData()\n\tif (!owner) {\n\t\treturn {\n\t\t\t...STAKING_POOL_EMPTY_STATS,\n\t\t\t...poolData,\n\t\t\tloaded: true\n\t\t}\n\t}\n\n\tconst [\n\t\tbalanceShares,\n\t\tallEnterADXTransferLogs,\n\t\tleaveLogs,\n\t\twithdrawLogs,\n\t\trageLeaveLogs,\n\t\tsharesTokensTransfersInLogs,\n\t\tsharesTokensTransfersOutLogs\n\t] = await Promise.all([\n\t\tStakingPool.balanceOf(owner),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...ADXToken.filters.Transfer(null, ADDR_STAKING_POOL, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...StakingPool.filters.LogLeave(owner, null, null, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...StakingPool.filters.LogWithdraw(owner, null, null, null, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...StakingPool.filters.LogRageLeave(owner, null, null, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...StakingPool.filters.Transfer(null, owner, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...StakingPool.filters.Transfer(owner, null, null)\n\t\t})\n\t])\n\n\tconst { shareValue, sharesTotalSupply } = poolData\n\n\tconst currentBalanceADX = balanceShares\n\t\t.mul(shareValue)\n\t\t.div(POOL_SHARES_TOKEN_DECIMALS_MUL)\n\n\tconst userShare = sharesTotalSupply.isZero()\n\t\t? ZERO\n\t\t: balanceShares\n\t\t\t\t.mul(PRECISION)\n\t\t\t\t.div(sharesTotalSupply)\n\t\t\t\t.toNumber() / PRECISION\n\n\tconst enterAdexTokensByTxHash = allEnterADXTransferLogs.reduce(\n\t\t(byHash, log) => {\n\t\t\tbyHash[log.transactionHash] = log\n\t\t\treturn byHash\n\t\t},\n\t\t{}\n\t)\n\n\tconst sharesTokensTransfersIn = sharesTokensTransfersInLogs.map(log => {\n\t\tconst parsedLog = StakingPool.interface.parseLog(log)\n\n\t\tconst {\n\t\t\tfrom, // [0]\n\t\t\tamount // [2]\n\t\t} = parsedLog.args\n\n\t\treturn {\n\t\t\ttransactionHash: log.transactionHash,\n\t\t\tblockNumber: log.blockNumber,\n\t\t\tshares: amount,\n\t\t\ttype:\n\t\t\t\tfrom === ZERO_ADDR\n\t\t\t\t\t? STAKING_POOL_EVENT_TYPES.enter\n\t\t\t\t\t: STAKING_POOL_EVENT_TYPES.shareTokensTransferIn,\n\t\t\tfrom\n\t\t}\n\t})\n\n\t// Only out txns as we have logs for RageLEave and Withdraw and they only burns shares\n\t// TODO: detect innerBurn transactions to ZERO_ADDR (burned by the user itself)\n\tconst sharesTokensTransfersOut = sharesTokensTransfersOutLogs\n\t\t.map(log => {\n\t\t\tconst parsedLog = StakingPool.interface.parseLog(log)\n\n\t\t\tconst {\n\t\t\t\tto, // [1]\n\t\t\t\tamount // [2]\n\t\t\t} = parsedLog.args\n\n\t\t\treturn {\n\t\t\t\ttransactionHash: log.transactionHash,\n\t\t\t\tblockNumber: log.blockNumber,\n\t\t\t\tshares: amount,\n\t\t\t\ttype: STAKING_POOL_EVENT_TYPES.shareTokensTransferOut,\n\t\t\t\tto\n\t\t\t}\n\t\t})\n\t\t.filter(x => x.to !== ZERO_ADDR)\n\n\tconst {\n\t\tshareTokensEnterMintByHash,\n\t\tshareTokensTransfersInByTxHash\n\t} = sharesTokensTransfersIn.reduce(\n\t\t(txns, event) => {\n\t\t\tif (event.type === STAKING_POOL_EVENT_TYPES.enter) {\n\t\t\t\ttxns.shareTokensEnterMintByHash[event.transactionHash] = event\n\t\t\t}\n\n\t\t\tif (event.type === STAKING_POOL_EVENT_TYPES.shareTokensTransferIn) {\n\t\t\t\ttxns.shareTokensTransfersInByTxHash[event.transactionHash] = event\n\t\t\t}\n\n\t\t\treturn txns\n\t\t},\n\t\t{ shareTokensEnterMintByHash: {}, shareTokensTransfersInByTxHash: {} }\n\t)\n\n\tconst sharesTokensTransfersInFromExternal = Object.values(\n\t\tshareTokensTransfersInByTxHash\n\t)\n\n\tconst userEnters = Object.values(shareTokensEnterMintByHash)\n\t\t.map(sharesMintEvent => {\n\t\t\tconst adexTokenTransfersLog =\n\t\t\t\tenterAdexTokensByTxHash[sharesMintEvent.transactionHash]\n\n\t\t\tif (adexTokenTransfersLog) {\n\t\t\t\tconst parsedAdxLog = ADXToken.interface.parseLog(adexTokenTransfersLog)\n\n\t\t\t\treturn {\n\t\t\t\t\ttransactionHash: sharesMintEvent.transactionHash,\n\t\t\t\t\ttype: STAKING_POOL_EVENT_TYPES.enter,\n\t\t\t\t\tshares: sharesMintEvent.shares,\n\t\t\t\t\tadxAmount: parsedAdxLog.args.amount, // [2]\n\t\t\t\t\tfrom: parsedAdxLog.args.from,\n\t\t\t\t\tblockNumber: sharesMintEvent.blockNumber\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn null\n\t\t\t}\n\t\t})\n\t\t.filter(x => !!x)\n\n\tconst userWithdraws = withdrawLogs.map(log => {\n\t\tconst parsedWithdrawLog = StakingPool.interface.parseLog(log)\n\t\tconst {\n\t\t\tshares,\n\t\t\tunlocksAt,\n\t\t\tmaxTokens,\n\t\t\treceivedTokens\n\t\t} = parsedWithdrawLog.args\n\n\t\treturn {\n\t\t\ttransactionHash: log.transactionHash,\n\t\t\ttype: STAKING_POOL_EVENT_TYPES.withdraw,\n\t\t\tshares, //[1]\n\t\t\tunlocksAt, //[2]\n\t\t\tmaxTokens, //[3]\n\t\t\treceivedTokens, //[4]\n\t\t\tblockNumber: log.blockNumber\n\t\t}\n\t})\n\n\tconst userRageLeaves = rageLeaveLogs.map(log => {\n\t\tconst parsedRageLeaveLog = StakingPool.interface.parseLog(log)\n\n\t\tconst { shares, maxTokens, receivedTokens } = parsedRageLeaveLog.args\n\n\t\treturn {\n\t\t\ttransactionHash: log.transactionHash,\n\t\t\ttype: STAKING_POOL_EVENT_TYPES.rageLeave,\n\t\t\tshares, //[1]\n\t\t\tmaxTokens, //[2]\n\t\t\treceivedTokens,\n\t\t\tadxAmount: receivedTokens, //[3]\n\t\t\tblockNumber: log.blockNumber\n\t\t}\n\t})\n\n\tconst now = Date.now() / 1000\n\n\tconst userLeaves = await Promise.all(\n\t\tleaveLogs.map(async log => {\n\t\t\tconst parsedLog = StakingPool.interface.parseLog(log)\n\n\t\t\tconst { shares, unlocksAt, maxTokens } = parsedLog.args\n\n\t\t\tconst withdrawTx = userWithdraws.find(\n\t\t\t\tevent =>\n\t\t\t\t\tevent.unlocksAt.toString() === unlocksAt.toString() &&\n\t\t\t\t\tevent.shares.toString() === shares.toString() &&\n\t\t\t\t\tevent.maxTokens.toString() === maxTokens.toString()\n\t\t\t)\n\n\t\t\tconst adxValue = sharesTotalSupply.isZero()\n\t\t\t\t? ZERO // maxTokens\n\t\t\t\t: await StakingPool.unbondingCommitmentWorth(owner, shares, unlocksAt)\n\n\t\t\treturn {\n\t\t\t\ttransactionHash: log.transactionHash,\n\t\t\t\ttype: STAKING_POOL_EVENT_TYPES.leave,\n\t\t\t\tshares, // [1]\n\t\t\t\tunlocksAt, //[2]\n\t\t\t\tmaxTokens, // [3]\n\t\t\t\tadxValue,\n\t\t\t\tcanWithdraw: unlocksAt < now && !withdrawTx,\n\t\t\t\tblockNumber: log.blockNumber,\n\t\t\t\twithdrawTx\n\t\t\t}\n\t\t})\n\t)\n\n\tconst leavesPendingToUnlock = [...userLeaves].filter(\n\t\tevent => event.unlocksAt > now\n\t)\n\n\tconst leavesReadyToWithdraw = [...userLeaves].filter(\n\t\tevent => event.unlocksAt < now && !event.withdrawTx\n\t)\n\n\tconst leavesPendingToUnlockTotalMax = leavesPendingToUnlock.reduce(\n\t\t(a, b) => a.add(b.maxTokens),\n\t\tZERO\n\t)\n\n\tconst leavesPendingToUnlockTotalADX = leavesPendingToUnlock.reduce(\n\t\t(a, b) => a.add(b.adxValue),\n\t\tZERO\n\t)\n\n\tconst leavesReadyToWithdrawTotalMax = leavesReadyToWithdraw.reduce(\n\t\t(a, b) => a.add(b.maxTokens),\n\t\tZERO\n\t)\n\n\tconst leavesReadyToWithdrawTotalADX = leavesReadyToWithdraw.reduce(\n\t\t(a, b) => a.add(b.adxValue),\n\t\tZERO\n\t)\n\n\tconst stakings = userEnters\n\t\t.concat(userLeaves)\n\t\t.concat(userWithdraws)\n\t\t.concat(userRageLeaves)\n\t\t.concat(sharesTokensTransfersInFromExternal)\n\t\t.concat(sharesTokensTransfersOut)\n\t\t.sort((a, b) => a.blockNumber - b.blockNumber)\n\n\tconst withTimestamp = await Promise.all(\n\t\tstakings.map(async stakingEvent => {\n\t\t\tconst { timestamp } = await provider.getBlock(stakingEvent.blockNumber)\n\t\t\treturn {\n\t\t\t\t...stakingEvent,\n\t\t\t\ttimestamp: timestamp * 1000\n\t\t\t}\n\t\t})\n\t)\n\n\tconst {\n\t\t// depositsSharesWeightedSum,\n\t\t// depositsSharesTotal,\n\t\tdepositsADXTotal\n\t} = userEnters.reduce(\n\t\t(data, log) => {\n\t\t\t// data.depositsSharesWeightedSum = data.depositsSharesWeightedSum.add(\n\t\t\t// \tlog.shares.mul(log.adxAmount)\n\t\t\t// )\n\t\t\t// data.depositsSharesTotal = data.depositsSharesTotal.add(log.shares)\n\n\t\t\tdata.depositsADXTotal = data.depositsADXTotal.add(log.adxAmount)\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\tdepositsSharesWeightedSum: ZERO,\n\t\t\tdepositsSharesTotal: ZERO,\n\t\t\tdepositsADXTotal: ZERO\n\t\t}\n\t)\n\n\tconst {\n\t\t// withdrawsSharesWeightedSum,\n\t\t// withdrawsSharesTotal,\n\t\twithdrawsADXTotal\n\t} = userWithdraws.concat(userRageLeaves).reduce(\n\t\t(data, log) => {\n\t\t\t// data.withdrawsSharesWeightedSum = data.withdrawsSharesWeightedSum.add(\n\t\t\t// \tlog.shares.mul(log.adxAmount)\n\t\t\t// )\n\t\t\t// data.withdrawsSharesTotal = data.withdrawsSharesTotal.add(log.shares)\n\n\t\t\tdata.withdrawsADXTotal = data.withdrawsADXTotal.add(log.receivedTokens)\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\twithdrawsSharesWeightedSum: ZERO,\n\t\t\twithdrawsSharesTotal: ZERO,\n\t\t\twithdrawsADXTotal: ZERO\n\t\t}\n\t)\n\n\tconst totalSharesOutTransfers = sharesTokensTransfersOut.reduce(\n\t\t(a, b) => a.add(b.shares),\n\t\tZERO\n\t)\n\n\tconst totalSharesInTransfers = sharesTokensTransfersInFromExternal.reduce(\n\t\t(a, b) => a.add(b.shares),\n\t\tZERO\n\t)\n\n\tconst totalRewards = currentBalanceADX\n\t\t.add(withdrawsADXTotal)\n\t\t// .add(leavesPendingToUnlockTotalADX)\n\t\t// .add(leavesReadyToWithdrawTotalADX)\n\t\t.sub(depositsADXTotal)\n\n\tconst hasActiveUnbondCommitments = !![...userLeaves].filter(\n\t\tx => !x.withdrawTx\n\t).length\n\n\tconst stats = {\n\t\t...poolData,\n\t\tbalanceShares,\n\t\tcurrentBalanceADX,\n\t\ttotalRewards,\n\t\ttotalSharesInTransfers,\n\t\ttotalSharesOutTransfers,\n\t\tstakings: withTimestamp,\n\t\tuserLeaves,\n\t\tdepositsADXTotal,\n\t\twithdrawsADXTotal,\n\t\tleavesPendingToUnlockTotalMax,\n\t\tleavesReadyToWithdrawTotalMax,\n\t\tleavesPendingToUnlockTotalADX,\n\t\tleavesReadyToWithdrawTotalADX,\n\t\thasActiveUnbondCommitments,\n\t\tloaded: true,\n\t\tuserDataLoaded: true,\n\t\tuserShare\n\t}\n\n\treturn stats\n}\n","import { Contract } from \"ethers\"\nimport { BigNumber, utils } from \"ethers\"\nimport BalanceTree from \"adex-protocol-eth/js/BalanceTree\"\nimport StakingABI from \"adex-protocol-eth/abi/Staking\"\nimport CoreABI from \"adex-protocol-eth/abi/AdExCore\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport StakingMigratorABI from \"../abi/StakingMigrator.json\"\nimport {\n\tADDR_STAKING,\n\tADDR_ADX,\n\tMAX_UINT,\n\tZERO,\n\tPOOLS,\n\tADDR_CORE,\n\tADDR_STAKING_MIGRATOR,\n\tMIGRATION_UNBOND_BEFORE\n} from \"../helpers/constants\"\nimport { getBondId } from \"../helpers/bonds\"\nimport { getUserIdentity } from \"../helpers/identity\"\nimport { ADEX_RELAYER_HOST } from \"../helpers/constants\"\nimport { getSigner, getDefaultProvider } from \"../ethereum\"\nimport {\n\tloadUserLoyaltyPoolsStats,\n\tLOYALTY_POOP_EMPTY_STATS\n} from \"./loyaltyPoolActions\"\nimport { executeOnIdentity, toChannelTuple } from \"./common\"\nimport {\n\tSTAKING_POOL_EMPTY_STATS,\n\tloadUserTomStakingV5PoolStats\n} from \"./v5actions\"\n\nconst defaultProvider = getDefaultProvider\n\n// const ADDR_ADX_OLD = \"0x4470bb87d77b963a013db939be332f927f2b992e\"\n\nconst Staking = new Contract(ADDR_STAKING, StakingABI, defaultProvider)\nconst Token = new Contract(ADDR_ADX, ERC20ABI, defaultProvider)\nconst Core = new Contract(ADDR_CORE, CoreABI, defaultProvider)\nconst StakingMigrator = new Contract(\n\tADDR_STAKING_MIGRATOR,\n\tStakingMigratorABI,\n\tdefaultProvider\n)\n\n// const MAX_SLASH = BigNumber.from(\"1000000000000000000\")\nconst SECONDS_IN_YEAR = 365 * 24 * 60 * 60\n\n// 0.2 DAI or ADX\nconst OUTSTANDING_REWARD_THRESHOLD = BigNumber.from(\"200000000000000000\")\n\nexport const POOL_EMPTY_STATS = {\n\ttotalStake: ZERO,\n\ttotalCurrentTotalActiveStake: ZERO,\n\tcurrentAdxIncentiveAPY: 0,\n\tlastDaiFeesAPY: 0,\n\ttotalAPY: 0,\n\tuserRewardsADX: ZERO,\n\tuserRewardsDAI: ZERO,\n\tloaded: false,\n\tuserDataLoaded: false,\n\trewardChannels: [],\n\tuserBonds: []\n}\n\nexport const EMPTY_STATS = {\n\tconnectedWalletAddress: null,\n\tloaded: false,\n\tuserBonds: [],\n\tuserBalance: ZERO,\n\ttotalStake: ZERO,\n\ttotalStakeTom: ZERO,\n\trewardChannels: [],\n\tidentityADXIncentiveChannels: [],\n\tidentityAdxRewardsAmount: ZERO,\n\ttotalRewardADX: ZERO,\n\ttotalRewardDAI: ZERO,\n\ttomRewardADX: ZERO,\n\ttotalLockedOnDeposits: ZERO,\n\ttotalPendingToUnlock: ZERO,\n\ttotalUnlockedDeposits: ZERO,\n\ttotalStaked: ZERO,\n\tapyTomADX: 0,\n\tuserTotalStake: ZERO,\n\ttotalBalanceADX: ZERO,\n\tuserWalletBalance: ZERO,\n\tuserIdentityBalance: ZERO,\n\t// canExecuteGasless: false,\n\t// canExecuteGaslessError: null,\n\tloyaltyPoolStats: LOYALTY_POOP_EMPTY_STATS,\n\ttomPoolStats: POOL_EMPTY_STATS,\n\ttomStakingV5PoolStats: STAKING_POOL_EMPTY_STATS,\n\tprices: {},\n\tlegacyTokenBalance: ZERO,\n\tidentityDeployed: false,\n\tuserWalletToIdentityADXAllowance: ZERO,\n\ttomBondsMigrationData: {\n\t\thasToMigrate: false,\n\t\tbondToMigrate: null,\n\t\tisWithdrawMigration: false\n\t}\n}\n\nconst sumRewards = all =>\n\tall.map(x => x.outstandingReward).reduce((a, b) => a.add(b), ZERO)\n\nexport const isTomChannelId = channel =>\n\tchannel.channelArgs.validators.some(\n\t\tval => utils.id(`validator:${val}`) === POOLS[0].id\n\t)\n\nexport function getIncentiveChannelCurrentAPY({ channel, totalStake }) {\n\tconst { periodEnd, stats = {} } = channel\n\n\tconst {\n\t\tcurrentRewardPerSecond = \"478927203065134100\",\n\t\tcurrentTotalActiveStake\n\t} = stats\n\n\tconst poolTotalStake = BigNumber.from(currentTotalActiveStake || totalStake)\n\tconst distributionEnds = new Date(periodEnd).getTime()\n\tconst now = Date.now()\n\n\tif (now >= distributionEnds) {\n\t\treturn 0\n\t}\n\n\tconst secondsLeft = Math.floor((distributionEnds - now) / 1000)\n\n\tconst toDistribute = BigNumber.from(currentRewardPerSecond).mul(secondsLeft)\n\n\tconst precision = 10_000_000\n\n\tconst apy = toDistribute\n\t\t.mul(SECONDS_IN_YEAR)\n\t\t.mul(precision)\n\t\t.div(secondsLeft)\n\t\t.div(poolTotalStake)\n\n\treturn apy.toNumber() / precision\n}\n\nexport function getValidatorFeesAPY({ channel, prices, totalStake }) {\n\tif (!channel) {\n\t\treturn 0\n\t}\n\n\tconst { periodStart, periodEnd, channelArgs, stats = {} } = channel\n\tconst { tokenAmount } = channelArgs\n\tconst { currentTotalActiveStake } = stats\n\n\tconst totalActiveStaked = BigNumber.from(\n\t\tcurrentTotalActiveStake || totalStake || 0\n\t)\n\tconst pricePrecision = 1_000_000\n\n\tconst totalStakeInDaiValue = BigNumber.from(totalActiveStaked)\n\t\t.mul(BigNumber.from(Math.floor((prices.USD || 0.2) * pricePrecision)))\n\t\t.div(pricePrecision)\n\n\tconst toDistribute = BigNumber.from(tokenAmount)\n\n\tconst distributionSeconds = Math.floor(\n\t\t(new Date(periodEnd) - new Date(periodStart)) / 1000\n\t)\n\n\tconst apy = toDistribute\n\t\t.mul(1000)\n\t\t.mul(\n\t\t\tBigNumber.from(SECONDS_IN_YEAR)\n\t\t\t\t.mul(1000)\n\t\t\t\t.div(distributionSeconds)\n\t\t)\n\t\t.div(totalStakeInDaiValue)\n\n\treturn apy.toNumber() / (1000 * 1000)\n}\n\nfunction getChannelAPY({ channel, prices, totalStake, type }) {\n\tif (type === \"fees\") {\n\t\treturn getValidatorFeesAPY({ channel, prices, totalStake })\n\t}\n\tif (type === \"incentive\") {\n\t\treturn getIncentiveChannelCurrentAPY({ channel, totalStake })\n\t}\n}\n\nexport async function loadStats(chosenWalletType, prices) {\n\tconst [totalStake, userStats] = await Promise.all([\n\t\tToken.balanceOf(ADDR_STAKING),\n\t\tloadUserStats(chosenWalletType, prices)\n\t])\n\n\treturn { ...userStats, ...totalStake, totalStakeTom: totalStake }\n}\n\nexport async function loadActivePoolsStats(prices) {\n\tconst tomPoolStats = await getPoolStats(POOLS[0], prices)\n\n\treturn { tomPoolStats }\n}\n\nexport async function getPoolStats(pool, prices) {\n\tconst rewardChannels = await getRewardChannels(pool)\n\tconst totalStake = await Token.balanceOf(ADDR_STAKING)\n\n\tconst now = Date.now()\n\n\tconst adxIncentiveRewardsChannels = rewardChannels.filter(\n\t\tx =>\n\t\t\tx.channelArgs.tokenAddr === ADDR_ADX &&\n\t\t\t// hack to remove the legacy channel which ended 3 days earlier than periodEnd\n\t\t\tx._id !==\n\t\t\t\t\"0x30d87bab0ef1e7f8b4c3b894ca2beed41bbd54c481f31e5791c1e855c9dbf4ba\" &&\n\t\t\tnow <= new Date(x.periodEnd).getTime() &&\n\t\t\tnow > new Date(x.periodStart).getTime()\n\t)\n\n\tconst feeRewardsChannels = rewardChannels.filter(\n\t\tx => x.channelArgs.tokenAddr !== ADDR_ADX\n\t)\n\n\tconst currentActiveIncentiveChannels = adxIncentiveRewardsChannels.sort(\n\t\t(a, b) => b.channelArgs.validUntil - a.channelArgs.validUntil\n\t)\n\n\tconst lastFeeRewardChannel = feeRewardsChannels.sort(\n\t\t(a, b) => b.channelArgs.validUntil - a.channelArgs.validUntil\n\t)[0]\n\n\tconst totalCurrentTotalActiveStake = currentActiveIncentiveChannels.reduce(\n\t\t(totalCurrent, channel) =>\n\t\t\ttotalCurrent.add((channel.stats || {}).currentTotalActiveStake || ZERO),\n\t\tZERO\n\t)\n\n\tconst currentAdxIncentiveAPY = currentActiveIncentiveChannels.reduce(\n\t\t(totalAPY, channel) =>\n\t\t\ttotalAPY +\n\t\t\tgetIncentiveChannelCurrentAPY({\n\t\t\t\tchannel,\n\t\t\t\ttotalStake: totalCurrentTotalActiveStake\n\t\t\t}),\n\t\t0\n\t)\n\n\tconst lastDaiFeesAPY = getValidatorFeesAPY({\n\t\tchannel: lastFeeRewardChannel,\n\t\ttotalStake,\n\t\tprices\n\t})\n\n\tconst stats = {\n\t\t...POOL_EMPTY_STATS,\n\t\tcurrentAdxIncentiveAPY,\n\t\tlastDaiFeesAPY,\n\t\ttotalAPY: currentAdxIncentiveAPY + lastDaiFeesAPY,\n\t\tloaded: true,\n\t\ttotalStake,\n\t\ttotalCurrentTotalActiveStake\n\t}\n\n\treturn stats\n}\n\nexport async function loadUserStats(chosenWalletType, prices) {\n\tconst totalStake = await Token.balanceOf(ADDR_STAKING)\n\n\tif (!chosenWalletType.name) {\n\t\tconst loyaltyPoolStats = await loadUserLoyaltyPoolsStats()\n\t\tconst poolStats = await loadActivePoolsStats(prices)\n\t\tconst tomStakingV5PoolStats = await loadUserTomStakingV5PoolStats()\n\n\t\treturn {\n\t\t\t...EMPTY_STATS,\n\t\t\tloyaltyPoolStats,\n\t\t\t...poolStats,\n\t\t\ttomStakingV5PoolStats,\n\t\t\tprices,\n\t\t\tloaded: true\n\t\t}\n\t}\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) return { ...EMPTY_STATS, loaded: true }\n\n\tconst addr = await signer.getAddress()\n\tconst identityAddr = getUserIdentity(addr).addr\n\tconst identityDeployed =\n\t\t(await defaultProvider.getCode(identityAddr)) !== \"0x\"\n\n\tconst [\n\t\t{\n\t\t\tuserBonds: userBondsData,\n\t\t\tuserBalance,\n\t\t\tuserWalletBalance,\n\t\t\tuserIdentityBalance\n\t\t},\n\t\ttomPoolUserRewardChannels,\n\t\t// { canExecuteGasless, canExecuteGaslessError },\n\t\tloyaltyPoolStats,\n\t\tpoolsStats,\n\t\ttomStakingV5PoolStatsWithUserData,\n\t\tmigrationBonusPromilles = BigNumber.from(1048),\n\t\tuserWalletToIdentityADXAllowance\n\t] = await Promise.all([\n\t\tloadBondStats(addr, identityAddr), // TODO: TOM only at the moment\n\t\tgetRewards(addr, POOLS[0], prices, totalStake),\n\t\t// getGaslessInfo(addr),\n\t\tloadUserLoyaltyPoolsStats(addr),\n\t\tloadActivePoolsStats(prices),\n\t\tloadUserTomStakingV5PoolStats({ walletAddr: addr }),\n\t\tStakingMigrator.WITH_BONUS_PROMILLES(), // TODO: uncomment when migrator deployed\n\t\tToken.allowance(addr, identityAddr)\n\t])\n\n\tconst { tomPoolStats } = poolsStats\n\n\tconst tomAdxRewardsChannels = [...tomPoolUserRewardChannels].filter(\n\t\tx => x.type === \"incentive\"\n\t)\n\n\tconst identityADXIncentiveChannels = [...tomAdxRewardsChannels].filter(\n\t\tchannel => channel.claimFrom !== addr && channel.outstandingReward.gt(ZERO)\n\t)\n\n\tconst identityAdxRewardsAmount = sumRewards(identityADXIncentiveChannels)\n\n\tconst tomRewardADX = sumRewards(tomAdxRewardsChannels)\n\n\tconst tomPoolDaiRewardsChannels = [...tomPoolUserRewardChannels].filter(\n\t\tx => x.type === \"fees\"\n\t)\n\n\tconst tomRewardDAI = sumRewards(tomPoolDaiRewardsChannels)\n\n\t// console.log(\"migrationBonusPromille\", migrationBonusPromille)\n\t// console.log(\"identityAdxRewardsAmount\", identityAdxRewardsAmount)\n\n\tconst userBonds = userBondsData.map(bond => ({\n\t\t...bond,\n\t\tmigrationReward: bond.amount\n\t\t\t.mul(migrationBonusPromilles)\n\t\t\t.div(1000)\n\t\t\t.sub(bond.amount)\n\t}))\n\n\t// console.log(\"userBonds\", userBonds)\n\n\tconst userTotalStake = userBonds\n\t\t.filter(x => x.status === \"Active\")\n\t\t.map(x => x.currentAmount)\n\t\t.reduce((a, b) => a.add(b), ZERO)\n\n\t// NOTE: with the migration enabled All unbond requests will be available for withdraw\n\tconst tomUnbondRequestedWithdraw = userBonds\n\t\t.filter(x => x.status === \"UnbondRequested\")\n\t\t.map(x => x.currentAmount)\n\t\t.reduce((a, b) => a.add(b), ZERO)\n\n\tconst tomPoolStatsWithUserData = {\n\t\t...tomPoolStats,\n\t\tidentityADXIncentiveChannels,\n\t\tidentityAdxRewardsAmount,\n\t\tuserRewardsADX: tomRewardADX,\n\t\tuserRewardsDAI: tomRewardDAI,\n\t\tuserDataLoaded: true,\n\t\trewardChannels: tomPoolUserRewardChannels,\n\t\tuserBonds\n\t}\n\n\tconst {\n\t\tcurrentBalanceADX,\n\t\tleavesPendingToUnlockTotalADX,\n\t\tleavesReadyToWithdrawTotalADX\n\t} = tomStakingV5PoolStatsWithUserData\n\n\tconst { balanceLpADX } = loyaltyPoolStats\n\n\tconst totalLockedOnDeposits = currentBalanceADX\n\t\t.sub(leavesPendingToUnlockTotalADX)\n\t\t.sub(leavesReadyToWithdrawTotalADX)\n\n\tconst totalPendingToUnlock = leavesPendingToUnlockTotalADX\n\tconst totalUnlockedDeposits = balanceLpADX\n\t\t.add(leavesReadyToWithdrawTotalADX)\n\t\t.add(tomUnbondRequestedWithdraw) // unlocked with migration\n\n\tconst totalStaked = userTotalStake\n\t\t.add(totalLockedOnDeposits)\n\t\t.add(totalPendingToUnlock)\n\t\t.add(totalUnlockedDeposits)\n\t\t.add(tomRewardADX)\n\n\tconst totalBalanceADX = userBalance.add(totalStaked)\n\n\tconst migratableBonds = [...userBonds].filter(\n\t\tx => x.status !== \"Unbonded\" && x.status !== \"Migrated\"\n\t)\n\n\tconst bondToMigrate = migratableBonds.length === 1 ? migratableBonds[0] : null\n\n\tconst tomBondsMigrationData = {\n\t\thasToMigrate: !!migratableBonds.length,\n\t\tbondToMigrate,\n\t\tisWithdrawMigration:\n\t\t\tbondToMigrate &&\n\t\t\tbondToMigrate.status === \"UnbondRequested\" &&\n\t\t\tbondToMigrate.willUnlock &&\n\t\t\tbondToMigrate.willUnlock.getTime() < MIGRATION_UNBOND_BEFORE\n\t}\n\n\treturn {\n\t\tidentityAddr,\n\t\tidentityDeployed,\n\t\tconnectedWalletAddress: addr,\n\t\tuserBonds,\n\t\tuserBalance, // ADX on wallet\n\t\tloaded: true,\n\t\trewardChannels: tomPoolUserRewardChannels,\n\t\ttotalRewardADX: tomRewardADX,\n\t\ttotalRewardDAI: tomRewardDAI,\n\t\ttomRewardADX,\n\t\tuserTotalStake,\n\t\ttotalStaked,\n\t\ttotalBalanceADX, // Wallet + Stake + Reward\n\t\tuserWalletBalance,\n\t\tuserIdentityBalance,\n\t\ttotalLockedOnDeposits,\n\t\ttotalUnlockedDeposits,\n\t\ttotalPendingToUnlock,\n\t\t// canExecuteGasless,\n\t\t// canExecuteGaslessError,\n\t\tloyaltyPoolStats,\n\t\ttomPoolStats: tomPoolStatsWithUserData,\n\t\ttomStakingV5PoolStats: tomStakingV5PoolStatsWithUserData,\n\t\tprices,\n\t\ttomBondsMigrationData,\n\t\tuserWalletToIdentityADXAllowance\n\t}\n}\n\nexport async function loadBondStats(addr, identityAddr) {\n\tconst [\n\t\t[userWalletBalance, userIdentityBalance],\n\t\tlogs,\n\t\t// slashLogs,\n\t\tmigrationLogs = []\n\t] = await Promise.all([\n\t\tPromise.all([Token.balanceOf(addr), Token.balanceOf(identityAddr)]),\n\t\tdefaultProvider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\taddress: ADDR_STAKING,\n\t\t\ttopics: [null, utils.hexZeroPad(identityAddr, 32)]\n\t\t}),\n\t\t// defaultProvider.getLogs({\n\t\t// \tfromBlock: 0,\n\t\t// \t...Staking.filters.LogSlash(null, null)\n\t\t// }),\n\t\tdefaultProvider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...StakingMigrator.filters.LogBondMigrated(identityAddr, null)\n\t\t})\n\t])\n\n\tconst userBalance = userWalletBalance.add(userIdentityBalance)\n\n\t// const slashedByPool = slashLogs.reduce((pools, log) => {\n\t// \tconst { poolId, newSlashPts } = Staking.interface.parseLog(log).args\n\t// \tpools[poolId] = newSlashPts\n\t// \treturn pools\n\t// }, {})\n\n\tconst migrationLogsByBondId = migrationLogs.reduce((byHash, log) => {\n\t\tconst { bondId } = StakingMigrator.interface.parseLog(log).args\n\t\tbyHash[bondId] = log\n\t\treturn byHash\n\t}, {})\n\n\tconst userBonds = logs.reduce((bonds, log) => {\n\t\tconst topic = log.topics[0]\n\t\t// TODO: add is migrations Unbond request and migrated status\n\t\t// status = \"MigrationRequested\"\n\n\t\tif (topic === Staking.interface.getEventTopic(\"LogBond\")) {\n\t\t\tconst vals = Staking.interface.parseLog(log).args\n\t\t\tconst { owner, amount, poolId, nonce, slashedAtStart, time } = vals\n\t\t\tconst bond = { owner, amount, poolId, nonce, slashedAtStart, time }\n\n\t\t\tconst id = getBondId(bond)\n\n\t\t\tconst bondMigrationLog = migrationLogsByBondId[id]\n\n\t\t\tconst bondWithData = {\n\t\t\t\tid,\n\t\t\t\tstatus: bondMigrationLog ? \"Migrated\" : \"Active\",\n\t\t\t\tcurrentAmount: bond.amount,\n\t\t\t\t// .mul(MAX_SLASH.sub(slashedByPool[poolId] || ZERO))\n\t\t\t\t// .div(MAX_SLASH.sub(slashedAtStart)),\n\t\t\t\t...bond\n\t\t\t}\n\n\t\t\tconst replacedBondIndex = bonds.findIndex(x => x.id === bondWithData.id)\n\n\t\t\tif (replacedBondIndex > -1) {\n\t\t\t\tbonds[replacedBondIndex] = bondWithData\n\t\t\t} else {\n\t\t\t\tbonds.push(bondWithData)\n\t\t\t}\n\t\t} else if (\n\t\t\ttopic === Staking.interface.getEventTopic(\"LogUnbondRequested\")\n\t\t) {\n\t\t\t// NOTE: assuming that .find() will return something is safe, as long as the logs are properly ordered\n\t\t\tconst { bondId, willUnlock } = Staking.interface.parseLog(log).args\n\t\t\tconst bond = bonds.find(({ id }) => id === bondId)\n\n\t\t\tif (bond.status !== \"Migrated\") {\n\t\t\t\tbond.status = \"UnbondRequested\"\n\t\t\t}\n\n\t\t\tbond.willUnlock = new Date(willUnlock * 1000)\n\t\t} else if (topic === Staking.interface.getEventTopic(\"LogUnbonded\")) {\n\t\t\tconst { bondId } = Staking.interface.parseLog(log).args\n\t\t\tconst bond = bonds.find(({ id }) => id === bondId)\n\t\t\tbond.status = \"Unbonded\"\n\t\t}\n\n\t\treturn bonds\n\t}, [])\n\n\treturn {\n\t\tuserBonds,\n\t\tuserBalance,\n\t\tuserWalletBalance,\n\t\tuserIdentityBalance\n\t}\n}\n\nexport async function getRewardChannels(rewardPool) {\n\tconst resp = await fetch(`${rewardPool.url}/fee-rewards`)\n\tconst rewardChannels = await resp.json()\n\treturn rewardChannels\n}\n\nexport async function getRewards(addr, rewardPool, prices, totalStake) {\n\tconst identityAddr = getUserIdentity(addr).addr\n\tconst rewardChannels = await getRewardChannels(rewardPool)\n\tconst validUntil = Math.floor(Date.now() / 1000)\n\tconst forUser = await Promise.all(\n\t\trewardChannels.map(async rewardChannel => {\n\t\t\tif (rewardChannel.channelArgs.validUntil < validUntil) return null\n\t\t\tconst claimFrom = rewardChannel.balances[addr] ? addr : identityAddr\n\t\t\tif (!rewardChannel.balances[claimFrom]) return null\n\t\t\tconst balanceTree = new BalanceTree(rewardChannel.balances)\n\t\t\tconst outstandingReward = BigNumber.from(\n\t\t\t\trewardChannel.balances[claimFrom]\n\t\t\t).sub(await Core.withdrawnPerUser(rewardChannel.channelId, claimFrom))\n\t\t\tconst type =\n\t\t\t\trewardChannel.channelArgs.tokenAddr === ADDR_ADX ? \"incentive\" : \"fees\"\n\n\t\t\t// Min threshold only for fees channels\n\t\t\tif (type === \"fees\" && outstandingReward.lt(OUTSTANDING_REWARD_THRESHOLD))\n\t\t\t\treturn null\n\n\t\t\treturn {\n\t\t\t\t...rewardChannel,\n\t\t\t\toutstandingReward,\n\t\t\t\tclaimFrom,\n\t\t\t\tproof: balanceTree.getProof(claimFrom),\n\t\t\t\tstateRoot: balanceTree.mTree.getRoot(),\n\t\t\t\tamount: rewardChannel.balances[claimFrom],\n\t\t\t\ttype,\n\t\t\t\tcurrentAPY: getChannelAPY({\n\t\t\t\t\tchannel: rewardChannel,\n\t\t\t\t\tprices,\n\t\t\t\t\ttotalStake,\n\t\t\t\t\ttype\n\t\t\t\t}),\n\t\t\t\tpoolId: rewardPool.id\n\t\t\t}\n\t\t})\n\t)\n\treturn forUser.filter(x => x)\n}\n\nexport async function getGaslessInfo(addr) {\n\ttry {\n\t\tconst res = await fetch(`${ADEX_RELAYER_HOST}/staking/${addr}/can-execute`)\n\t\tconst resData = await res.json()\n\t\tconst canExecuteGasless = res.status === 200 && resData.canExecute === true\n\t\tconst canExecuteGaslessError = canExecuteGasless\n\t\t\t? null\n\t\t\t: {\n\t\t\t\t\tmessage: `relayerResErrors.${resData.message}`,\n\t\t\t\t\tdata: resData.data\n\t\t\t  }\n\n\t\treturn {\n\t\t\tcanExecuteGasless,\n\t\t\tcanExecuteGaslessError\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err)\n\t\treturn {\n\t\t\tcanExecuteGasless: false,\n\t\t\tcanExecuteGaslessError: {\n\t\t\t\tmessage: \"errors.gaslessStakingTempOff\"\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport async function createNewBond(\n\tstats,\n\tchosenWalletType,\n\t{ amount, poolId, nonce },\n\tgasless\n) {\n\tif (!poolId) return\n\tif (!stats.userBalance) return\n\tif (amount.gt(stats.userBalance)) throw new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\n\tconst walletAddr = await signer.getAddress()\n\tconst { addr } = getUserIdentity(walletAddr)\n\n\tconst bond = [\n\t\tamount,\n\t\tpoolId,\n\t\tnonce || BigNumber.from(Math.floor(Date.now() / 1000))\n\t]\n\n\tconst [allowance, allowanceStaking, balanceOnIdentity] = await Promise.all([\n\t\tToken.allowance(walletAddr, addr),\n\t\tToken.allowance(addr, Staking.address),\n\t\tToken.balanceOf(addr)\n\t])\n\n\t// Edge case: if we're gasless, the ADX is already on the identity and it's not deployed (constructor will be executed)\n\tif (\n\t\tgasless &&\n\t\tamount.eq(balanceOnIdentity) &&\n\t\t(await defaultProvider.getCode(addr)) === \"0x\"\n\t) {\n\t\treturn executeOnIdentity(chosenWalletType, [], {}, true)\n\t}\n\t// @TODO consider handling this edge case in non-gasless cases when there's some ADX on the identity\n\t// or at least `if (needsDeploying && balanceOnIdentity.gt(ZERO)) throw` cause otherwise the tx would just fail\n\t// because the constructor will bond this amount first\n\t// see https://github.com/AdExNetwork/adex-staking/issues/71\n\n\t// Eg bond amount is 10 but we only have 60, we need another 40\n\tconst needed = amount.sub(balanceOnIdentity)\n\tconst setAllowance = needed.gt(ZERO) && !allowance.gte(amount)\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = new Contract(ADDR_ADX, ERC20ABI, signer)\n\t\tawait tokenWithSigner.approve(addr, MAX_UINT)\n\t}\n\n\tif (\n\t\t!stats.identityDeployed &&\n\t\tbalanceOnIdentity.gt(ZERO) &&\n\t\tneeded.gt(ZERO)\n\t) {\n\t\tthrow new Error(\"errors.cantDeployAndStakeMore\")\n\t}\n\n\tlet identityTxns = []\n\tif (needed.gt(ZERO))\n\t\tidentityTxns.push([\n\t\t\tToken.address,\n\t\t\tToken.interface.encodeFunctionData(\"transferFrom\", [\n\t\t\t\twalletAddr,\n\t\t\t\taddr,\n\t\t\t\tneeded\n\t\t\t])\n\t\t])\n\tif (allowanceStaking.lt(amount))\n\t\tidentityTxns.push([\n\t\t\tToken.address,\n\t\t\tToken.interface.encodeFunctionData(\"approve\", [Staking.address, MAX_UINT])\n\t\t])\n\n\tconst active = stats.userBonds.find(\n\t\tx => x.status === \"Active\" && x.poolId === poolId\n\t)\n\tconst stakingData = active\n\t\t? Staking.interface.encodeFunctionData(\"replaceBond\", [\n\t\t\t\tactive,\n\t\t\t\t[active.amount.add(amount), poolId, active.nonce]\n\t\t  ])\n\t\t: Staking.interface.encodeFunctionData(\"addBond\", [bond])\n\tidentityTxns.push([Staking.address, stakingData])\n\n\treturn executeOnIdentity(\n\t\tchosenWalletType,\n\t\tidentityTxns,\n\t\tsetAllowance ? { gasLimit: 450000 } : {},\n\t\tgasless\n\t)\n}\n\nexport async function onUnbondOrRequest(\n\tisUnbond,\n\tchosenWalletType,\n\t{ amount, poolId, nonce }\n) {\n\tconst bond = [amount, poolId, nonce || ZERO]\n\tif (isUnbond) {\n\t\tconst signer = await getSigner(chosenWalletType)\n\t\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\t\tconst walletAddr = await signer.getAddress()\n\t\tawait executeOnIdentity(chosenWalletType, [\n\t\t\t[Staking.address, Staking.interface.encodeFunctionData(\"unbond\", [bond])],\n\t\t\t[\n\t\t\t\tToken.address,\n\t\t\t\tToken.interface.encodeFunctionData(\"transfer\", [walletAddr, amount])\n\t\t\t]\n\t\t])\n\t} else {\n\t\tawait executeOnIdentity(chosenWalletType, [\n\t\t\t[\n\t\t\t\tStaking.address,\n\t\t\t\tStaking.interface.encodeFunctionData(\"requestUnbond\", [bond])\n\t\t\t]\n\t\t])\n\t}\n}\n\nexport async function claimRewards(chosenWalletType, rewardChannels) {\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\tconst walletAddr = await signer.getAddress()\n\n\t// @TODO: this is obsolete, it should be removed at some point (when no more DAI rewards on wallets are left)\n\tconst coreWithSigner = new Contract(ADDR_CORE, CoreABI, signer)\n\tconst legacyChannels = rewardChannels.filter(\n\t\tchannel => channel.claimFrom === walletAddr\n\t)\n\tfor (const channel of legacyChannels) {\n\t\tconst channelTuple = toChannelTuple(channel.channelArgs)\n\t\tawait coreWithSigner.channelWithdraw(\n\t\t\tchannelTuple,\n\t\t\tchannel.stateRoot,\n\t\t\tchannel.signatures,\n\t\t\tchannel.proof,\n\t\t\tchannel.amount\n\t\t)\n\t}\n\n\tconst identityChannels = rewardChannels.filter(\n\t\tchannel => channel.claimFrom !== walletAddr\n\t)\n\tconst toTransfer = {}\n\tidentityChannels.forEach(channel => {\n\t\tconst { tokenAddr } = channel.channelArgs\n\t\tconst amnt = toTransfer[tokenAddr] || ZERO\n\t\ttoTransfer[tokenAddr] = amnt.add(channel.outstandingReward)\n\t})\n\tconst identityTxns = identityChannels\n\t\t.map(channel => {\n\t\t\tconst channelTuple = toChannelTuple(channel.channelArgs)\n\t\t\treturn [\n\t\t\t\tCore.address,\n\t\t\t\tCore.interface.encodeFunctionData(\"channelWithdraw\", [\n\t\t\t\t\tchannelTuple,\n\t\t\t\t\tchannel.stateRoot,\n\t\t\t\t\tchannel.signatures,\n\t\t\t\t\tchannel.proof,\n\t\t\t\t\tchannel.amount\n\t\t\t\t])\n\t\t\t]\n\t\t})\n\t\t.concat(\n\t\t\tObject.entries(toTransfer).map(([tokenAddr, amount]) => [\n\t\t\t\ttokenAddr,\n\t\t\t\tToken.interface.encodeFunctionData(\"transfer\", [walletAddr, amount])\n\t\t\t])\n\t\t)\n\n\tif (identityTxns.length) {\n\t\tawait executeOnIdentity(chosenWalletType, identityTxns)\n\t}\n}\n\nexport async function restake(\n\tchosenWalletType,\n\t{ rewardChannels, userBonds },\n\tgasless\n) {\n\tconst channels = rewardChannels.filter(\n\t\tx =>\n\t\t\tx.channelArgs.tokenAddr === ADDR_ADX &&\n\t\t\t(gasless ? isTomChannelId(x) : true)\n\t)\n\tif (!channels.length) throw new Error(\"errors.noChannelsToEarnFrom\")\n\n\t// @TODO how does the user determine the pool here? For now there's only one, but after?\n\tconst collected = channels\n\t\t.map(x => x.outstandingReward)\n\t\t.reduce((a, b) => a.add(b))\n\tconst userBond =\n\t\tuserBonds.find(x => x.status === \"Active\") ||\n\t\tuserBonds.find(x => x.status === \"UnbondRequested\")\n\tif (!userBond) throw new Error(\"errors.noActiveBonds\")\n\tconst { amount, poolId, nonce } = userBond\n\tconst bond = [amount, poolId, nonce]\n\tconst newBond = [amount.add(collected), poolId, nonce]\n\n\tconst identityTxns = channels\n\t\t.map(rewardChannel => {\n\t\t\tconst channelTuple = toChannelTuple(rewardChannel.channelArgs)\n\t\t\treturn [\n\t\t\t\tCore.address,\n\t\t\t\tCore.interface.encodeFunctionData(\"channelWithdraw\", [\n\t\t\t\t\tchannelTuple,\n\t\t\t\t\trewardChannel.stateRoot,\n\t\t\t\t\trewardChannel.signatures,\n\t\t\t\t\trewardChannel.proof,\n\t\t\t\t\trewardChannel.amount\n\t\t\t\t])\n\t\t\t]\n\t\t})\n\t\t.concat([\n\t\t\t[\n\t\t\t\tToken.address,\n\t\t\t\tToken.interface.encodeFunctionData(\"approve\", [\n\t\t\t\t\tStaking.address,\n\t\t\t\t\tnewBond[0]\n\t\t\t\t])\n\t\t\t],\n\t\t\t[\n\t\t\t\tStaking.address,\n\t\t\t\tStaking.interface.encodeFunctionData(\"replaceBond\", [bond, newBond])\n\t\t\t]\n\t\t])\n\n\treturn executeOnIdentity(chosenWalletType, identityTxns, {}, gasless)\n}\n\nexport async function reBond(chosenWalletType, { amount, poolId, nonce }) {\n\tconst bond = [amount, poolId, nonce || ZERO]\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\tconst walletAddr = await signer.getAddress()\n\tconst { addr } = getUserIdentity(walletAddr)\n\tconst allowanceStaking = await Token.allowance(addr, Staking.address)\n\treturn executeOnIdentity(\n\t\tchosenWalletType,\n\t\t(allowanceStaking.lt(amount)\n\t\t\t? [\n\t\t\t\t\t[\n\t\t\t\t\t\tToken.address,\n\t\t\t\t\t\tToken.interface.encodeFunctionData(\"approve\", [\n\t\t\t\t\t\t\tStaking.address,\n\t\t\t\t\t\t\tMAX_UINT\n\t\t\t\t\t\t])\n\t\t\t\t\t]\n\t\t\t  ]\n\t\t\t: []\n\t\t).concat([\n\t\t\t[\n\t\t\t\tStaking.address,\n\t\t\t\tStaking.interface.encodeFunctionData(\"replaceBond\", [bond, bond])\n\t\t\t]\n\t\t])\n\t)\n}\n","export async function fetchJSON(url, opts) {\n\tconst resp = await fetch(url, opts)\n\treturn resp.json()\n}\n\nexport async function postJSON(url, body) {\n\treturn fetchJSON(url, {\n\t\tmethod: \"POST\",\n\t\theaders: { \"content-type\": \"application/json\" },\n\t\tbody: JSON.stringify(body)\n\t})\n}\n","export class TranslatableError extends Error {\n\tconstructor(message, values) {\n\t\tsuper(message)\n\t\tthis.values = values\n\t}\n}\n","import {\n\tDEPOSIT_POOLS,\n\tPOOLS,\n\tZERO,\n\tDAI_TOKEN_ADDR,\n\tADDR_CORE\n} from \"../helpers/constants\"\nimport {\n\tonLoyaltyPoolDeposit,\n\tonLoyaltyPoolWithdraw\n} from \"./loyaltyPoolActions\"\nimport { claimRewards } from \"./actions\"\nimport {\n\tonStakingPoolV5Deposit,\n\tonStakingPoolV5UnbondCommitment,\n\tonStakingPoolV5Withdraw,\n\tonStakingPoolV5RageLeave\n} from \"./v5actions\"\nimport { fetchJSON } from \"../helpers/fetch\"\nimport { formatDAI } from \"../helpers/formatting\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport { Contract } from \"ethers\"\nimport { getDefaultProvider } from \"../ethereum\"\nimport { TranslatableError } from \"../helpers/errors\"\n\nconst defaultProvider = getDefaultProvider\n\nconst MARKET_URL = \"https://market.adex.network\"\nconst TOM_URL = \"https://tom.adex.network\"\nconst DaiToken = new Contract(DAI_TOKEN_ADDR, ERC20ABI, defaultProvider)\n\nexport const DEPOSIT_ACTION_TYPES = {\n\tdeposit: \"deposit\",\n\tunbondCommitment: \"unbondCommitment\",\n\twithdraw: \"withdraw\",\n\trageLeave: \"rageLeave\"\n}\n\nexport const getDepositPool = poolId =>\n\tDEPOSIT_POOLS.concat(POOLS).find(x => x.id === poolId)\n\nexport const getDepositActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn onLoyaltyPoolDeposit\n\t}\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn onStakingPoolV5Deposit\n\t}\n\n\tthrow new TranslatableError(\"errors.noActionForPool\", {\n\t\tactionName: \"deposit\",\n\t\tpoolId\n\t})\n}\n\nexport const getWithdrawActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn onLoyaltyPoolWithdraw\n\t}\n\tif (poolId === POOLS[0].id) {\n\t\treturn claimRewards\n\t}\n\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn onStakingPoolV5Withdraw\n\t}\n\n\tthrow new TranslatableError(\"errors.noActionForPool\", {\n\t\tactionName: \"withdraw\",\n\t\tpoolId\n\t})\n}\n\nexport const getUnbondCommitmentActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn onStakingPoolV5UnbondCommitment\n\t}\n\n\tthrow new TranslatableError(\"errors.noActionForPool\", {\n\t\tactionName: \"unbond commitment (leave)\",\n\t\tpoolId\n\t})\n}\n\nexport const getRageLeaveActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn onStakingPoolV5RageLeave\n\t}\n\n\tthrow new TranslatableError(\"errors.noActionForPool\", {\n\t\tactionName: \"unbond commitment (leave)\",\n\t\tpoolId\n\t})\n}\n\nexport const getMaxWithdrawAmountByPoolId = (poolId, stats) => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn stats.balanceLpADX || ZERO\n\t}\n\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn stats.currentBalanceADX || ZERO\n\t}\n\n\treturn ZERO\n}\n\nexport const getMaxRageLeaveAmountByPoolId = (poolId, stats) => {\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn stats.currentBalanceADX || ZERO\n\t}\n\n\treturn ZERO\n}\n\nexport const getMaxUnbondCommitmentAmountByPoolId = (poolId, stats) => {\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn stats.currentBalanceADX || ZERO\n\t}\n\n\treturn ZERO\n}\n\nexport const getPoolStatsByPoolId = (stats, poolId) => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn stats.loyaltyPoolStats\n\t}\n\tif (poolId === POOLS[0].id) {\n\t\treturn stats.tomPoolStats\n\t}\n\tif (poolId === DEPOSIT_POOLS[1].id) {\n\t\treturn stats.tomStakingV5PoolStats\n\t}\n}\n\nexport const getDepositActionByTypeAndPoolId = (actionType, poolId) => {\n\tswitch (actionType) {\n\t\tcase DEPOSIT_ACTION_TYPES.withdraw:\n\t\t\treturn getWithdrawActionByPoolId(poolId)\n\t\tcase DEPOSIT_ACTION_TYPES.deposit:\n\t\t\treturn getDepositActionByPoolId(poolId)\n\t\tcase DEPOSIT_ACTION_TYPES.unbondCommitment:\n\t\t\treturn getUnbondCommitmentActionByPoolId(poolId)\n\t\tcase DEPOSIT_ACTION_TYPES.rageLeave:\n\t\t\treturn getRageLeaveActionByPoolId(poolId)\n\t\tdefault:\n\t\t\tthrow new TranslatableError(\"errors.invalidActionType\", { actionType })\n\t}\n}\n\nexport const getDepositActionMaxAmountByTypeAndPoolId = (\n\tactionType,\n\tpoolId,\n\tpoolStats,\n\tuserWalletBalance\n) => {\n\tswitch (actionType) {\n\t\tcase DEPOSIT_ACTION_TYPES.withdraw:\n\t\t\treturn getMaxWithdrawAmountByPoolId(poolId, poolStats)\n\t\tcase DEPOSIT_ACTION_TYPES.rageLeave:\n\t\t\treturn getMaxRageLeaveAmountByPoolId(poolId, poolStats)\n\t\tcase DEPOSIT_ACTION_TYPES.unbondCommitment:\n\t\t\treturn getMaxUnbondCommitmentAmountByPoolId(poolId, poolStats)\n\t\tcase DEPOSIT_ACTION_TYPES.deposit:\n\t\t\treturn userWalletBalance\n\t\tdefault:\n\t\t\treturn ZERO\n\t}\n}\n\nexport const getWithdrawActionBySelectedRewardChannels = (\n\trewards,\n\tchosenWalletType,\n\tstats\n) => {\n\tconst actions = Object.entries(\n\t\trewards.reduce((byPool, r) => {\n\t\t\tconst { poolId } = r\n\t\t\tbyPool[poolId] = [...(byPool[poolId] || []), r]\n\t\t\treturn byPool\n\t\t}, {})\n\t).map(([poolId, rwds]) => {\n\t\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\t\treturn onLoyaltyPoolWithdraw.bind(\n\t\t\t\tnull,\n\t\t\t\tstats,\n\t\t\t\tchosenWalletType,\n\t\t\t\trwds[0].outstandingReward\n\t\t\t)\n\t\t}\n\t\tif (poolId === POOLS[0].id) {\n\t\t\tconst rewardChannels = rwds.map(r => r.rewardChannel)\n\t\t\treturn claimRewards.bind(null, chosenWalletType, rewardChannels)\n\t\t}\n\t\treturn () => {}\n\t})\n\n\treturn actions\n}\n\nconst sumValidatorAnalyticsResValue = res =>\n\tObject.values(res.aggr || {}).reduce((a, b) => a.add(b.value), ZERO)\n\nconst toChartData = (data, valueLabel, currency) => {\n\tconst noLast = [...(data.aggr || [{}])]\n\tnoLast.pop()\n\treturn noLast.reduce(\n\t\t(data, { time, value }) => {\n\t\t\tdata.labels.push(new Date(time).toLocaleString())\n\t\t\tdata.datasets.push(parseFloat(currency ? formatDAI(value) : value))\n\n\t\t\treturn data\n\t\t},\n\t\t{ labels: [], datasets: [], valueLabel, currency }\n\t)\n}\n\nexport const getValidatorTomStats = async () => {\n\tconst channels = await fetchJSON(MARKET_URL + \"/campaigns?all\")\n\tconst {\n\t\ttotalDeposits,\n\t\ttotalPayouts,\n\t\tuniqueUnits,\n\t\tuniquePublishers,\n\t\tuniqueAdvertisers\n\t} = channels.reduce(\n\t\t(data, { creator, depositAmount, status, spec }) => {\n\t\t\tdata.totalDeposits = data.totalDeposits.add(depositAmount)\n\t\t\tdata.totalPayouts = data.totalPayouts.add(\n\t\t\t\tObject.values(status.lastApprovedBalances || {}).reduce(\n\t\t\t\t\t(a, b) => a.add(b),\n\t\t\t\t\tZERO\n\t\t\t\t)\n\t\t\t)\n\n\t\t\tspec.adUnits.forEach(({ ipfs }) => {\n\t\t\t\tdata.uniqueUnits[ipfs] = true\n\t\t\t})\n\t\t\tObject.keys(status.lastApprovedBalances).forEach(key => {\n\t\t\t\tif (key !== creator) {\n\t\t\t\t\tdata.uniquePublishers[key.toLowerCase()] = true\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tdata.uniqueAdvertisers[creator.toLowerCase()] = true\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalDeposits: ZERO,\n\t\t\ttotalPayouts: ZERO,\n\t\t\tuniqueUnits: {},\n\t\t\tuniquePublishers: {},\n\t\t\tuniqueAdvertisers: {}\n\t\t}\n\t)\n\n\tconst dailyPayoutsData = await fetchJSON(\n\t\tTOM_URL + \"/analytics?metric=eventPayouts&timeframe=day\"\n\t)\n\tconst yearlyTransactionsData = await fetchJSON(\n\t\tTOM_URL + \"/analytics?metric=eventCounts&timeframe=year\"\n\t)\n\tconst dailyTransactionsData = await fetchJSON(\n\t\tTOM_URL + \"/analytics?metric=eventCounts&timeframe=day\"\n\t)\n\tconst monthlyTransactionsData = await fetchJSON(\n\t\tTOM_URL + \"/analytics?metric=eventCounts&timeframe=month\"\n\t)\n\n\tconst lockupOnChain = await DaiToken.balanceOf(ADDR_CORE)\n\n\treturn {\n\t\ttotalCampaigns: channels.length,\n\t\tuniqueUnits: Object.keys(uniqueUnits).length,\n\t\tuniquePublishers: Object.keys(uniquePublishers).length,\n\t\tuniqueAdvertisers: Object.keys(uniqueAdvertisers).length,\n\t\ttotalDeposits,\n\t\ttotalPayouts,\n\t\tdailyPayoutsData: toChartData(dailyPayoutsData, \"stats.labelPayout\", \"DAI\"),\n\t\tdailyPayoutsVolume: sumValidatorAnalyticsResValue(dailyPayoutsData),\n\t\tyearlyTransactionsData: toChartData(\n\t\t\tyearlyTransactionsData,\n\t\t\t\"stats.labelTransactions\"\n\t\t),\n\t\tyearlyTransactions: sumValidatorAnalyticsResValue(yearlyTransactionsData),\n\t\tdailyTransactionsData: toChartData(\n\t\t\tdailyTransactionsData,\n\t\t\t\"stats.labelTransactions\"\n\t\t),\n\t\tdailyTransactions: sumValidatorAnalyticsResValue(dailyTransactionsData),\n\t\tmonthlyTransactionsData: toChartData(\n\t\t\tmonthlyTransactionsData,\n\t\t\t\"stats.labelTransactions\"\n\t\t),\n\t\tmonthlyTransactions: sumValidatorAnalyticsResValue(monthlyTransactionsData),\n\t\tlockupOnChain\n\t}\n}\n\nexport const getValidatorStatsByPoolId = poolId => {\n\tif (poolId === POOLS[0].id) {\n\t\treturn getValidatorTomStats\n\t}\n\n\treturn () => ({})\n}\n","import { Contract, utils } from \"ethers\"\nimport { ADDR_ADX, FARM_POOLS, ZERO, MAX_UINT } from \"../helpers/constants\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport MasterChefABI from \"../abi/MasterChef\"\nimport { getSigner, getDefaultProvider } from \"../ethereum\"\nimport { getUserIdentity } from \"../helpers/identity\"\nimport { executeOnIdentity } from \"./common\"\nimport { formatTokens, formatADX } from \"../helpers/formatting\"\nimport { TranslatableError } from \"../helpers/errors\"\n\n// const MASTER_CHEF_ADDR = \"0x2f0e755e0007E6569379a43E453F264b91336379\" // goerli\nconst MASTER_CHEF_ADDR = \"0xC0223ab23b519260AE7C52Dfb0a3dff65Da8385A\"\n// const AVG_ETH_BLOCK_TAME = 13.08\nconst DAYS_IN_YEAR = 365\n// const SECS_IN_YEAR = DAYS_IN_YEAR * 24 * 60 * 60\n// const TOTAL_FARM_ADX_REWARDS = 5_000_000\n// const DAYS_TO_DISTRIBUTE_REWARDS = 30\n\n// const AVG_BLOCKS_PER_YEAR = SECS_IN_YEAR / AVG_ETH_BLOCK_TAME\n\nconst defaultProvider = getDefaultProvider\n\nconst MasterChef = new Contract(\n\tMASTER_CHEF_ADDR,\n\tMasterChefABI,\n\tdefaultProvider\n)\n\nconst ADXToken = new Contract(ADDR_ADX, ERC20ABI, defaultProvider)\n\nconst getOtherTokenAndPoolPrice = (known, unknown) => {\n\tconst totalLPPrice =\n\t\t(parseFloat(utils.formatUnits(known.poolBalance, known.decimals)) /\n\t\t\tknown.weight) *\n\t\tknown.usdPrice\n\tconst unknownPrice =\n\t\t(totalLPPrice * unknown.weight) /\n\t\tparseFloat(utils.formatUnits(unknown.poolBalance, unknown.decimals))\n\n\treturn { unknownPrice, totalLPPrice }\n}\n\nconst getDepositLPTokenToADXValue = async ({ externalPrices }) => {\n\tif (!externalPrices || !externalPrices.USD) {\n\t\tthrow new Error(\"errors.cantCallLPPricesWithoutADXUSDValue\")\n\t}\n\n\tconst adxPrice = externalPrices.USD\n\n\tconst { allTokenContracts, allTokensInUSD } = FARM_POOLS.reduce(\n\t\t(data, { lpTokenData }) => {\n\t\t\tlpTokenData.forEach(token => {\n\t\t\t\tif (!data.allTokenContracts[token.token]) {\n\t\t\t\t\tdata.allTokenContracts[token.token] = new Contract(\n\t\t\t\t\t\ttoken.addr,\n\t\t\t\t\t\tERC20ABI,\n\t\t\t\t\t\tdefaultProvider\n\t\t\t\t\t)\n\t\t\t\t\tdata.allTokensInUSD[token.token] = null\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn data\n\t\t},\n\t\t{ allTokenContracts: {}, allTokensInUSD: {} }\n\t)\n\n\tallTokensInUSD[\"ADX\"] = adxPrice\n\n\tconst poolDataMap = FARM_POOLS.map(\n\t\tasync ({ poolId, depositAssetName, depositAssetAddr, lpTokenData }) => {\n\t\t\treturn {\n\t\t\t\ttokenName: depositAssetName,\n\t\t\t\ttokenAddr: depositAssetAddr,\n\t\t\t\tlpTokenData: await Promise.all(\n\t\t\t\t\tlpTokenData.map(async ({ token, addr, weight }, index) => ({\n\t\t\t\t\t\tpoolId,\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\taddr,\n\t\t\t\t\t\tdecimals: await allTokenContracts[token].decimals(),\n\t\t\t\t\t\tpoolBalance: await allTokenContracts[token].balanceOf(\n\t\t\t\t\t\t\tdepositAssetAddr\n\t\t\t\t\t\t),\n\t\t\t\t\t\tusdPrice: allTokensInUSD[token] || null,\n\t\t\t\t\t\tweight\n\t\t\t\t\t}))\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t)\n\n\tconst poolDataWithBalances = await Promise.all(poolDataMap)\n\n\tconst maxIters = 1 + poolDataWithBalances.length * 2\n\tlet iters = 0\n\n\twhile (Object.values(allTokensInUSD).includes(null) && iters <= maxIters) {\n\t\tpoolDataWithBalances.map(poolData => {\n\t\t\tconst { lpTokenData } = poolData\n\t\t\tconst [t1, t2] = lpTokenData\n\n\t\t\tt1.usdPrice = t1.usdPrice || allTokensInUSD[t1.token]\n\t\t\tt2.usdPrice = t2.usdPrice || allTokensInUSD[t2.token]\n\n\t\t\tif (t1.usdPrice && !t2.usdPrice) {\n\t\t\t\tconst { unknownPrice, totalLPPrice } = getOtherTokenAndPoolPrice(t1, t2)\n\t\t\t\tpoolData.poolTotalPriceUSD = poolData.poolTotalPriceUSD || totalLPPrice\n\t\t\t\tt2.usdPrice = unknownPrice\n\t\t\t\tallTokensInUSD[t2.token] = t2.usdPrice\n\t\t\t} else if (!t1.usdPrice && t2.usdPrice) {\n\t\t\t\tconst { unknownPrice, totalLPPrice } = getOtherTokenAndPoolPrice(t2, t1)\n\t\t\t\tpoolData.poolTotalPriceUSD = poolData.poolTotalPriceUSD || totalLPPrice\n\t\t\t\tt1.usdPrice = unknownPrice\n\t\t\t\tallTokensInUSD[t1.token] = t1.usdPrice\n\t\t\t}\n\n\t\t\tpoolData.lpTokenData = [t1, t2]\n\n\t\t\treturn poolData\n\t\t})\n\n\t\titers += 1\n\t}\n\n\tif (Object.values(allTokensInUSD).includes(null)) {\n\t\tthrow new Error(\"errors.canCalcLPTokensPrices\")\n\t}\n\n\tconst lpTokensToADXData = poolDataWithBalances.reduce(\n\t\t(lpTokensToADX, data) => {\n\t\t\tconst { poolTotalPriceUSD, lpTokenData } = data\n\t\t\tlpTokensToADX[data.tokenName] = {\n\t\t\t\tpoolTotalPriceUSD,\n\t\t\t\tpoolTotalADXValue: utils.parseUnits(\n\t\t\t\t\t((data.poolTotalPriceUSD / adxPrice) * 1_000_000).toFixed(0),\n\t\t\t\t\t12\n\t\t\t\t),\n\t\t\t\tlpTokenData\n\t\t\t}\n\n\t\t\treturn lpTokensToADX\n\t\t},\n\t\t{}\n\t)\n\n\treturn lpTokensToADXData\n}\n\nconst getPoolStats = async ({\n\tpool,\n\twalletAddr,\n\tidentityAddr,\n\texternalPrices,\n\tpoolsPricesData\n}) => {\n\tconst depositTokenContract = new Contract(\n\t\tpool.depositAssetAddr,\n\t\tERC20ABI,\n\t\tdefaultProvider\n\t)\n\n\tconst [\n\t\ttotalSupply,\n\t\ttotalStaked,\n\t\twalletBalance,\n\t\tpendingADX,\n\t\tuserInfo,\n\t\tpoolInfo,\n\t\tadxPerBlock,\n\t\ttotalAllocPoint\n\t] = await Promise.all([\n\t\tdepositTokenContract.totalSupply(),\n\t\tdepositTokenContract.balanceOf(MasterChef.address),\n\t\twalletAddr ? depositTokenContract.balanceOf(walletAddr) : null,\n\t\tidentityAddr ? MasterChef.pendingADX(pool.poolId, identityAddr) : null,\n\t\tidentityAddr ? MasterChef.userInfo(pool.poolId, identityAddr) : null,\n\t\tMasterChef.poolInfo(pool.poolId),\n\t\tMasterChef.ADXPerBlock(),\n\t\tMasterChef.totalAllocPoint()\n\t])\n\tconst precision = 10_000_000\n\n\tconst userLPBalance = userInfo ? userInfo[0] : null\n\n\tconst useShare =\n\t\tuserLPBalance && totalStaked.gt(ZERO)\n\t\t\t? userLPBalance\n\t\t\t\t\t.mul(precision)\n\t\t\t\t\t.div(totalStaked)\n\t\t\t\t\t.toNumber() / precision\n\t\t\t: null\n\n\tconst poolAllocPoints = poolInfo[1].toNumber()\n\tconst totalStakedFloat = parseFloat(\n\t\tformatTokens(totalStaked, pool.depositAssetDecimals)\n\t)\n\n\tconst totalRewardsADX =\n\t\tparseFloat(\n\t\t\tformatADX(\n\t\t\t\tadxPerBlock.mul(parseInt(pool.latRewardBlock - pool.firstRewardBlock))\n\t\t\t)\n\t\t) *\n\t\t(poolAllocPoints / totalAllocPoint)\n\tconst totalPoolRewardsUSD = totalRewardsADX * externalPrices.USD\n\n\tconst lpTokenPrice =\n\t\tpoolsPricesData[pool.depositAssetName].poolTotalPriceUSD /\n\t\tparseFloat(formatTokens(totalSupply, pool.depositAssetDecimals))\n\n\tconst lpTokenStakedValueUSD = totalStakedFloat * lpTokenPrice\n\n\tconst rewardsDistributedPerMonthInUSD =\n\t\ttotalPoolRewardsUSD * (30 / pool.rewardsDurationDays)\n\n\tconst rewardsDistributedPerYearInUSD =\n\t\ttotalPoolRewardsUSD * (DAYS_IN_YEAR / pool.rewardsDurationDays)\n\n\tconst poolAPY = rewardsDistributedPerYearInUSD / (lpTokenStakedValueUSD || 1)\n\tconst poolMPY = rewardsDistributedPerMonthInUSD / (lpTokenStakedValueUSD || 1)\n\n\tconst lpTokenDataWithPrices = poolsPricesData[\n\t\tpool.depositAssetName\n\t].lpTokenData.map(data => {\n\t\tdata.unitsPerLP = data.usdPrice\n\t\t\t? (lpTokenPrice * data.weight) / data.usdPrice\n\t\t\t: null\n\t\treturn data\n\t})\n\n\treturn {\n\t\tpoolId: pool.poolId,\n\t\tlpTokenPrice,\n\t\tlpTokenDataWithPrices: lpTokenDataWithPrices,\n\t\ttotalSupply,\n\t\ttotalStaked,\n\t\tlpTokenStakedValueUSD,\n\t\twalletBalance,\n\t\tpendingADX,\n\t\tuserInfo,\n\t\tuserLPBalance,\n\t\tuseShare,\n\t\tpoolInfo,\n\t\tpoolAPY,\n\t\tpoolMPY\n\t}\n}\n\nexport const getFarmPoolsStats = async ({\n\tchosenWalletType,\n\texternalPrices\n}) => {\n\ttry {\n\t\tconst signer =\n\t\t\tchosenWalletType && chosenWalletType.library\n\t\t\t\t? await getSigner(chosenWalletType)\n\t\t\t\t: null\n\n\t\tconst walletAddr = signer ? await signer.getAddress() : null\n\t\tconst identityAddr = walletAddr ? getUserIdentity(walletAddr).addr : null\n\n\t\tconst poolsPricesData = await getDepositLPTokenToADXValue({\n\t\t\texternalPrices\n\t\t})\n\t\tconst poolsCalls = FARM_POOLS.map(pool =>\n\t\t\tgetPoolStats({\n\t\t\t\tpool,\n\t\t\t\twalletAddr,\n\t\t\t\tidentityAddr,\n\t\t\t\texternalPrices,\n\t\t\t\tpoolsPricesData\n\t\t\t})\n\t\t)\n\t\tconst allPoolStats = await Promise.all(poolsCalls)\n\n\t\tconst statsByPoolId = allPoolStats.reduce((byId, stats) => {\n\t\t\tbyId[stats.poolId] = stats\n\t\t\treturn byId\n\t\t}, {})\n\t\t// const blockNumber = await defaultProvider.getBlockNumber()\n\t\tconst totalRewards = [...Object.values(statsByPoolId)]\n\t\t\t.filter(x => !!x.pendingADX && x.pendingADX.gt(ZERO))\n\t\t\t.reduce((a, b) => a.add(b.pendingADX), ZERO)\n\n\t\treturn {\n\t\t\t// blockNumber,\n\t\t\tpollStatsLoaded: true,\n\t\t\tuserStatsLoaded: !!signer,\n\t\t\ttotalRewards,\n\t\t\tstatsByPoolId\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"error getFarmPoolsStats\", error)\n\t\treturn {\n\t\t\tpollStatsLoaded: false,\n\t\t\tuserStatsLoaded: false,\n\t\t\ttotalRewards: ZERO,\n\t\t\tstatsByPoolId: {}\n\t\t}\n\t}\n}\n\nexport async function onLiquidityPoolDeposit({\n\tpool,\n\tstats,\n\tchosenWalletType,\n\tactionAmount,\n\tpendingADX\n}) {\n\tif (!stats || !pool) throw new Error(\"errors.statsNotProvided\")\n\tif (!actionAmount) throw new Error(\"errors.noDepositAmount\")\n\tif (actionAmount.isZero())\n\t\tthrow new TranslatableError(\"errors.zeroDepositToken\", {\n\t\t\tcurrency: pool.depositAssetName\n\t\t})\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\n\tconst walletAddr = await signer.getAddress()\n\tconst identityAddr = getUserIdentity(walletAddr).addr\n\n\tconst LPToken = new Contract(\n\t\tpool.depositAssetAddr, // just for testing\n\t\tERC20ABI,\n\t\tdefaultProvider\n\t)\n\n\tconst [\n\t\tallowance,\n\t\tallowanceMC,\n\t\tbalanceOnWallet,\n\t\tbalanceOnIdentity,\n\t\tidentityCode\n\t] = await Promise.all([\n\t\tLPToken.allowance(walletAddr, identityAddr),\n\t\tLPToken.allowance(identityAddr, MASTER_CHEF_ADDR),\n\t\tLPToken.balanceOf(walletAddr),\n\t\tLPToken.balanceOf(identityAddr),\n\t\tdefaultProvider.getCode(identityAddr)\n\t])\n\n\tconst isDeployed = identityCode !== \"0x\"\n\n\tif (actionAmount.gt(balanceOnWallet)) {\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\t}\n\n\tconst setAllowance = actionAmount.gt(ZERO) && !allowance.gte(actionAmount)\n\n\tconst needed = actionAmount.sub(balanceOnIdentity)\n\n\t// set allowance to identity\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = LPToken.connect(signer)\n\t\tawait tokenWithSigner.approve(identityAddr, MAX_UINT)\n\t}\n\n\tlet identityTxns = []\n\n\tif (needed.gt(ZERO))\n\t\tidentityTxns.push([\n\t\t\tLPToken.address,\n\t\t\tLPToken.interface.encodeFunctionData(\"transferFrom\", [\n\t\t\t\twalletAddr,\n\t\t\t\tidentityAddr,\n\t\t\t\tneeded\n\t\t\t])\n\t\t])\n\n\tif (allowanceMC.lt(actionAmount)) {\n\t\tidentityTxns.push([\n\t\t\tLPToken.address,\n\t\t\tLPToken.interface.encodeFunctionData(\"approve\", [\n\t\t\t\tMASTER_CHEF_ADDR,\n\t\t\t\tMAX_UINT\n\t\t\t])\n\t\t])\n\t}\n\n\tidentityTxns.push([\n\t\tMasterChef.address,\n\t\tMasterChef.interface.encodeFunctionData(\"deposit\", [\n\t\t\tpool.poolId,\n\t\t\tactionAmount\n\t\t])\n\t])\n\n\tif (!!pendingADX && pendingADX.gt(ZERO)) {\n\t\tidentityTxns.push([\n\t\t\tADXToken.address,\n\t\t\tADXToken.interface.encodeFunctionData(\"transfer\", [\n\t\t\t\twalletAddr,\n\t\t\t\tpendingADX\n\t\t\t])\n\t\t])\n\t}\n\n\treturn executeOnIdentity(\n\t\tchosenWalletType,\n\t\tidentityTxns,\n\t\tsetAllowance ? { gasLimit: isDeployed ? 269_420 : 469_420 } : {}\n\t)\n}\n\nexport async function onLiquidityPoolWithdraw({\n\tpool,\n\tstats,\n\tchosenWalletType,\n\tactionAmount,\n\tpendingADX\n}) {\n\tif (!stats || !pool) throw new Error(\"errors.statsNotProvided\")\n\tif (!actionAmount) throw new Error(\"errors.noDepositAmount\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\n\tconst walletAddr = await signer.getAddress()\n\tconst identityAddr = getUserIdentity(walletAddr).addr\n\n\tconst LPToken = new Contract(pool.depositAssetAddr, ERC20ABI, defaultProvider)\n\n\tconst [userInfo] = await Promise.all([\n\t\tMasterChef.userInfo(pool.poolId, identityAddr)\n\t])\n\n\tconst userLPBalance = userInfo ? userInfo[0] : ZERO\n\n\tif (actionAmount.gt(userLPBalance)) {\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\t}\n\n\tlet identityTxns = []\n\n\tidentityTxns.push([\n\t\tMasterChef.address,\n\t\tMasterChef.interface.encodeFunctionData(\"withdraw\", [\n\t\t\tpool.poolId,\n\t\t\tactionAmount\n\t\t])\n\t])\n\n\tidentityTxns.push([\n\t\tLPToken.address,\n\t\tLPToken.interface.encodeFunctionData(\"transfer\", [walletAddr, actionAmount])\n\t])\n\n\tif (!!pendingADX && pendingADX.gt(ZERO)) {\n\t\tidentityTxns.push([\n\t\t\tADXToken.address,\n\t\t\tADXToken.interface.encodeFunctionData(\"transfer\", [\n\t\t\t\twalletAddr,\n\t\t\t\tpendingADX\n\t\t\t])\n\t\t])\n\t}\n\n\treturn executeOnIdentity(chosenWalletType, identityTxns)\n}\n\nexport async function onHarvestAll({ farmStats, chosenWalletType }) {\n\tif (!farmStats) throw new Error(\"errors.statsNotProvided\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\n\tconst walletAddr = await signer.getAddress()\n\tconst identityAddr = getUserIdentity(walletAddr).addr\n\n\tconst { statsByPoolId, totalRewards } = farmStats\n\n\tconst poolsToHarvest = [...Object.values(statsByPoolId)].filter(\n\t\tpool => pool.pendingADX && pool.pendingADX.gt(ZERO)\n\t)\n\n\tif (!poolsToHarvest.length) {\n\t\tthrow new Error(\"errors.nothingToHarvest\")\n\t}\n\n\tconst totalADXRewards = poolsToHarvest.reduce(\n\t\t(a, b) => a.add(b.pendingADX),\n\t\tZERO\n\t)\n\n\tif (!totalRewards.eq(totalADXRewards)) {\n\t\tthrow new Error(\"errors.invalidTotalRewards\")\n\t}\n\n\tconst identityTxns = poolsToHarvest.reduce((txns, pool) => {\n\t\tconst { poolId } = pool\n\t\ttxns.push([\n\t\t\tMasterChef.address,\n\t\t\tMasterChef.interface.encodeFunctionData(\"withdraw\", [poolId, ZERO])\n\t\t])\n\n\t\treturn txns\n\t}, [])\n\n\tconst toHarvest = (await ADXToken.balanceOf(identityAddr)).add(\n\t\ttotalADXRewards\n\t)\n\tidentityTxns.push([\n\t\tADXToken.address,\n\t\tADXToken.interface.encodeFunctionData(\"transfer\", [walletAddr, toHarvest])\n\t])\n\n\treturn executeOnIdentity(chosenWalletType, identityTxns)\n}\n","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Link } from \"@material-ui/core\"\nimport { OpenInNew } from \"@material-ui/icons\"\nimport clsx from \"clsx\"\n\nexport const styles = theme => ({\n\texternalIcon: {\n\t\tmarginLeft: theme.spacing(0.5),\n\t\tfontSize: \"small\"\n\t},\n\tlink: {\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\"\n\t}\n})\n\nconst useStyles = makeStyles(styles)\n\nconst getUrl = url => {\n\turl = (url || \"\").replace(/^(https?:)?\\/\\//i, \"\")\n\tif (url) {\n\t\turl = \"//\" + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({\n\thref,\n\ttarget,\n\tchildren,\n\tlabel,\n\tunderline,\n\texternalIcon,\n\tcolor,\n\tcomponent,\n\tclassName,\n\tid,\n\t...rest\n}) => {\n\tconst classes = useStyles()\n\n\tconst isExternal = target && target === \"_blank\"\n\tconst url = isExternal ? getUrl(href) : href\n\n\tconst linkProps = {\n\t\tunderline: underline || \"none\",\n\t\tcolor: color || \"inherit\",\n\t\tdraggable: \"false\",\n\t\t...(isExternal && { rel: \"noopener noreferrer\" }),\n\t\ttarget,\n\t\thref: url,\n\t\tstyle: { wordBreak: \"break-all\" }, // TODO: add it where needed only\n\t\t...(component ? { component } : {}),\n\t\t...rest\n\t}\n\treturn (\n\t\t<Link {...linkProps} className={clsx(className, classes.link)}>\n\t\t\t{!component && (children || label)}\n\t\t\t{!component && externalIcon && (\n\t\t\t\t<OpenInNew className={classes.externalIcon} />\n\t\t\t)}\n\t\t</Link>\n\t)\n}\n\nexport const ExternalAnchor = ({ href, children, style, color, ...rest }) => (\n\t<Anchor\n\t\tstyle={{ fontWeight: \"bold\" }}\n\t\tunderline=\"always\"\n\t\ttarget=\"_blank\"\n\t\tcolor={color || \"secondary\"}\n\t\texternalIcon\n\t\thref={href}\n\t\t{...rest}\n\t>\n\t\t{children}\n\t</Anchor>\n)\n\nexport default Anchor\n","import React, { useEffect, useState, useContext } from \"react\"\nimport { useLocation } from \"react-router-dom\"\nimport { getPoolStatsByPoolId, onMigrationToV5Finalize } from \"../actions\"\nimport {\n\ttoIdAttributeString,\n\tformatADXPretty,\n\tformatDate\n} from \"../helpers/formatting\"\nimport { DEPOSIT_POOLS, STAKING_RULES_URL, ZERO } from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTypography,\n\tButton,\n\tFormControl,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport AppContext from \"../AppContext\"\nimport { useTranslation, Trans } from \"react-i18next\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport Tooltip from \"./Tooltip\"\nimport { AmountText } from \"./cardCommon\"\nimport { utils } from \"ethers\"\n\nconst activePool = DEPOSIT_POOLS[1]\n\nexport default function MigrationForm({\n\tcloseDialog,\n\tbond,\n\tisWithdrawMigration,\n\tpoolLabel,\n\tcreated\n}) {\n\tconst location = useLocation()\n\tconst { t } = useTranslation()\n\tconst { stats, chosenWalletType, account, wrapDoingTxns } = useContext(\n\t\tAppContext\n\t)\n\n\tconst {\n\t\tuserWalletBalance,\n\t\ttomPoolStats,\n\t\ttomStakingV5PoolStats,\n\t\tuserWalletToIdentityADXAllowance\n\t} = stats\n\tconst { identityAdxRewardsAmount } = tomPoolStats\n\tconst { unbondDays } = tomStakingV5PoolStats\n\n\tconst [claimPendingRewards, setClaimPendingRewards] = useState(true)\n\tconst [stakeWalletBalance, setStakeWalletBalance] = useState(false)\n\tconst [confirmEnterTo, setConfirmEnterTo] = useState(false)\n\tconst [enterTo, setEnterTo] = useState(null)\n\n\tconst [confirmed, setConfirmed] = useState(false)\n\n\tconst params = new URLSearchParams(location.search)\n\tconst enterToParam = params.get(\"enterTo\")\n\n\tconst [poolStats, setPoolStats] = useState({})\n\n\tconst withdrawOnMigration = isWithdrawMigration // TODO: double check this\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tsetEnterTo(utils.getAddress(enterToParam))\n\t\t} catch {\n\t\t\tsetEnterTo(null)\n\t\t}\n\t}, [enterToParam])\n\n\tuseEffect(() => {\n\t\tconst newPoolStats = getPoolStatsByPoolId(stats, activePool.id)\n\n\t\tsetPoolStats(newPoolStats)\n\t}, [stats])\n\n\tconst onAction = async () => {\n\t\tif (!bond) {\n\t\t\treturn\n\t\t}\n\n\t\tsetConfirmed(false)\n\t\tif (closeDialog) closeDialog()\n\n\t\tconst interactionAddress = enterTo && confirmEnterTo ? enterTo : null\n\n\t\tawait wrapDoingTxns(\n\t\t\tonMigrationToV5Finalize.bind(\n\t\t\t\tnull,\n\t\t\t\tchosenWalletType,\n\t\t\t\tbond,\n\t\t\t\tclaimPendingRewards,\n\t\t\t\tstakeWalletBalance,\n\t\t\t\twithdrawOnMigration,\n\t\t\t\tstats,\n\t\t\t\tinteractionAddress\n\t\t\t)\n\t\t)()\n\t}\n\n\tconst confirmationLabel = withdrawOnMigration ? (\n\t\t<Trans\n\t\t\ti18nKey=\"bonds.confirmationLabelMigrationWithdraw\"\n\t\t\tvalues={{\n\t\t\t\tamount: formatADXPretty(\n\t\t\t\t\tbond.amount.add(claimPendingRewards ? identityAdxRewardsAmount : ZERO)\n\t\t\t\t),\n\t\t\t\tcurrency: \"ADX\",\n\t\t\t\twalletAddr: account\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\tamount: <AmountText fontSize={21}></AmountText>\n\t\t\t}}\n\t\t/>\n\t) : (\n\t\t<Trans\n\t\t\ti18nKey=\"bonds.confirmationLabel\"\n\t\t\tvalues={{\n\t\t\t\tunbondDays,\n\t\t\t\ttotalBondAmount: formatADXPretty(\n\t\t\t\t\tbond.amount\n\t\t\t\t\t\t.add(bond.migrationReward || ZERO)\n\t\t\t\t\t\t.add(stakeWalletBalance ? userWalletBalance : ZERO)\n\t\t\t\t\t\t.add(claimPendingRewards ? identityAdxRewardsAmount : ZERO)\n\t\t\t\t),\n\t\t\t\tcurrency: \"ADX\"\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\tamount: <AmountText fontSize={21}></AmountText>,\n\t\t\t\te1: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref=\"https://www.adex.network/tos/\"\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\te2: STAKING_RULES_URL ? (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-staking-rules\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref={STAKING_RULES_URL}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t)\n\n\tconst disableMigrationMsg = !confirmed ? t(\"bonds.tosNotConfirmed\") : \"\"\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\ti18nKey=\"bonds.bondInfo\"\n\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\tamount: formatADXPretty(bond.amount),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\tpool: t(poolLabel),\n\t\t\t\t\t\t\t\tcreated: formatDate(created),\n\t\t\t\t\t\t\t\tmigrationBonus: withdrawOnMigration\n\t\t\t\t\t\t\t\t\t? t(\"common.NA\")\n\t\t\t\t\t\t\t\t\t: formatADXPretty(bond.migrationReward),\n\t\t\t\t\t\t\t\tmigrationBonusCurrency: withdrawOnMigration ? \"\" : \"ADX\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\tbox: <Box mt={0.5}></Box>,\n\t\t\t\t\t\t\t\tamount: <AmountText fontSize={17}></AmountText>\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\n\t\t\t\t{!withdrawOnMigration && (\n\t\t\t\t\t<Grid item xs={12} container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolRewardPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.rewardPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolSlashingPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.slashPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"deposits.lockupPeriodLabel\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(\"deposits.lockupDays\", { count: unbondDays })}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">{t(\"common.poolAPY\")}:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\ti18nKey=\"bonds.currentYield\"\n\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\tapy: (poolStats.currentAPY * 100).toFixed(2),\n\t\t\t\t\t\t\t\t\t\tsign: \"%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\tfarmer: (\n\t\t\t\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\n\t\t\t\t{!identityAdxRewardsAmount.isZero() && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\ti18nKey={`bonds.${\n\t\t\t\t\t\t\t\t\t\twithdrawOnMigration\n\t\t\t\t\t\t\t\t\t\t\t? \"migrationClaimPendingRewards\"\n\t\t\t\t\t\t\t\t\t\t\t: \"migrationStakePendingRewards\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\tamount: formatADXPretty(identityAdxRewardsAmount),\n\t\t\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\tamount: <AmountText fontSize={17}></AmountText>\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tid={`new-migration-v5-form-claim-pending-rewards-check`}\n\t\t\t\t\t\t\t\t\tchecked={claimPendingRewards}\n\t\t\t\t\t\t\t\t\tonChange={ev => setClaimPendingRewards(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t></FormControlLabel>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\n\t\t\t\t{!withdrawOnMigration &&\n\t\t\t\t\t!userWalletBalance.isZero() &&\n\t\t\t\t\tuserWalletToIdentityADXAllowance.gt(userWalletBalance) && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\ti18nKey={\"bonds.stakeWalletBalance\"}\n\t\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\t\tamount: formatADXPretty(userWalletBalance),\n\t\t\t\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\t\tamount: <AmountText fontSize={17}></AmountText>\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tid={`new-migration-v5-form-stake-wallet-balance-check`}\n\t\t\t\t\t\t\t\t\t\tchecked={stakeWalletBalance}\n\t\t\t\t\t\t\t\t\t\tonChange={ev => setStakeWalletBalance(ev.target.checked)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></FormControlLabel>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\n\t\t\t\t{!!enterTo && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\ti18nKey={`bonds.${\n\t\t\t\t\t\t\t\t\t\twithdrawOnMigration\n\t\t\t\t\t\t\t\t\t\t\t? \"migrationEnterToUnbondWithdraw\"\n\t\t\t\t\t\t\t\t\t\t\t: \"migrationEnterTo\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\taddress: enterTo\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tid={`new-migration-v5-enter-to-extra-field`}\n\t\t\t\t\t\t\t\t\tchecked={confirmEnterTo}\n\t\t\t\t\t\t\t\t\tonChange={ev => setConfirmEnterTo(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t></FormControlLabel>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{/* <Grid item xs={12}>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={t(\"bonds.stakeWalletBalance\", {\n\t\t\t\t\t\t\tamount: formatADXPretty(userWalletBalance),\n\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid={`new-migration-v5-form-stake-wallet-balance-check`}\n\t\t\t\t\t\t\t\tchecked={stakeWalletBalance}\n\t\t\t\t\t\t\t\tonChange={ev => setStakeWalletBalance(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Grid> */}\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={confirmationLabel}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid={`new-migration-v5-form-tos-check`}\n\t\t\t\t\t\t\t\tchecked={confirmed}\n\t\t\t\t\t\t\t\tonChange={ev => setConfirmed(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Tooltip title={disableMigrationMsg}>\n\t\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tid={`new-migration-to-v5-stake-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\tactivePool ? activePool.poolId : \"-not-selected\"\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tdisabled={!!disableMigrationMsg}\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{withdrawOnMigration\n\t\t\t\t\t\t\t\t\t? t(\"bonds.unbondNow\")\n\t\t\t\t\t\t\t\t\t: t(\"bonds.migrateNow\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport {\n\tTableRow,\n\tTableCell,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody\n} from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport {\n\tUNBOND_DAYS,\n\tZERO,\n\tMIGRATION_UNBOND_BEFORE\n} from \"../helpers/constants\"\nimport { formatADXPretty, formatDate } from \"../helpers/formatting\"\nimport { AmountText } from \"./cardCommon\"\nimport { useTranslation } from \"react-i18next\"\nimport { getPool, getBondId } from \"../helpers/bonds\"\n\nimport WithDialog from \"./WithDialog\"\nimport MigrationForm from \"./MigrationForm\"\n\nconst MigrationDialog = WithDialog(MigrationForm)\n\nexport default function Bonds({ stats }) {\n\tconst { t } = useTranslation()\n\t// Render all stats cards + bond table\n\tconst bondStatus = bond => {\n\t\tif (bond.status === \"UnbondRequested\") {\n\t\t\tconst willUnlock = bond.willUnlock.getTime()\n\t\t\tconst now = Date.now()\n\t\t\tif (willUnlock > now) {\n\t\t\t\tconst days = Math.ceil((willUnlock - now) / 86400000)\n\t\t\t\treturn t(\"bonds.canUnbondIn\", { count: days })\n\t\t\t} else {\n\t\t\t\treturn t(\"bonds.canUnbond\")\n\t\t\t}\n\t\t}\n\t\tif (bond.status === \"Active\") {\n\t\t\treturn `Active, earning ${(stats.tomPoolStats.totalAPY * 100).toFixed(\n\t\t\t\t2\n\t\t\t)}% APY`\n\t\t}\n\t\treturn bond.status\n\t}\n\n\tconst renderBondRow = bond => {\n\t\tconst pool = getPool(bond.poolId)\n\t\tconst poolLabel = pool ? pool.label : bond.poolId\n\t\tconst created = new Date(\n\t\t\t(bond.nonce.gt(ZERO) ? bond.nonce : bond.time).toNumber() * 1000\n\t\t)\n\t\tconst bondId = getBondId(bond)\n\t\tconst isWithdrawMigration =\n\t\t\tbond.status === \"UnbondRequested\" &&\n\t\t\tbond.willUnlock &&\n\t\t\tbond.willUnlock.getTime() < MIGRATION_UNBOND_BEFORE\n\n\t\t// const unbondDisableMsg =\n\t\t// \tbond.status === \"Unbonded\"\n\t\t// \t\t? t(\"bonds.alreadyUnbonded\")\n\t\t// \t\t: !bond.willUnlock\n\t\t// \t\t\t? t(\"bonds.unbondNotReady\")\n\t\t// \t\t\t: bond.willUnlock.getTime() > Date.now()\n\t\t// \t\t\t\t? t(\"bonds.willUnlockIn\", {\n\t\t// \t\t\t\t\tunlockTime: new Date(bond.willUnlock.getTime()).toLocaleDateString()\n\t\t// \t\t\t\t})\n\t\t// \t\t\t\t: \"\"\n\n\t\t// const migrationDisableMsg = \"\"\n\t\t// bond.status === \"Migrated\"\n\t\t// \t? t(\"bonds.alreadyMigrated\")\n\t\t// \t: !bond.willUnlock\n\t\t// \t\t? t(\"bonds.migrationNotReady\")\n\t\t// \t\t: bond.willUnlock.getTime() > Date.now()\n\t\t// \t\t\t? t(\"bonds.willUnlockIn\", {\n\t\t// \t\t\t\tunlockTime: new Date(bond.willUnlock.getTime()).toLocaleDateString()\n\t\t// \t\t\t})\n\t\t// \t\t\t: \"\"\n\n\t\treturn (\n\t\t\t<TableRow key={bondId}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatADXPretty(bond.currentAmount)} ${\"ADX\"}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{t(poolLabel)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{formatDate(created)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{bondStatus(bond)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{(bond.status === \"Active\" || bond.status === \"UnbondRequested\") && (\n\t\t\t\t\t\t<Box display=\"inline-block\" m={0.5}>\n\t\t\t\t\t\t\t<MigrationDialog\n\t\t\t\t\t\t\t\tid=\"staking-pool-tom-deposit-form\"\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tisWithdrawMigration\n\t\t\t\t\t\t\t\t\t\t? t(\"bonds.unbond\")\n\t\t\t\t\t\t\t\t\t\t: t(\"bonds.requestMigrate\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbtnLabel={\n\t\t\t\t\t\t\t\t\tisWithdrawMigration\n\t\t\t\t\t\t\t\t\t\t? t(\"bonds.unbond\")\n\t\t\t\t\t\t\t\t\t\t: t(\"bonds.requestMigrate\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tbond={bond}\n\t\t\t\t\t\t\t\tpoolLabel={poolLabel}\n\t\t\t\t\t\t\t\tcreated={created}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tisWithdrawMigration={isWithdrawMigration}\n\t\t\t\t\t\t\t\t// disabled={!!disabledDepositsMsg}\n\t\t\t\t\t\t\t\t// tooltipTitle={disabledDepositsMsg}\n\t\t\t\t\t\t\t\t// depositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\t\t\t\t\t// actionType={DEPOSIT_ACTION_TYPES.deposit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<TableContainer xs={12}>\n\t\t\t\t<Table aria-label=\"Bonds table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{t(\"bonds.bondAmount\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.pool\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.created\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.status\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.actions\")}</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{[...(stats.userBonds || [])]\n\t\t\t\t\t\t\t.filter(x => x.status !== \"Unbonded\" && x.status !== \"Migrated\")\n\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t.map(renderBondRow)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\n\t\t\t{!stats.loaded || stats.userBonds.length ? null : (\n\t\t\t\t<Box mt={2}>\n\t\t\t\t\t<Alert variant=\"filled\" severity=\"info\">\n\t\t\t\t\t\t{t(\"bonds.bondExplanationMsg\", { count: UNBOND_DAYS })}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport LinearProgress from \"@material-ui/core/LinearProgress\"\nimport { CardRow } from \"./cardCommon\"\n\nexport default function StatsCard({\n\tsize,\n\ttitle,\n\ttitleInfo,\n\tsubtitle,\n\tsubtitleInfo,\n\textra,\n\textraInfo,\n\tmoreExtra,\n\tmoreExtraInfo,\n\tloaded,\n\tactions,\n\tmultilineLinesAmounts,\n\tjustify\n}) {\n\treturn (\n\t\t<Box>\n\t\t\t{title && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={title}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={titleInfo}\n\t\t\t\t\tjustify={justify}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{subtitle && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"special.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 21 : 17}\n\t\t\t\t\ttext={subtitle}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tmultilineLinesAmounts={multilineLinesAmounts}\n\t\t\t\t\tinfoText={subtitleInfo}\n\t\t\t\t\tjustify={justify}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{extra && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={extra}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={extraInfo}\n\t\t\t\t\tjustify={justify}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{moreExtra && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"special.primary\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={moreExtra}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={moreExtraInfo}\n\t\t\t\t\tjustify={justify}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{actions || <></>}\n\n\t\t\t{!loaded ? <LinearProgress /> : <></>}\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useState, useContext } from \"react\"\nimport {\n\tgetDepositPool,\n\tgetDepositActionByTypeAndPoolId,\n\tgetPoolStatsByPoolId,\n\tisValidNumberString,\n\tgetDepositActionMaxAmountByTypeAndPoolId,\n\tDEPOSIT_ACTION_TYPES\n} from \"../actions\"\nimport {\n\tparseADX,\n\tformatADX,\n\tformatADXPretty,\n\ttoIdAttributeString,\n\tformatDateTime\n} from \"../helpers/formatting\"\nimport { DEPOSIT_POOLS, ZERO } from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTextField,\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormControlLabel,\n\tCheckbox,\n\tBox,\n\tFormHelperText\n} from \"@material-ui/core\"\nimport Tooltip from \"./Tooltip\"\nimport AppContext from \"../AppContext\"\nimport { useTranslation, Trans } from \"react-i18next\"\nimport StatsCard from \"./StatsCard\"\nimport { Alert } from \"@material-ui/lab\"\nimport { BigNumber } from \"ethers\"\n\nexport default function DepositForm({\n\tdepositPool,\n\tcloseDialog,\n\tactionType = DEPOSIT_ACTION_TYPES.deposit\n}) {\n\tconst { t } = useTranslation()\n\tconst { stats, chosenWalletType, wrapDoingTxns } = useContext(AppContext)\n\n\tconst [actionAmount, setActionAmount] = useState(\"0.0\")\n\tconst [amountErr, setAmountErr] = useState(false)\n\tconst [amountErrText, setAmountErrText] = useState(\"\")\n\tconst [amountErrVals, setAmountErrVals] = useState({})\n\tconst [selectErr, setSelectErr] = useState(false)\n\tconst [selectErrText, setSelectErrText] = useState(\"\")\n\tconst [dirtyInputs, setDirtyInputs] = useState(false)\n\tconst [confirmation, setConfirmation] = useState(false)\n\tconst [rageConfirmed, setRageConfirmed] = useState(false)\n\tconst [activePool, setActivePool] = useState({})\n\tconst [unbondCommitment, setUnbondCommitment] = useState(null)\n\tconst [activeUnbondCommitments, setActiveUnbondCommitments] = useState(null)\n\tconst [maxAmount, setMaxAmount] = useState(ZERO)\n\tconst [poolStats, setPoolStats] = useState({})\n\n\tuseEffect(() => {\n\t\tconst newActivePool = getDepositPool(depositPool || {})\n\t\tconst newPoolStats = newActivePool\n\t\t\t? getPoolStatsByPoolId(stats, newActivePool.id)\n\t\t\t: {}\n\t\tconst newMaxAmount = getDepositActionMaxAmountByTypeAndPoolId(\n\t\t\tactionType,\n\t\t\tnewActivePool.id,\n\t\t\tnewPoolStats,\n\t\t\tstats.userWalletBalance\n\t\t)\n\n\t\tconst newActiveUnbondCommitments = newPoolStats.userLeaves\n\t\t\t? [...newPoolStats.userLeaves].filter(x => !x.withdrawTx)\n\t\t\t: null\n\n\t\tsetPoolStats(newPoolStats)\n\t\tsetActiveUnbondCommitments(newActiveUnbondCommitments)\n\t\tsetActivePool(newActivePool)\n\t\tsetMaxAmount(newMaxAmount)\n\t}, [actionType, depositPool, stats])\n\n\tconst onAction = async () => {\n\t\tif (!activePool) {\n\t\t\treturn\n\t\t}\n\n\t\tsetConfirmation(false)\n\t\tif (closeDialog) closeDialog()\n\n\t\tconst action = getDepositActionByTypeAndPoolId(actionType, activePool.id)\n\n\t\tawait wrapDoingTxns(\n\t\t\taction.bind(\n\t\t\t\tnull,\n\t\t\t\tstats,\n\t\t\t\tchosenWalletType,\n\t\t\t\tparseADX(actionAmount),\n\t\t\t\tunbondCommitment\n\t\t\t)\n\t\t)()\n\t}\n\n\tconst confirmationLabel = activePool ? activePool.confirmationLabel : \"\"\n\tconst rageLeaveConfirmed =\n\t\trageConfirmed || actionType !== DEPOSIT_ACTION_TYPES.rageLeave\n\tconst confirmed = (!confirmationLabel || confirmation) && rageLeaveConfirmed\n\n\tuseEffect(() => {\n\t\tsetAmountErr(false)\n\t\tsetSelectErr(false)\n\t\tsetAmountErrText(\"\")\n\t\tsetAmountErrVals({})\n\n\t\tif (\n\t\t\tactionType === DEPOSIT_ACTION_TYPES.withdraw &&\n\t\t\tactivePool.id === DEPOSIT_POOLS[1].id &&\n\t\t\t!unbondCommitment\n\t\t) {\n\t\t\tsetAmountErr(false)\n\t\t\tsetAmountErrText(\"\")\n\n\t\t\tsetSelectErr(true)\n\t\t\tsetSelectErrText(\"errors.unbondCommitmentNotSelected\")\n\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\tactionType === DEPOSIT_ACTION_TYPES.withdraw &&\n\t\t\tactivePool.id === DEPOSIT_POOLS[1].id &&\n\t\t\tunbondCommitment\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!isValidNumberString(actionAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"errors.invalidAmountInput\")\n\t\t\treturn\n\t\t}\n\n\t\tconst amountBN = parseADX(actionAmount)\n\n\t\tconst minStakingAmountBN = activePool\n\t\t\t? parseADX(activePool.minStakingAmount || \"0\")\n\t\t\t: ZERO\n\t\tif (amountBN.gt(maxAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"errors.lowADXAmount\")\n\t\t\treturn\n\t\t}\n\t\tif (activePool && amountBN.lte(minStakingAmountBN)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"errors.lessThanMinPoolADX\")\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\tactionType === DEPOSIT_ACTION_TYPES.deposit &&\n\t\t\tpoolStats &&\n\t\t\tpoolStats.poolTotalStaked &&\n\t\t\tpoolStats.poolDepositsLimit &&\n\t\t\tamountBN.add(poolStats.poolTotalStaked).gt(poolStats.poolDepositsLimit)\n\t\t) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"errors.amountOverPoolLimit\")\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\tactionType === DEPOSIT_ACTION_TYPES.deposit &&\n\t\t\tpoolStats &&\n\t\t\tactivePool.id === DEPOSIT_POOLS[1].id &&\n\t\t\tamountBN.add(poolStats.currentBalanceADX).gt(activePool.userDepositsLimit)\n\t\t) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"errors.poolMaxDepositReached\")\n\t\t\tsetAmountErrVals({\n\t\t\t\tcurrentDeposited: formatADXPretty(poolStats.currentBalanceADX),\n\t\t\t\tdepositAmount: formatADXPretty(amountBN),\n\t\t\t\tuserDepositsLimit: formatADXPretty(\n\t\t\t\t\tBigNumber.from(activePool.userDepositsLimit)\n\t\t\t\t),\n\t\t\t\tcurrency: \"ADX\"\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\t}, [\n\t\tactionAmount,\n\t\tactionType,\n\t\tactivePool,\n\t\tmaxAmount,\n\t\tpoolStats,\n\t\tunbondCommitment\n\t])\n\n\tconst onAmountChange = amountStr => {\n\t\tsetActionAmount(amountStr)\n\t\tsetDirtyInputs(true)\n\t}\n\n\tconst onUnbondCommitmentChange = ev => {\n\t\tsetUnbondCommitment(ev.target.value)\n\t\tsetDirtyInputs(true)\n\t}\n\n\tconst getActionBtnText = () => {\n\t\tswitch (actionType) {\n\t\t\tcase DEPOSIT_ACTION_TYPES.deposit:\n\t\t\t\treturn t(\"common.depositCurrency\", { currency: \"ADX\" })\n\t\t\tcase DEPOSIT_ACTION_TYPES.withdraw:\n\t\t\t\treturn t(\"common.withdrawCurrency\", { currency: \"ADX\" })\n\t\t\tcase DEPOSIT_ACTION_TYPES.unbondCommitment:\n\t\t\t\treturn t(\"deposits.makeUnbondCommitment\")\n\t\t\tcase DEPOSIT_ACTION_TYPES.rageLeave:\n\t\t\t\treturn t(\"deposits.rageLeave\")\n\t\t\tdefault:\n\t\t\t\treturn \"Do it now\"\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t{actionType === DEPOSIT_ACTION_TYPES.withdraw &&\n\t\t\t\tactiveUnbondCommitments ? (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControl fullWidth required>\n\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t{t(\"deposits.selectUnbondCommitmentToWithdraw\")}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tid={`new-${actionType}-unbond-commitment-withdraw-select`}\n\t\t\t\t\t\t\t\tvalue={unbondCommitment || \"\"}\n\t\t\t\t\t\t\t\tonChange={onUnbondCommitmentChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem value={\"\"}>\n\t\t\t\t\t\t\t\t\t<em>{t(\"common.none\")}</em>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t{activeUnbondCommitments.map(uc => {\n\t\t\t\t\t\t\t\t\tconst disabled = !uc.canWithdraw\n\t\t\t\t\t\t\t\t\tconst unlocksAt = uc.unlocksAt.toNumber()\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t\t\tid={`new-${actionType}-form-values-${unlocksAt}`}\n\t\t\t\t\t\t\t\t\t\t\tkey={unlocksAt}\n\t\t\t\t\t\t\t\t\t\t\tvalue={uc}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box px={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\t\t\t\t\t\t\tloaded: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `${t(\"deposits.unlocksAt\")} ${formatDateTime(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMath.ceil(unlocksAt * 1000)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle: `value ${formatADXPretty(uc.adxValue)} ADX`,\n\t\t\t\t\t\t\t\t\t\t\t\t\textra: uc.canWithdraw\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: !!uc.withdrawTx\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? t(\"deposits.alreadyWithdrawn\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: t(\"deposits.notUnlockedYet\")\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{t(\"deposits.selectUnbondCommitmentToWithdrawInfo\")}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid={`new-${actionType}-form-amount-field`}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t(\"common.labelADXAmount\")}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={actionAmount}\n\t\t\t\t\t\t\terror={dirtyInputs && amountErr}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tonAmountChange(ev.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\thelperText={t(\n\t\t\t\t\t\t\t\tdirtyInputs && amountErr ? amountErrText : \"\",\n\t\t\t\t\t\t\t\tamountErrVals\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tid={`new-${actionType}-form-max-amount-btn`}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tonAmountChange(formatADX(maxAmount))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"common.maxAmountBtn\", {\n\t\t\t\t\t\t\t\t\tamount: formatADXPretty(maxAmount),\n\t\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{actionType === DEPOSIT_ACTION_TYPES.rageLeave && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Alert severity=\"warning\">\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\t\t\tlabel={t(\"deposits.rageLeaveWarning\", {\n\t\t\t\t\t\t\t\t\tlockupPeriod: poolStats.unbondDays,\n\t\t\t\t\t\t\t\t\tpercent: (poolStats.rageReceivedPromilles / 10).toFixed(2),\n\t\t\t\t\t\t\t\t\ttoken: \"ADX\"\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tid={`new-${actionType}-tos-check`}\n\t\t\t\t\t\t\t\t\t\tchecked={rageConfirmed}\n\t\t\t\t\t\t\t\t\t\tonChange={ev => setRageConfirmed(ev.target.checked)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></FormControlLabel>\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t{activePool ? (\n\t\t\t\t\t<Grid item xs={12} container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolRewardPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.rewardPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolSlashingPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.slashPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"deposits.lockupPeriodLabel\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(\"deposits.lockupDays\", { count: poolStats.unbondDays })}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">{t(\"common.poolAPY\")}:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\ti18nKey=\"bonds.currentYield\"\n\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\tapy: (poolStats.currentAPY * 100).toFixed(2),\n\t\t\t\t\t\t\t\t\t\tsign: \"%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\tfarmer: (\n\t\t\t\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\n\t\t\t\t{confirmationLabel && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\t\tlabel={t(confirmationLabel)}\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tid={`new-${actionType}-form-tos-check`}\n\t\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t></FormControlLabel>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Tooltip title={t(amountErrText || selectErrText || \"\")}>\n\t\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tid={`new-${actionType}-stake-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\tactivePool ? activePool.poolId || actionType : \"-not-selected\"\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t!confirmed || !!amountErr || !activePool || !!selectErr\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{getActionBtnText()}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React, { Fragment, useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tTableRow,\n\tTableCell,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { DEPOSIT_POOLS, iconByPoolId } from \"../helpers/constants\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport AppContext from \"../AppContext\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\nimport { AmountText } from \"./cardCommon\"\nimport { DEPOSIT_ACTION_TYPES } from \"../actions\"\n\nimport { useTranslation } from \"react-i18next\"\n\nconst DepositsDialog = WithDialog(DepositForm)\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\twidth: 42,\n\t\t\theight: 42,\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t}\n\t}\n})\n\nconst getStakingPool = ({\n\tt,\n\tstats,\n\tdisabledDepositsMsg,\n\tdisabledWithdrawsMsg,\n\tdisableActionsMsg\n}) => {\n\tconst { tomStakingV5PoolStats } = stats\n\n\treturn {\n\t\tpoolId: \"adex-staking-pool\",\n\t\tlabel: t(\"common.tomStakingPool\"),\n\t\tcurrentAPY: tomStakingV5PoolStats.currentAPY,\n\t\tbalance: (\n\t\t\t<Fragment>\n\t\t\t\t<Box>\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\t\t\ttomStakingV5PoolStats.currentBalanceADX\n\t\t\t\t\t\t)} ${\"ADX\"}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t{/* <AmountText\n\t\t\t\t\t\ttext={`(=${formatADXPretty(\n\t\t\t\t\t\t\ttomStakingV5PoolStats.balanceShares\n\t\t\t\t\t\t)} ${\"shares\"})`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/> */}\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{`(${(tomStakingV5PoolStats.userShare * 100).toFixed(4)} %)`}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Fragment>\n\t\t),\n\t\tallTimeReward: (\n\t\t\t<AmountText\n\t\t\t\ttext={`${formatADXPretty(tomStakingV5PoolStats.totalRewards)} ${\"ADX\"}`}\n\t\t\t\tfontSize={17}\n\t\t\t/>\n\t\t),\n\t\tdepositsADXTotal: (\n\t\t\t<AmountText\n\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\ttomStakingV5PoolStats.depositsADXTotal\n\t\t\t\t)} ${\"ADX\"}`}\n\t\t\t\tfontSize={17}\n\t\t\t/>\n\t\t),\n\t\tpendingToUnlockTotalADX: (\n\t\t\t<AmountText\n\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\ttomStakingV5PoolStats.leavesPendingToUnlockTotalADX\n\t\t\t\t)} ${\"ADX\"}`}\n\t\t\t\tfontSize={17}\n\t\t\t/>\n\t\t),\n\t\twithdrawsADXTotal: (\n\t\t\t<AmountText\n\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\ttomStakingV5PoolStats.withdrawsADXTotal\n\t\t\t\t)} ${\"ADX\"}`}\n\t\t\t\tfontSize={17}\n\t\t\t/>\n\t\t),\n\t\treadyToWithdrawTotalADX: (\n\t\t\t<AmountText\n\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\ttomStakingV5PoolStats.leavesReadyToWithdrawTotalADX\n\t\t\t\t)} ${\"ADX\"}`}\n\t\t\t\tfontSize={17}\n\t\t\t/>\n\t\t),\n\t\tactions: [\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"staking-pool-tom-deposit-form\"\n\t\t\t\ttitle={t(\"deposits.depositTo\", { pool: t(\"common.tomStakingPool\") })}\n\t\t\t\tbtnLabel={t(\"common.deposit\")}\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tfullWidth\n\t\t\t\tdisabled={!!disabledDepositsMsg}\n\t\t\t\ttooltipTitle={disabledDepositsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.deposit}\n\t\t\t/>,\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"staking-pool-tom-leave-form\"\n\t\t\t\ttitle={t(\"deposits.unbondCommitmentFrom\", {\n\t\t\t\t\tpool: t(\"common.tomStakingPool\")\n\t\t\t\t})}\n\t\t\t\tbtnLabel={t(\"common.unbond\")}\n\t\t\t\tcolor=\"default\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tfullWidth\n\t\t\t\tdisabled={!!disableActionsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\ttooltipTitle={disableActionsMsg}\n\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.unbondCommitment}\n\t\t\t/>,\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"staking-pool-tom-withdraw-form\"\n\t\t\t\ttitle={t(\"deposits.withdrawFrom\", { pool: t(\"common.tomStakingPool\") })}\n\t\t\t\tbtnLabel={t(\"common.withdraw\")}\n\t\t\t\tcolor=\"default\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tfullWidth\n\t\t\t\tdisabled={!!disabledWithdrawsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\ttooltipTitle={disabledWithdrawsMsg}\n\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.withdraw}\n\t\t\t/>,\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"staking-pool-tom-rage-leave-form\"\n\t\t\t\ttitle={t(\"deposits.rageLeaveFrom\", {\n\t\t\t\t\tpool: t(\"common.tomStakingPool\")\n\t\t\t\t})}\n\t\t\t\tbtnLabel={t(\"deposits.rageLeave\")}\n\t\t\t\tcolor=\"default\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tfullWidth\n\t\t\t\tdisabled={!!disableActionsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\ttooltipTitle={disableActionsMsg}\n\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.rageLeave}\n\t\t\t/>\n\t\t]\n\t}\n}\n\nconst getLoyaltyPoolDeposit = ({\n\tt,\n\tstats,\n\tdisabledDepositsMsg,\n\tdisabledWithdrawsMsg\n}) => {\n\tconst { loyaltyPoolStats } = stats\n\treturn {\n\t\tpoolId: \"adex-loyalty-pool\",\n\t\tlabel: t(\"common.loPo\"),\n\t\tcurrentAPY: loyaltyPoolStats.currentAPY,\n\t\tbalance: (\n\t\t\t<Fragment>\n\t\t\t\t<Box>\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\t\t\tloyaltyPoolStats.balanceLpToken\n\t\t\t\t\t\t)} ${\"ADX-LOYALTY\"}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`(=${formatADXPretty(\n\t\t\t\t\t\t\tloyaltyPoolStats.balanceLpADX\n\t\t\t\t\t\t)} ${\"ADX\"})`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Fragment>\n\t\t),\n\t\tallTimeReward: loyaltyPoolStats.allTimeRewardADX ? (\n\t\t\t<AmountText\n\t\t\t\ttext={`${formatADXPretty(loyaltyPoolStats.allTimeRewardADX)} ${\"ADX\"}`}\n\t\t\t\tfontSize={17}\n\t\t\t/>\n\t\t) : (\n\t\t\tt(\"common.unknown\")\n\t\t),\n\t\tdepositsADXTotal: t(\"common.NA\"),\n\t\tpendingToUnlockTotalADX: t(\"common.NA\"),\n\t\treadyToWithdrawTotalADX: t(\"common.NA\"),\n\t\twithdrawsADXTotal: t(\"common.NA\"),\n\t\tactions: [\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"loyalty-pool-deposit-form\"\n\t\t\t\ttitle={t(\"deposits.depositTo\", { pool: t(\"common.loPo\") })}\n\t\t\t\tbtnLabel={t(\"common.deposit\")}\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tfullWidth\n\t\t\t\tdisabled={!!disabledDepositsMsg}\n\t\t\t\ttooltipTitle={disabledDepositsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.deposit}\n\t\t\t/>,\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"loyalty-pool-withdraw-form\"\n\t\t\t\ttitle={t(\"deposits.withdrawFrom\", { pool: t(\"common.loPo\") })}\n\t\t\t\tbtnLabel={t(\"common.withdraw\")}\n\t\t\t\tcolor=\"default\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tfullWidth\n\t\t\t\tdisabled={!!disabledWithdrawsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t\ttooltipTitle={disabledWithdrawsMsg}\n\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.withdraw}\n\t\t\t/>\n\t\t]\n\t}\n}\n\nconst updateDeposits = (deposits, newDeposit) => {\n\tconst index = deposits.findIndex(x => x.poolId === newDeposit.poolId)\n\tconst newDeposits = [...deposits]\n\n\tif (index > -1) {\n\t\tnewDeposits[index] = newDeposit\n\t} else {\n\t\tnewDeposits.push(newDeposit)\n\t}\n\n\treturn newDeposits\n}\n\nexport default function Deposits() {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst [deposits, setDeposits] = useState([])\n\tconst { stats, chosenWalletType } = useContext(AppContext)\n\tconst { loyaltyPoolStats } = stats\n\n\tconst disableActionsMsg = !chosenWalletType.name\n\t\t? t(\"common.connectWallet\")\n\t\t: !loyaltyPoolStats.loaded\n\t\t? t(\"common.loadingData\")\n\t\t: \"\"\n\n\t// TODO: UPDATE if more deposit pools\n\tconst disableDepositsMsg =\n\t\tdisableActionsMsg ||\n\t\t(loyaltyPoolStats.poolTotalStaked.gte(loyaltyPoolStats.poolDepositsLimit)\n\t\t\t? t(\"deposits.depositsLimitReached\")\n\t\t\t: \"\")\n\n\tuseEffect(() => {\n\t\tconst { loyaltyPoolStats, tomStakingV5PoolStats } = stats\n\t\tlet loadedDeposits = [...deposits]\n\t\tif (loyaltyPoolStats.loaded) {\n\t\t\t// const disabledDepositsMsg = !chosenWalletType.name ?\n\t\t\t// \t'Connect wallet' :\n\t\t\t// \t(loyaltyPoolStats.poolTotalStaked.gte(loyaltyPoolStats.poolDepositsLimit) ?\n\t\t\t// \t\t'Pool deposits limit reached' : ''\n\t\t\t// \t)\n\t\t\tconst disabledWithdrawsMsg = disableActionsMsg\n\n\t\t\tconst loyaltyPoolDeposit = getLoyaltyPoolDeposit({\n\t\t\t\tt,\n\t\t\t\tstats,\n\t\t\t\tdisabledDepositsMsg: disableDepositsMsg,\n\t\t\t\tdisabledWithdrawsMsg\n\t\t\t})\n\t\t\tloadedDeposits = updateDeposits(loadedDeposits, loyaltyPoolDeposit)\n\t\t}\n\n\t\tif (tomStakingV5PoolStats.loaded) {\n\t\t\tconst disableDepositsMsg = disableActionsMsg\n\n\t\t\tconst disabledWithdrawsMsg =\n\t\t\t\tdisableActionsMsg ||\n\t\t\t\t(!tomStakingV5PoolStats.hasActiveUnbondCommitments\n\t\t\t\t\t? t(\"deposits.unbondToWithdraw\")\n\t\t\t\t\t: \"\")\n\n\t\t\tconst stakingPoolDeposit = getStakingPool({\n\t\t\t\tt,\n\t\t\t\tstats,\n\t\t\t\tdisableActionsMsg,\n\t\t\t\tdisabledDepositsMsg: disableDepositsMsg,\n\t\t\t\tdisabledWithdrawsMsg\n\t\t\t})\n\n\t\t\tloadedDeposits = updateDeposits(loadedDeposits, stakingPoolDeposit)\n\t\t}\n\n\t\tsetDeposits(loadedDeposits)\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [stats])\n\n\tconst renderDepositRow = deposit => {\n\t\tconst PoolIcon = iconByPoolId(deposit)\n\t\treturn (\n\t\t\t<TableRow key={deposit.poolId}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{PoolIcon && (\n\t\t\t\t\t\t\t<Box mr={1}>\n\t\t\t\t\t\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t\t<PoolIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box>{deposit.label}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{`${(deposit.currentAPY * 100).toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} %`}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.balance}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.allTimeReward}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.depositsADXTotal}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.withdrawsADXTotal}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.pendingToUnlockTotalADX}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.readyToWithdrawTotalADX}</TableCell>\n\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{deposit.actions.map((action, index) => (\n\t\t\t\t\t\t\t<Box key={index} my={0.25}>\n\t\t\t\t\t\t\t\t{action}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t{/* <Box>\n\t\t\t\t<DepositsDialog\n\t\t\t\t\tid=\"deposits-table-open-deposit-modal-btn\"\n\t\t\t\t\ttitle=\"Add new deposit\"\n\t\t\t\t\tbtnLabel=\"New Deposit\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tdisabled={!!disableDepositsMsg}\n\t\t\t\t\ttooltipTitle={disableDepositsMsg}\n\t\t\t\t/>\n\t\t\t</Box> */}\n\t\t\t<Box>\n\t\t\t\t<TableContainer xs={12}>\n\t\t\t\t\t<Table aria-label=\"Bonds table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t(\"common.pool\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>{t(\"common.APY\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.balance\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{t(\"deposits.allTimeRewards\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{t(\"deposits.depositsADXTotal\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{t(\"deposits.withdrawsADXTotal\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{t(\"deposits.pendingToUnlockTotal\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t{t(\"deposits.readyToWithdrawTotal\")}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.actions\")}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>{[...(deposits || [])].map(renderDepositRow)}</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useContext } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tTableRow,\n\tTableCell,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport {\n\tformatADXPretty,\n\tformatDateTime,\n\tformatTxnHash\n} from \"../helpers/formatting\"\nimport AppContext from \"../AppContext\"\nimport { AmountText } from \"./cardCommon\"\nimport { useTranslation } from \"react-i18next\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport { iconByPoolId } from \"../helpers/constants\"\nimport { STAKING_POOL_EVENT_TYPES } from \"../actions/v5actions\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\twidth: 42,\n\t\t\theight: 42,\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t}\n\t}\n})\n\nconst StakingEventRow = ({ stakingEvent }) => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst PoolIcon = iconByPoolId({ poolId: \"adex-staking-pool\" })\n\n\treturn (\n\t\t<TableRow>\n\t\t\t<TableCell>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t>\n\t\t\t\t\t{PoolIcon && (\n\t\t\t\t\t\t<Box mr={1}>\n\t\t\t\t\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<PoolIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t<Box>{stakingEvent.label}</Box>\n\t\t\t\t</Box>\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"right\">{stakingEvent.type}</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t<AmountText\n\t\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\t\tstakingEvent.adxAmount ||\n\t\t\t\t\t\t\tstakingEvent.maxTokens ||\n\t\t\t\t\t\t\tstakingEvent.shares\n\t\t\t\t\t)} ${\n\t\t\t\t\t\tstakingEvent.type ===\n\t\t\t\t\t\t\tSTAKING_POOL_EVENT_TYPES.shareTokensTransferIn ||\n\t\t\t\t\t\tstakingEvent.type ===\n\t\t\t\t\t\t\tSTAKING_POOL_EVENT_TYPES.shareTokensTransferOut\n\t\t\t\t\t\t\t? \"ADX-SHARE\"\n\t\t\t\t\t\t\t: \"ADX\"\n\t\t\t\t\t}`}\n\t\t\t\t\tfontSize={17}\n\t\t\t\t/>\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t{formatDateTime(new Date(stakingEvent.timestamp))}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t{stakingEvent.type === STAKING_POOL_EVENT_TYPES.enter && \"-\"}\n\t\t\t\t{stakingEvent.type === STAKING_POOL_EVENT_TYPES.leave && (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t{t(\"deposits.unlockAt\", {\n\t\t\t\t\t\t\t\tunlocksAt: formatDateTime(new Date(stakingEvent.unlocksAt))\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Box>{\" \"}\n\t\t\t\t\t\t*\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{stakingEvent.type === STAKING_POOL_EVENT_TYPES.rageLeave && (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t{t(\"deposits.maxTokens\", {\n\t\t\t\t\t\t\t\tmaxTokens: `${formatADXPretty(stakingEvent.maxTokens)}`,\n\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t{t(\"deposits.receivedTokens\", {\n\t\t\t\t\t\t\t\treceivedTokens: `${formatADXPretty(\n\t\t\t\t\t\t\t\t\tstakingEvent.receivedTokens\n\t\t\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t{\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tid={`staking-v5-tx-on-etherscan-${stakingEvent.transactionHash}`}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref={`https://etherscan.io/tx/${stakingEvent.transactionHash}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{formatTxnHash(stakingEvent.transactionHash)}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t}\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n\nexport default function StakingPoolTxnsHistory() {\n\tconst { t } = useTranslation()\n\tconst { stats } = useContext(AppContext)\n\tconst { tomStakingV5PoolStats } = stats\n\tconst { stakings } = tomStakingV5PoolStats\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box>\n\t\t\t\t<TableContainer xs={12}>\n\t\t\t\t\t<Table aria-label=\"Bonds table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t(\"common.pool\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"deposits.eventType\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"deposits.amount\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"deposits.from\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"deposits.extraInfo\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"deposits.txnHash\")}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{[...(stakings || [])].reverse().map((stakingEvent, i) => (\n\t\t\t\t\t\t\t\t<StakingEventRow\n\t\t\t\t\t\t\t\t\tkey={stakingEvent.blockNumber + stakingEvent.type + i}\n\t\t\t\t\t\t\t\t\tstakingEvent={stakingEvent}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Box, Typography } from \"@material-ui/core\"\nimport { AddSharp as AddIcon } from \"@material-ui/icons\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\nimport { DEPOSIT_POOLS } from \"../helpers/constants\"\nimport { DEPOSIT_ACTION_TYPES } from \"../actions\"\n\nconst DepositsDialog = WithDialog(DepositForm)\n\nconst useStyles = makeStyles(theme => ({\n\tfabIcon: {\n\t\tmarginRight: theme.spacing(1)\n\t}\n}))\n\nconst SectionHeader = ({ title, actions }) => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\tconst { stats, chosenWalletType } = useContext(AppContext)\n\tconst canStake = !!chosenWalletType.name && !!stats.connectedWalletAddress\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"row\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\talignItems=\"center\"\n\t\t\tflexWrap=\"wrap\"\n\t\t>\n\t\t\t<Box color=\"text.main\" mb={1}>\n\t\t\t\t<Typography variant=\"h3\" style={{ wordBreak: \"break-word\" }}>\n\t\t\t\t\t{title}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box mb={1}>\n\t\t\t\t{!!actions\n\t\t\t\t\t? actions\n\t\t\t\t\t: chosenWalletType.name && (\n\t\t\t\t\t\t\t<DepositsDialog\n\t\t\t\t\t\t\t\tid={`section-header-fab-stake-adx-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\ttitle={t(\"deposits.depositTo\", {\n\t\t\t\t\t\t\t\t\tpool: t(\"common.tomStakingPool\")\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tbtnLabel={t(\"bonds.stakeADX\")}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\tvariant=\"extended\"\n\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ticon={<AddIcon className={classes.fabIcon} />}\n\t\t\t\t\t\t\t\tdisabled={!stats.loaded || !canStake}\n\t\t\t\t\t\t\t\ttooltipTitle={t(\"common.connectWallet\")}\n\t\t\t\t\t\t\t\tdepositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\t\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.deposit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t  )}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SectionHeader\n","import React, { useContext } from \"react\"\nimport {\n\tBox,\n\tTypography,\n\tAccordion,\n\tAccordionSummary,\n\tAccordionDetails\n} from \"@material-ui/core\"\nimport { ExpandMore } from \"@material-ui/icons\"\nimport AppContext from \"../AppContext\"\nimport Bonds from \"./Bonds\"\nimport Deposits from \"./Deposits\"\nimport StakingPoolTxnsHistory from \"./StakingPoolTxnsHistory\"\nimport SectionHeader from \"./SectionHeader\"\nimport { useTranslation } from \"react-i18next\"\n\nconst Stakings = () => {\n\tconst { t } = useTranslation()\n\tconst {\n\t\tstats,\n\t\tsetToUnbond,\n\t\tonUnbond,\n\t\tonMigrationFinalize,\n\t\tsetToRestake,\n\t\tonClaimRewards,\n\t\tonRebond\n\t} = useContext(AppContext)\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader title={t(\"common.staked\")} />\n\t\t\t<Box mt={2}>\n\t\t\t\t<Box color=\"text.main\">\n\t\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t\t{t(\"common.bonds\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box mt={2} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box p={3}>\n\t\t\t\t\t\t{Bonds({\n\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\tonRequestUnbond: setToUnbond,\n\t\t\t\t\t\t\tonUnbond,\n\t\t\t\t\t\t\tonMigrationFinalize,\n\t\t\t\t\t\t\tonClaimRewards,\n\t\t\t\t\t\t\tonRestake: setToRestake,\n\t\t\t\t\t\t\tonRebond\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Box color=\"text.main\">\n\t\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t\t{t(\"common.deposits\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box mt={3} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box p={3}>\n\t\t\t\t\t\t<Deposits />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Accordion square>\n\t\t\t\t\t<AccordionSummary\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\t\taria-controls=\"panel1a-content\"\n\t\t\t\t\t\tid=\"panel1a-header\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{t(\"deposits.txnsHistory\")}</Typography>\n\t\t\t\t\t</AccordionSummary>\n\t\t\t\t\t<AccordionDetails>\n\t\t\t\t\t\t<Box mt={2} bgcolor=\"background.darkerPaper\" width={1}>\n\t\t\t\t\t\t\t{StakingPoolTxnsHistory({\n\t\t\t\t\t\t\t\tstats\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</AccordionDetails>\n\t\t\t\t</Accordion>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Stakings\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1544\",\n  \"data-name\": \"Group 1544\",\n  transform: \"translate(0 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1083\",\n  \"data-name\": \"Path 1083\",\n  d: \"M807.436-579.082c.041.026.068.074.108.1.11.085.191.28.367.169.149-.093.082-.273.079-.417a.738.738,0,0,0-.158-.334c-.068-.119-.187-.242-.184-.361.016-.549-.46-.714-.761-1.111C806.808-580.246,806.722-579.548,807.436-579.082Z\",\n  transform: \"translate(-788.213 591.413)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1084\",\n  \"data-name\": \"Path 1084\",\n  d: \"M789.523-576.75a.507.507,0,0,0-.481.481.507.507,0,0,0,.481.481.51.51,0,0,0,.482-.481A.508.508,0,0,0,789.523-576.75Z\",\n  transform: \"translate(-780.138 589.47)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1085\",\n  \"data-name\": \"Path 1085\",\n  d: \"M797.478-585.725c.533-.325,1.033-.7,1.547-1.055v-.117c-.534-.361-1.063-.729-1.6-1.079-.342-.221-.4-.443-.1-.748.232-.238.433-.5.653-.752.7-.788.7-.787-.324-1.142-.332-.115-.661-.241-1-.348s-.41-.3-.243-.619c.244-.467.465-.947.7-1.421.151-.31.072-.48-.29-.5-.487-.032-.973-.113-1.459-.107s-.612-.208-.515-.649c.1-.477.179-.959.275-1.438.075-.375-.051-.513-.436-.427-.457.1-.922.169-1.379.27s-.7-.036-.7-.55c0-.447-.08-.895-.092-1.342-.013-.49-.237-.5-.6-.321-.436.22-.882.418-1.317.641-.317.162-.509.092-.622-.251-.165-.5-.358-.992-.518-1.494-.123-.382-.305-.4-.584-.149s-.556.492-.841.73c-.8.672-.634.761-1.282-.2-.284-.419-.581-.831-.871-1.246h-.117c-.364.554-.739,1.1-1.089,1.666-.2.316-.383.327-.648.085-.359-.33-.752-.625-1.1-.962-.383-.368-.58-.26-.721.205-.124.41-.312.8-.423,1.216-.144.539-.419.573-.856.322-.371-.214-.773-.374-1.152-.575-.411-.218-.571-.059-.6.356-.035.506-.088,1.011-.113,1.517-.016.344-.177.438-.495.371-.516-.107-1.038-.185-1.551-.3-.408-.094-.495.091-.431.434.093.5.185,1,.3,1.493.093.411-.061.577-.472.593-.487.018-.972.085-1.459.109-.392.019-.48.2-.322.53.216.459.423.924.661,1.371.185.346.106.54-.259.659-.5.163-1,.344-1.495.514-.33.112-.382.288-.146.554.349.4.682.8,1.035,1.2.254.281.247.486-.09.7-.542.347-1.064.726-1.594,1.091v.117c.524.375,1.038.764,1.576,1.118.356.234.364.442.083.744-.347.371-.661.772-.99,1.158-.229.268-.173.443.161.554.426.143.847.3,1.27.45.665.236.663.235.346.9-.2.423-.4.849-.6,1.274-.119.255-.065.411.24.432.487.034.973.08,1.461.1.458.022.7.172.563.693-.122.471-.188.958-.272,1.439-.058.333.073.482.422.411.478-.1.959-.186,1.436-.286.384-.08.6.036.622.459.021.448.067.9.1,1.343.05.61.132.661.666.406a12.268,12.268,0,0,0,1.151-.582c.478-.294.693-.137.819.361.106.416.264.818.4,1.224.206.6.229.6.726.177.342-.292.686-.582,1.011-.893s.548-.3.788.092c.327.532.688,1.044,1.034,1.564H786c.366-.575.741-1.146,1.1-1.727.177-.289.332-.247.549-.043.412.387.849.748,1.266,1.132.273.251.423.189.533-.148.169-.519.369-1.029.533-1.549.112-.352.3-.411.618-.253.47.237.948.46,1.423.688.3.145.473.091.489-.286.021-.487.082-.972.109-1.458.023-.43.226-.6.649-.509.458.1.919.18,1.378.275.4.082.552-.063.47-.467-.085-.421-.156-.844-.231-1.267-.11-.619.007-.761.65-.8.389-.022.779-.046,1.169-.064.452-.02.594-.2.362-.625-.24-.447-.443-.913-.67-1.367-.145-.291-.084-.474.239-.577.5-.161.994-.351,1.5-.511.362-.115.433-.286.175-.583-.32-.368-.605-.77-.951-1.112C796.973-585.257,797.065-585.473,797.478-585.725Zm-7.909-6.648c.221-.187.468-.265.7-.021.956,1,1.913,2.008,2.855,3.026a1.46,1.46,0,0,1,.357,1.038c-.008,1.649,0,3.3,0,4.948a3.213,3.213,0,0,1-.118.892l-.985-.985c0-.94,0-1.88,0-2.821a.623.623,0,0,0-.209-.5c-.245-.231-.469-.487-.72-.711a1.537,1.537,0,0,1-.556-1.337,2.5,2.5,0,0,0-.961-2.394,2.842,2.842,0,0,1-.419-.478A.434.434,0,0,1,789.569-592.373Zm-1.378-1.167c.694,0,.786.09.786.77,0,1.837.008,3.674-.006,5.511,0,.343.069.486.45.479a1.326,1.326,0,0,1,1.526,1.335c.025.2.039.4.058.6l-3.594-3.594h.4c.418,0,.512-.092.513-.5q.007-1.7,0-3.41c0-.442-.087-.53-.524-.531q-2.417,0-4.835,0l-.654-.654Zm1.057,13.554q-2.156,0-4.312,0c-1.424,0-2.849,0-4.274,0-.433,0-.6-.182-.588-.589.011-.312.165-.52.479-.5.374.024.425-.148.425-.466q-.01-4.449,0-8.9l.653.653c0,.272,0,.544,0,.817,0,.442.087.53.524.531h.824l6,6c0,.349,0,.7,0,1.048,0,.227.086.3.309.31.457.019.607.181.591.583C789.861-580.133,789.691-579.987,789.248-579.986Zm3.914.32-14.2-14.2.761-.761,14.2,14.2Z\",\n  transform: \"translate(-772.74 600.039)\"\n}));\n\nvar SvgGaslessIc = function SvgGaslessIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26.285,\n    height: 26.403,\n    viewBox: \"0 0 26.285 26.403\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGaslessIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gasless-ic.8cc8ae7b.svg\";\nexport { ForwardRef as ReactComponent };","import React from // useContext,\n// useEffect,\n// useState\n\"react\"\n// import { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tSvgIcon,\n\tTypography\n\t// IconButton,\n\t// Button,\n\t// Modal,\n\t// Fade,\n\t// Backdrop\n} from \"@material-ui/core\"\n// import {\n// \tFileCopySharp as CopyIcon,\n// \tHelpSharp as HelpIcon\n// } from \"@material-ui/icons\"\n// import copy from \"copy-to-clipboard\"\nimport { ReactComponent as GaslessIcon } from \"./../resources/gasless-ic.svg\"\nimport SectionHeader from \"./SectionHeader\"\n// import AppContext from \"../AppContext\"\n// import { createNewBond, restake, getGaslessInfo } from \"../actions\"\n// import {\n// \tPOOLS,\n// \tMIN_BALANCE_FOR_GASLESS_TXNS,\n// \tUNBOND_DAYS,\n// \tZERO\n// } from \"../helpers/constants\"\n// import StatsCard from \"./StatsCard\"\n// import { formatADXPretty } from \"../helpers/formatting\"\n// import NewGaslessBondForm from \"./NewGaslessBondForm\"\n// import { ExternalAnchor } from \"./Anchor\"\n// import Tooltip from \"./Tooltip\"\n// import ConfirmationDialog from \"./ConfirmationDialog\"\nimport {\n\tuseTranslation\n\t// Trans\n} from \"react-i18next\"\n\n// const MIN_GASLESS_RE_STAKE_REWARDS = MIN_BALANCE_FOR_GASLESS_TXNS.div(4)\n\n// const useStyles = makeStyles(theme => {\n// \treturn {\n// \t\toverlay: {\n// \t\t\tposition: \"absolute\",\n// \t\t\tleft: 0,\n// \t\t\ttop: 0,\n// \t\t\tright: 0,\n// \t\t\tbottom: 0,\n// \t\t\tbackgroundColor: \"transparent\"\n// \t\t},\n// \t\tnoUserData: {\n// \t\t\topacity: 0.23\n// \t\t},\n// \t\taddress: {\n// \t\t\twordBreak: \"break-all\"\n// \t\t},\n// \t\tmodal: {\n// \t\t\tdisplay: \"flex\",\n// \t\t\talignItems: \"center\",\n// \t\t\tjustifyContent: \"center\"\n// \t\t},\n// \t\tbullets: {\n// \t\t\t[theme.breakpoints.up(\"md\")]: {\n// \t\t\t\tmaxWidth: 800\n// \t\t\t}\n// \t\t},\n// \t\tactions: {\n// \t\t\tmaxWidth: 400,\n// \t\t\tmargin: theme.spacing(1)\n// \t\t}\n// \t}\n// })\n\n// const defaultGaslessInfo = {\n// \tcanExecuteGasless: false,\n// \tcanExecuteGaslessError: {\n// \t\tmessage: \"common.connectWallet\"\n// \t}\n// }\n\nconst Gasless = () => {\n\tconst { t } = useTranslation()\n\t/*\n\tconst classes = useStyles()\n\tconst [bondOpen, setBondOpen] = useState(false)\n\tconst [reStakeOpen, setReStakeOpen] = useState(false)\n\tconst [bond, setBond] = useState({})\n\tconst [gaslessInfo, setGaslessInfo] = useState(defaultGaslessInfo)\n\n\tconst {\n\t\tstats,\n\t\tsetConnectWallet,\n\t\taddSnack,\n\t\tchosenWalletType,\n\t\twrapDoingTxns,\n\t\taccount\n\t} = useContext(AppContext)\n\n\tconst {\n\t\tuserIdentityBalance,\n\t\tidentityAddr,\n\t\tloaded,\n\t\ttomRewardADX,\n\t\tuserBonds\n\t} = stats\n\n\tconst {\n\t\tcanExecuteGasless,\n\t\tcanExecuteGaslessError: gaslessError\n\t} = gaslessInfo\n\n\tuseEffect(() => {\n\t\tasync function updateGasless() {\n\t\t\tconsole.log(\"account\", account)\n\n\t\t\tconst info = await getGaslessInfo(account)\n\t\t\tsetGaslessInfo(info)\n\t\t}\n\n\t\tif (account) {\n\t\t\tupdateGasless()\n\t\t} else {\n\t\t\tsetGaslessInfo(defaultGaslessInfo)\n\t\t}\n\t}, [account])\n\n\tconst hasEnoughForReStake = tomRewardADX.gte(MIN_GASLESS_RE_STAKE_REWARDS)\n\n\tconst walletConnected = identityAddr && loaded\n\n\tconst mainErr = !walletConnected\n\t\t? \"common.connectWallet\"\n\t\t: !canExecuteGasless\n\t\t\t? t(gaslessError.message || \"\", gaslessError.data || {})\n\t\t\t: \"\"\n\n\tconst canExecuteGaslessReStakeError =\n\t\tmainErr ||\n\t\t(!hasEnoughForReStake\n\t\t\t? t(\"errors.minGaslessReStake\", {\n\t\t\t\tamount: formatADXPretty(MIN_GASLESS_RE_STAKE_REWARDS),\n\t\t\t\tcurrency: \"ADX\"\n\t\t\t})\n\t\t\t: \"\")\n\n\tconst canExecuteGaslessError =\n\t\tmainErr || (userIdentityBalance.isZero() ? t(\"errors.nothingToStake\") : \"\")\n\n\tconst showReStake =\n\t\twalletConnected &&\n\t\tuserBonds &&\n\t\tuserBonds.some(x => x.poolId === POOLS[0].id)\n\t// NOTE: When there is old account with rewards\n\t// and 20 000 on the identity - if the identity is not deployed\n\t// If you gasless re-stake the rewards you will stake the amount on\n\t// the identity as well without notification\n\t// TODO: maybe add notification\n\n\tconst onTxRes = (res, btnId) => {\n\t\tif (res && res.txId) {\n\t\t\taddSnack(\n\t\t\t\tt(\"gasless.txSent\", { txId: res.txId }),\n\t\t\t\t\"success\",\n\t\t\t\t20000,\n\t\t\t\t<ExternalAnchor\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\tid={btnId}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\thref={`https://etherscan.io/tx/${res.txId}`}\n\t\t\t\t>\n\t\t\t\t\t{t(\"common.seeOnEtherscan\")}\n\t\t\t\t</ExternalAnchor>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst onStake = async () => {\n\t\tsetBondOpen(false)\n\t\tconst res = await wrapDoingTxns(\n\t\t\tcreateNewBond.bind(null, stats, chosenWalletType, bond, true)\n\t\t)()\n\n\t\tonTxRes(res, \"new-gasless-stake-snack\")\n\t}\n\n\tconst onReStake = async () => {\n\t\tsetReStakeOpen(false)\n\t\tconst res = await wrapDoingTxns(\n\t\t\trestake.bind(null, chosenWalletType, stats, true)\n\t\t)()\n\n\t\tonTxRes(res, \"new-gasless-re-stake-snack\")\n\t}\n\n\tuseEffect(() => {\n\t\tsetBond({\n\t\t\tpoolId: POOLS[0].id,\n\t\t\tamount: userIdentityBalance\n\t\t})\n\t}, [identityAddr, userIdentityBalance, loaded])\n\t\n\t*/\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader\n\t\t\t\ttitle={t(\"gasless.staking\")}\n\t\t\t\tactions={\n\t\t\t\t\t<Box\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontSize={88}\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<SvgIcon color=\"inherit\" fontSize=\"inherit\">\n\t\t\t\t\t\t\t<GaslessIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box>\n\t\t\t\t<Typography variant=\"h4\" gutterBottom>\n\t\t\t\t\t{t(\"gasless.tempDisabled\")}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{/* <Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tclassName={classes.content}\n\t\t\t\t\t\t\tmt={4}\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" variant=\"h5\">\n\t\t\t\t\t\t\t\t\t{t(\"gasless.accountAddr\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t\t\t\tflexGrow={0}\n\t\t\t\t\t\t\t\t// flexWrap=\"wrap\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t\t\t\t\tbgcolor=\"background.card\"\n\t\t\t\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\t\t\t\tfontSize={23}\n\t\t\t\t\t\t\t\t\tboxShadow={25}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tonClick={() => !identityAddr && setConnectWallet(true)}\n\t\t\t\t\t\t\t\t\t\tm={1}\n\t\t\t\t\t\t\t\t\t\tmx={2}\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.address }}\n\t\t\t\t\t\t\t\t\t\t{...(!identityAddr ? { style: { cursor: \"pointer\" } } : {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{identityAddr || t(\"gasless.connectWalletToSeeAddr\")}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t{identityAddr && (\n\t\t\t\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"mobile-burger-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy(identityAddr)\n\t\t\t\t\t\t\t\t\t\t\t\t\taddSnack(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt(\"gasless.copiedToClipboard\", { identityAddr }),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t\t<Tooltip title={t(\"gasless.addrTooltip\")}>\n\t\t\t\t\t\t\t\t\t\t<HelpIcon color=\"primary\" />\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box className={classes.bullets}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\ti18nKey=\"gasless.bullet1\"\n\t\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\t\tminBalance: formatADXPretty(MIN_BALANCE_FOR_GASLESS_TXNS),\n\t\t\t\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"gasless.bullet2\" />\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\ti18nKey=\"gasless.bullet3\"\n\t\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\t\tcount: 12\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\n\t\t\t\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t\t\t\t{walletConnected && (\n\t\t\t\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(\"gasless.adxBalanceOnAddr\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle: userIdentityBalance\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatADXPretty(userIdentityBalance) + \" ADX\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\textra:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcanExecuteGaslessError || t(\"gasless.readyForStake\")\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\twalletConnected\n\t\t\t\t\t\t\t\t\t\t\t\t\t? canExecuteGaslessError || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t(\"common.connectWallet\")\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t// fullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`stake-gasless-form-open`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setBondOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!!canExecuteGaslessError}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"common.stake\")}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{showReStake && (\n\t\t\t\t\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(\"gasless.rewardsReadyForReStake\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle: tomRewardADX\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatADXPretty(tomRewardADX) + \" ADX\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\textra:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcanExecuteGaslessReStakeError ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt(\"gasless.readyForReStake\")\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twalletConnected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? canExecuteGaslessReStakeError || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: t(\"common.connectWallet\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`re-stake-gasless-form-open`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// fullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setReStakeOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!!canExecuteGaslessReStakeError}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"gasless.reStakeRewards\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t{(!canExecuteGaslessError ||\n\t\t\t\t\t\t\t\t\t!canExecuteGaslessReStakeError) && (\n\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\t\ti18nKey=\"gasless.info\"\n\t\t\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\t\t\texternal: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`https://etherscan.io/address/${identityAddr}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\n\t\t\t\t<Modal\n\t\t\t\t\topen={bondOpen}\n\t\t\t\t\tonClose={() => setBondOpen(false)}\n\t\t\t\t\tclassName={classes.modal}\n\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\tBackdropProps={{\n\t\t\t\t\t\ttimeout: 300\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Fade in={bondOpen}>\n\t\t\t\t\t\t{NewGaslessBondForm({\n\t\t\t\t\t\t\tbond,\n\t\t\t\t\t\t\tonStake,\n\t\t\t\t\t\t\tchosenWalletType\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Fade>\n\t\t\t\t</Modal>\n\n\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\tisOpen: reStakeOpen,\n\t\t\t\t\tonDeny: () => setReStakeOpen(false),\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tonReStake()\n\t\t\t\t\t},\n\t\t\t\t\tconfirmActionName: t(\"common.reStake\"),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\ti18nKey=\"dialogs.reStakeConfirmation\"\n\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\tamount: formatADXPretty(tomRewardADX ? tomRewardADX : ZERO),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS,\n\t\t\t\t\t\t\t\textraInfo: !stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t\t? t(\"dialogs.reActivatingInfo\")\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Box> */}\n\t\t</Box>\n\t)\n}\n\nexport default Gasless\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1659\",\n  \"data-name\": \"Group 1659\",\n  transform: \"translate(-945.955 485.702)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1158\",\n  \"data-name\": \"Path 1158\",\n  d: \"M955.83-477.875h-9.048a.812.812,0,0,1-.642-.251.651.651,0,0,1-.182-.443c0-.688-.009-1.377,0-2.065a1.355,1.355,0,0,1,1.306-1.261c.386-.008.772,0,1.159,0,.109,0,.139-.016.088-.131a2.607,2.607,0,0,1,2.116-3.649,2.587,2.587,0,0,1,2.1.713c.53.484,1.065.963,1.594,1.448.072.066.115.056.185,0a1.987,1.987,0,0,1,2.648-.009c.084.071.131.068.209,0,.537-.492,1.071-.986,1.617-1.467a2.5,2.5,0,0,1,2.666-.528,2.522,2.522,0,0,1,1.7,2.088,2.346,2.346,0,0,1-.185,1.378c-.073.159-.07.161.1.162.362,0,.723,0,1.085,0a1.355,1.355,0,0,1,1.36,1.345c.006.644,0,1.288,0,1.931a.73.73,0,0,1-.713.744c-.06,0-.119,0-.179,0Zm-3.563-4.021h1.425c.046,0,.108.021.128-.043s-.031-.089-.068-.123q-1.038-.941-2.078-1.882a1.074,1.074,0,0,0-.642-.281,1.171,1.171,0,0,0-1.281,1.1,1.164,1.164,0,0,0,1.181,1.231C951.377-481.894,951.822-481.9,952.267-481.9Zm7.1,0h.638c.213,0,.426,0,.638,0a1.533,1.533,0,0,0,.3-.026,1.167,1.167,0,0,0,.962-.981,1.145,1.145,0,0,0-.57-1.166,1.138,1.138,0,0,0-1.353.136c-.69.616-1.374,1.238-2.06,1.859-.039.035-.1.07-.074.133s.093.044.144.044C958.451-481.895,958.911-481.9,959.371-481.9Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1159\",\n  \"data-name\": \"Path 1159\",\n  d: \"M957.017-471.371v-5.185c0-.229,0-.23.229-.23h6.968c.235,0,.235,0,.235.242q0,4.511,0,9.019a1.564,1.564,0,0,1-.288,1.022,1.329,1.329,0,0,1-1.075.544c-1.966.007-3.932,0-5.9.006-.16,0-.173-.077-.173-.2Q957.02-468.763,957.017-471.371Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1160\",\n  \"data-name\": \"Path 1160\",\n  d: \"M954.651-471.369v5.2c0,.214,0,.215-.215.215q-2.9,0-5.792,0a1.363,1.363,0,0,1-1.409-1.4q0-4.605,0-9.209c0-.216,0-.217.21-.217h6.995c.211,0,.211,0,.211.218Q954.652-473.968,954.651-471.369Z\"\n}));\n\nvar SvgGiftIc = function SvgGiftIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 19.759,\n    height: 19.749,\n    viewBox: \"0 0 19.759 19.749\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGiftIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gift-ic.9db901d6.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tDialogActions,\n\tButton\n} from \"@material-ui/core\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function ConfirmationDialog({\n\tisOpen,\n\tonDeny,\n\tonConfirm,\n\tcontent,\n\ttitle,\n\tconfirmActionName\n}) {\n\tconst { t } = useTranslation()\n\n\treturn (\n\t\t<Dialog open={isOpen} onClose={onDeny}>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t{title || t(\"common.areYouSure\")}\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>{content}</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tid={`confirmation-dialog-deny-${toIdAttributeString(\n\t\t\t\t\t\tconfirmActionName\n\t\t\t\t\t)}`}\n\t\t\t\t\tonClick={onDeny}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{t(\"common.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tid={`confirmation-dialog-confirm-${toIdAttributeString(\n\t\t\t\t\t\tconfirmActionName\n\t\t\t\t\t)}`}\n\t\t\t\t\tonClick={onConfirm}\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisableElevation\n\t\t\t\t>\n\t\t\t\t\t{confirmActionName}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, { Fragment, useContext, useEffect, useState } from \"react\"\nimport {\n\tTableRow,\n\tTableCell,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody,\n\tTypography,\n\tCheckbox,\n\tButton,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport Tooltip from \"./Tooltip\"\nimport {\n\tformatAmountPretty,\n\t// formatADXPretty,\n\tgetDAIInUSD,\n\tgetADXInUSD,\n\tgetUSDFormatted\n} from \"../helpers/formatting\"\nimport AppContext from \"../AppContext\"\nimport {\n\t// DEPOSIT_POOLS,\n\tZERO\n\t// UNBOND_DAYS\n} from \"../helpers/constants\"\nimport {\n\tgetWithdrawActionBySelectedRewardChannels\n\t// restake\n} from \"../actions\"\nimport { ReactComponent as GiftIcon } from \"./../resources/gift-ic.svg\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport StatsCard from \"./StatsCard\"\nimport { AmountText } from \"./cardCommon\"\nimport {\n\tuseTranslation\n\t// Trans\n} from \"react-i18next\"\n\nconst getTotalSelectedRewards = (rewards, selected, getTotal) => {\n\treturn rewards\n\t\t.filter(r => (selected === \"all\" ? true : selected[r.id]))\n\t\t.reduce((amounts, r) => {\n\t\t\tamounts[r.currency] = (amounts[r.currency] || ZERO).add(\n\t\t\t\tr[getTotal ? \"amount\" : \"outstandingReward\"] || ZERO\n\t\t\t)\n\n\t\t\treturn amounts\n\t\t}, {})\n}\n\nconst totalAmountsLabel = amounts =>\n\tObject.entries(amounts)\n\t\t.map(\n\t\t\t([currency, amount]) =>\n\t\t\t\t`${formatAmountPretty(amount, currency)} ${currency}`\n\t\t)\n\t\t.join(\"; \")\n\nexport default function Rewards() {\n\tconst { t } = useTranslation()\n\n\tconst { stats, chosenWalletType, wrapDoingTxns, prices } = useContext(\n\t\tAppContext\n\t)\n\tconst [rewards, setRewards] = useState([])\n\tconst {\n\t\t// loyaltyPoolStats,\n\t\ttomPoolStats\n\t} = stats\n\tconst [selected, setSelected] = useState({})\n\tconst [totalAmountsSelected, setTotalAmountsSelected] = useState({})\n\t// const [reStakeOpen, setReStakeOpen] = useState(false)\n\tconst [claimOpen, setClaimOpen] = useState(false)\n\n\tconst totalRewardsAmounts = getTotalSelectedRewards(rewards, \"all\", true)\n\tconst totalOutstandingRewardsAmounts = getTotalSelectedRewards(rewards, \"all\")\n\n\tconst totalRewardsInUsd =\n\t\tgetADXInUSD(prices, totalRewardsAmounts[\"ADX\"] || ZERO) +\n\t\tgetDAIInUSD(totalRewardsAmounts[\"DAI\"] || ZERO)\n\n\tconst totalOutstandingRewardsInUsd =\n\t\tgetADXInUSD(prices, totalOutstandingRewardsAmounts[\"ADX\"] || ZERO) +\n\t\tgetDAIInUSD(totalOutstandingRewardsAmounts[\"DAI\"] || ZERO)\n\n\tconst selectedRewards = rewards.filter(x => selected[x.id])\n\tconst loaded =\n\t\t// loyaltyPoolStats.userDataLoaded &&\n\t\ttomPoolStats.userDataLoaded\n\n\tconst disableActionsMsg = !chosenWalletType.name\n\t\t? t(\"common.connectWallet\")\n\t\t: !loaded\n\t\t? t(\"common.loadingData\")\n\t\t: !rewards.length\n\t\t? t(\"rewards.noRewards\")\n\t\t: !selectedRewards.length\n\t\t? t(\"common.noSelection\")\n\t\t: \"\"\n\n\t// const disableReStakeMsg = !!disableActionsMsg\n\t// \t? disableActionsMsg\n\t// \t: selectedRewards.some(x => !x.id.startsWith(\"tom_incentive\"))\n\t// \t\t? t(\"rewards.reStakeUnsupportedSelected\")\n\t// \t\t: \"\"\n\n\tuseEffect(() => {\n\t\tconst {\n\t\t\trewardChannels: tomRewardChannels,\n\t\t\tuserDataLoaded: tomUserDataLoaded\n\t\t} = tomPoolStats\n\n\t\t// const {\n\t\t// \tcurrentAPY: loPoCurrentAPY,\n\t\t// \trewardADX: loPoRewardADX,\n\t\t// \tuserDataLoaded: loPoUserDataLoaded\n\t\t// } = loyaltyPoolStats\n\n\t\tif (\n\t\t\ttomUserDataLoaded\n\t\t\t// && loPoUserDataLoaded\n\t\t) {\n\t\t\t// const loPoReward = {\n\t\t\t// \tid: \"loyalty_pool\",\n\t\t\t// \tname: t(\"rewards.loPoReward\"),\n\t\t\t// \tamount: loPoRewardADX,\n\t\t\t// \toutstandingReward: loPoRewardADX,\n\t\t\t// \tcurrency: \"ADX\",\n\t\t\t// \tcurrentAPY: loPoCurrentAPY,\n\t\t\t// \tpoolId: DEPOSIT_POOLS[0].id\n\t\t\t// }\n\n\t\t\tconst rewards = tomRewardChannels.map((channel, index) => {\n\t\t\t\tconst startDate = new Date(channel.periodStart)\n\t\t\t\tconst endDate = new Date(channel.periodEnd)\n\t\t\t\tconst rewardData = {\n\t\t\t\t\tid: `tom_${\n\t\t\t\t\t\tchannel.type\n\t\t\t\t\t}_${startDate.getTime()}_${endDate.getTime()}_${channel._id}`,\n\t\t\t\t\tname: t(\"rewards.poolName\", {\n\t\t\t\t\t\tpool: \"Tom\",\n\t\t\t\t\t\ttype: t(`common.${channel.type}`),\n\t\t\t\t\t\textra:\n\t\t\t\t\t\t\tchannel.type === \"fees\"\n\t\t\t\t\t\t\t\t? `${endDate.toLocaleString(\"default\", {\n\t\t\t\t\t\t\t\t\t\tmonth: \"long\"\n\t\t\t\t\t\t\t\t  })} ${endDate.getFullYear()}`\n\t\t\t\t\t\t\t\t: `${startDate.getMonth() +\n\t\t\t\t\t\t\t\t\t\t1}.${startDate.getFullYear()} - ${endDate.getMonth() +\n\t\t\t\t\t\t\t\t\t\t1}.${endDate.getFullYear()}`\n\t\t\t\t\t}),\n\t\t\t\t\tamount: channel.amount,\n\t\t\t\t\toutstandingReward: channel.outstandingReward,\n\t\t\t\t\tcurrency: channel.type === \"fees\" ? \"DAI\" : \"ADX\",\n\t\t\t\t\tcurrentAPY: channel.currentAPY,\n\t\t\t\t\tpoolId: channel.poolId,\n\t\t\t\t\trewardChannel: channel\n\t\t\t\t}\n\n\t\t\t\treturn rewardData\n\t\t\t})\n\n\t\t\tsetRewards([\n\t\t\t\t// loPoReward,\n\t\t\t\t...rewards\n\t\t\t])\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [\n\t\t// loyaltyPoolStats,\n\t\ttomPoolStats\n\t])\n\n\tconst onSelectChange = (id, value) => {\n\t\tconst newSelected = { ...selected }\n\t\tnewSelected[id] = value\n\n\t\tconst totalAmountSelected = getTotalSelectedRewards(rewards, newSelected)\n\n\t\tsetTotalAmountsSelected(totalAmountSelected)\n\t\tsetSelected(newSelected)\n\t}\n\n\tconst onClaim = async () => {\n\t\tsetSelected({})\n\t\tsetTotalAmountsSelected({})\n\t\tconst actions = getWithdrawActionBySelectedRewardChannels(\n\t\t\tselectedRewards,\n\t\t\tchosenWalletType,\n\t\t\tstats\n\t\t)\n\n\t\tfor (let i = 0; i < actions.length; i++) {\n\t\t\tawait wrapDoingTxns(actions[i])()\n\t\t}\n\t}\n\n\t// const onReStake = async () => {\n\t// \tsetSelected({})\n\t// \tsetTotalAmountsSelected({})\n\t// \tawait wrapDoingTxns(\n\t// \t\trestake.bind(null, chosenWalletType, {\n\t// \t\t\t// NOTE: now only tom channels are valid for re-stake at the moment\n\t// \t\t\t// TODO: update when more pools\n\t// \t\t\trewardChannels: selectedRewards.map(x => x.rewardChannel),\n\t// \t\t\tuserBonds: tomPoolStats.userBonds\n\t// \t\t})\n\t// \t)()\n\t// }\n\n\tconst totalSelectedLabel = totalAmountsLabel(totalAmountsSelected)\n\tconst totalRewardsLabel = totalAmountsLabel(totalRewardsAmounts) || \"0.00\"\n\tconst totalOutstandingRewardsLabel =\n\t\ttotalAmountsLabel(totalOutstandingRewardsAmounts) || \"0.00\"\n\n\tconst renderRewardRow = (reward, selected) => {\n\t\treturn (\n\t\t\t<TableRow key={reward.id}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tdisabled={reward.outstandingReward.isZero()}\n\t\t\t\t\t\tchecked={!!selected[reward.id]}\n\t\t\t\t\t\tonChange={ev => onSelectChange(reward.id, !!ev.target.checked)}\n\t\t\t\t\t\tinputProps={{ \"aria-label\": \"primary checkbox\" }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Box>{reward.name}</Box>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatAmountPretty(reward.amount, reward.currency)} ${\n\t\t\t\t\t\t\treward.currency\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatAmountPretty(\n\t\t\t\t\t\t\treward.outstandingReward,\n\t\t\t\t\t\t\treward.currency\n\t\t\t\t\t\t)} ${reward.currency}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{`${(reward.currentAPY * 100).toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} %`}</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Box mt={2}>\n\t\t\t<Box m={1} color=\"text.main\">\n\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t{t(\"common.rewards\")}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box display=\"flex\" flexDirection=\"row\">\n\t\t\t\t<Box\n\t\t\t\t\tm={1}\n\t\t\t\t\tp={2}\n\t\t\t\t\tbgcolor=\"background.darkerPaper\"\n\t\t\t\t\tboxShadow={25}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<Box m={1} fontSize={55}>\n\t\t\t\t\t\t<SvgIcon fontSize=\"inherit\" color=\"primary\">\n\t\t\t\t\t\t\t<GiftIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\ttitle: t(\"rewards.total\"),\n\t\t\t\t\t\t\tsubtitle: totalRewardsLabel,\n\t\t\t\t\t\t\textra: getUSDFormatted(totalRewardsInUsd),\n\t\t\t\t\t\t\tmultilineLinesAmounts: true\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box m={1} p={2} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\ttitle: t(\"rewards.unclaimed\"),\n\t\t\t\t\t\t\tsubtitle: totalOutstandingRewardsLabel,\n\t\t\t\t\t\t\textra: getUSDFormatted(totalOutstandingRewardsInUsd),\n\t\t\t\t\t\t\tmultilineLinesAmounts: true\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box m={1} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t<Box\n\t\t\t\t\tp={2}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t>\n\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t{!!Object.keys(totalAmountsSelected).length && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Typography type=\"h5\">{t(\"rewards.totalSelected\")}:</Typography>\n\t\t\t\t\t\t\t\t<Typography type=\"h4\">{totalSelectedLabel}</Typography>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"row\">\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Tooltip title={disableActionsMsg}>\n\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tid=\"btn-rewards-page-claim\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setClaimOpen(true)}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!disableActionsMsg}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"common.claim\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{/* <Box m={1}>\n\t\t\t\t\t\t\t<Tooltip title={disableReStakeMsg}>\n\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tid=\"btn-rewards-page-re-stake\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setReStakeOpen(true)}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!disableReStakeMsg}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"common.reStake\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Box> */}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TableContainer xs={12}>\n\t\t\t\t\t\t<Table aria-label=\"Rewards table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{t(\"rewards.name\")}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"rewards.total\")}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"rewards.unclaimed\")}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.currentAPY\")}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{[...(rewards || [])].map(r => renderRewardRow(r, selected))}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\n\t\t\t\t\t{(!stats.loaded || !rewards.length) && (\n\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t<Alert variant=\"filled\" severity=\"info\">\n\t\t\t\t\t\t\t\t{t(\"rewards.tableInfo\")}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\n\t\t\t\t{/* {ConfirmationDialog({\n\t\t\t\t\tisOpen: reStakeOpen,\n\t\t\t\t\tonDeny: () => setReStakeOpen(false),\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tsetReStakeOpen(false)\n\t\t\t\t\t\tonReStake()\n\t\t\t\t\t},\n\t\t\t\t\tconfirmActionName: t(\"common.reStake\"),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\ti18nKey=\"dialogs.reStakeConfirmation\"\n\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\tamount: formatADXPretty(totalAmountsSelected[\"ADX\"] || ZERO),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS,\n\t\t\t\t\t\t\t\textraInfo: !stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t\t? t(\"dialogs.reActivatingInfo\")\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})} */}\n\n\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\tisOpen: claimOpen,\n\t\t\t\t\tonDeny: () => setClaimOpen(false),\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tsetClaimOpen(false)\n\t\t\t\t\t\tonClaim()\n\t\t\t\t\t},\n\t\t\t\t\tconfirmActionName: t(\"common.claim\"),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Box mb={1}>\n\t\t\t\t\t\t\t\t<Typography>{t(\"dialogs.claimConfirmation\")}</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{selectedRewards.map(reward => (\n\t\t\t\t\t\t\t\t<Box key={reward.id}>\n\t\t\t\t\t\t\t\t\t{reward.name}\n\t\t\t\t\t\t\t\t\t{\": \"}\n\t\t\t\t\t\t\t\t\t{formatAmountPretty(\n\t\t\t\t\t\t\t\t\t\treward.outstandingReward,\n\t\t\t\t\t\t\t\t\t\treward.currency\n\t\t\t\t\t\t\t\t\t)}{\" \"}\n\t\t\t\t\t\t\t\t\t{reward.currency}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{t(\"dialogs.forTotal\", { total: totalSelectedLabel })}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useState, useContext, useCallback } from \"react\"\nimport { getFarmPoolsStats } from \"./actions/farm\"\nimport AppContext from \"./AppContext\"\nimport { useTranslation } from \"react-i18next\"\n\nexport const FarmContext = React.createContext()\n\nconst REFRESH_INTERVAL_NO_WALLET = 300_000 // 300 sec\nconst REFRESH_INTERVAL_WALLET = 60_000 // 60 sec\n\nfunction useFarm() {\n\tconst { t } = useTranslation()\n\tconst { chosenWalletType, prices, addSnack, userIdle } = useContext(\n\t\tAppContext\n\t)\n\tconst [pricesLoaded, setPricesLoaded] = useState(false)\n\tconst [farmStats, setStats] = useState({})\n\tconst [getStats, setGetFarmStats] = useState(false)\n\n\tconst refreshFarmStats = useCallback(async () => {\n\t\tconst doUpdate = getStats && !userIdle && pricesLoaded\n\n\t\tif (doUpdate) {\n\t\t\ttry {\n\t\t\t\tconst stats = await getFarmPoolsStats({\n\t\t\t\t\tchosenWalletType,\n\t\t\t\t\texternalPrices: prices\n\t\t\t\t})\n\t\t\t\tsetStats(stats)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(\"err loading farm stats\", e)\n\t\t\t\tif (e.code === 4001) {\n\t\t\t\t\taddSnack(t(\"errors.authDeniedByUser\"), \"error\", 20_000)\n\t\t\t\t} else {\n\t\t\t\t\taddSnack(\n\t\t\t\t\t\tt(\"errors.loadingStats\", {\n\t\t\t\t\t\t\terror: !!e ? e.message || e.toString() : \"\"\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t20_000\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [getStats, userIdle, chosenWalletType.name, pricesLoaded, t])\n\n\tuseEffect(() => {\n\t\trefreshFarmStats()\n\t\tconst intvl = setInterval(\n\t\t\trefreshFarmStats,\n\t\t\tchosenWalletType.name\n\t\t\t\t? REFRESH_INTERVAL_WALLET\n\t\t\t\t: REFRESH_INTERVAL_NO_WALLET\n\t\t)\n\n\t\treturn () => {\n\t\t\tif (intvl) {\n\t\t\t\tclearInterval(intvl)\n\t\t\t}\n\t\t}\n\t}, [chosenWalletType.name, refreshFarmStats])\n\n\tuseEffect(() => {\n\t\tif (!!prices && Object.keys(prices).length) {\n\t\t\tsetPricesLoaded(true)\n\t\t}\n\t}, [prices, setPricesLoaded])\n\n\treturn {\n\t\tfarmStats,\n\t\tsetGetFarmStats\n\t}\n}\n\nexport const FarmProvider = ({ children }) => {\n\tconst farmHooks = useFarm()\n\treturn (\n\t\t<FarmContext.Provider value={farmHooks}>{children}</FarmContext.Provider>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M156,15.85a12.37,12.37,0,0,0-9.34,20.49L128.18,48A25.12,25.12,0,0,1,93.1,39.4L84.45,24.61a12.38,12.38,0,1,0-3.57,0L73.42,38.35a25.14,25.14,0,0,1-35.64,9.14L21.24,36.88a12.38,12.38,0,1,0-8.86,3.74,12.47,12.47,0,0,0,4.07-.7L37,96.26h92.84L151.33,39.7A12.38,12.38,0,1,0,156,15.85ZM92.15,83.52l-9.54-5-9.54,5L74.89,72.9l-7.72-7.52,10.67-1.55,4.77-9.66,4.77,9.66L98,65.38,90.33,72.9Z\"\n})));\n\nvar SvgCrownIc = function SvgCrownIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 168.38 96.26\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCrownIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/crown-ic.7cdc10d9.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Box, LinearProgress, Typography, SvgIcon } from \"@material-ui/core\"\nimport { SwapHorizSharp as AssetsLinkIcon } from \"@material-ui/icons\"\nimport { ReactComponent as SpecialIcon } from \"./../resources/crown-ic.svg\"\nimport { CardRow } from \"./cardCommon\"\nimport { useTranslation, Trans } from \"react-i18next\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport {\n\ttoIdAttributeString,\n\tformatADXPretty,\n\tgetUSDFormatted,\n\tformatLPToken\n\t// formatTokens\n} from \"../helpers/formatting\"\nimport WithDialog from \"./WithDialog\"\nimport FarmForm from \"./FarmForm\"\n\nconst FarmFormDialog = WithDialog(FarmForm)\n// const REWARDS_ACTIVE_FROM_BLOCK = 11296000\n\nconst useStyles = makeStyles(theme => {\n\tconst iconBoxBorder = ({ special }) =>\n\t\tspecial ? `3px solid ${theme.palette.special.main}` : \"none\"\n\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"35px\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 189,\n\t\t\theight: 69,\n\t\t\ttop: -35,\n\t\t\tbackground: `linear-gradient(90deg, ${theme.palette.common.black} 69px, ${theme.palette.common.white} 69px)`,\n\t\t\tcolor: theme.palette.common.black,\n\t\t\t// boxShadow: theme.type === \"light\" ? theme.shadows[25] : \"none\",\n\t\t\tboxShadow: theme.shadows[25],\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-around\",\n\t\t\tpaddingLeft: 69 + theme.spacing(1),\n\t\t\tpaddingRight: theme.spacing(1),\n\t\t\tborder: iconBoxBorder\n\t\t},\n\t\tplatformIconBox: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\twidth: 69,\n\t\t\theight: \"100%\",\n\t\t\tborderTopLeftRadius: \"100%\",\n\t\t\tborderBottomLeftRadius: \"100%\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0\n\t\t},\n\t\tspecialIcon: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 42,\n\t\t\theight: 42,\n\t\t\tleft: -18,\n\t\t\ttop: -23,\n\t\t\ttransform: `rotate(320deg)`,\n\t\t\tcolor: theme.palette.special.main\n\t\t},\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: theme.palette.overlay\n\t\t},\n\t\tloading: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tborderRadius: \"35px\",\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\topacity: 0.69\n\t\t},\n\t\tcomingSoon: {\n\t\t\twidth: 160,\n\t\t\theight: \"auto\"\n\t\t},\n\t\ticonSpecial: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 69,\n\t\t\theight: 69,\n\t\t\ttop: -theme.spacing(3),\n\t\t\tcolor: theme.palette.special.maxWidth\n\t\t},\n\t\tgetLink: {\n\t\t\tmarginLeft: theme.spacing(1)\n\t\t},\n\t\tstrong: {\n\t\t\tmarginRight: theme.spacing(1)\n\t\t}\n\t}\n})\n\nexport const FarmPoolData = ({\n\tpollStatsLoaded,\n\tuserStatsLoaded,\n\tpool,\n\tstats,\n\tblockNumber\n}) => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\tconst {\n\t\tplatform,\n\t\tdepositAssetName,\n\t\tgetDepositAssetUrl,\n\t\trewardAssetName\n\t} = pool\n\n\tconst {\n\t\tlpTokenStakedValueUSD,\n\t\tlpTokenDataWithPrices,\n\t\tuseShare,\n\t\twalletBalance,\n\t\tuserLPBalance\n\t} = stats\n\n\t// const totalDepositTokenBalance =\n\t// \tpollStatsLoaded\n\t// \t\t? `${formatADXPretty(stats.totalSupply)} ${pool.depositAssetName\n\t// \t\t}`\n\t// \t\t: t(\"farm.NA\")\n\n\tconst totalDepositTokenStaked = pollStatsLoaded\n\t\t? `${formatADXPretty(stats.totalStaked)} ${pool.depositAssetName}`\n\t\t: t(\"farm.NA\")\n\n\tconst totalDepositTokenStakedUSD = pollStatsLoaded\n\t\t? `${getUSDFormatted(lpTokenStakedValueUSD)}`\n\t\t: t(\"farm.NA\")\n\n\tconst userStakedShare = userStatsLoaded\n\t\t? `${(useShare * 100).toFixed(4)} %`\n\t\t: t(\"farm.NA\")\n\n\tconst poolMPY = pollStatsLoaded ? stats.poolMPY * 100 : null\n\n\tconst currentMPY =\n\t\tpollStatsLoaded && poolMPY ? `${poolMPY.toFixed(2)} %` : t(\"farm.NA\")\n\n\tconst mpyInfo = [\n\t\tt(\"pools.currentDailyYield\", {\n\t\t\tyield: pollStatsLoaded ? (poolMPY / 30).toFixed(4) + \" %\" : t(\"farm.NA\")\n\t\t})\n\t]\n\n\t// const poolAPY = pollStatsLoaded ? stats.poolAPY * 100 : null\n\t// const currentAPY =\n\t// \tpollStatsLoaded ? `${poolAPY.toFixed(4)} %` : t(\"farm.NA\")\n\n\t// const weeklyYield =\n\t// \tpollStatsLoaded\n\t// \t\t? `${(poolAPY / (365 / 7)).toFixed(4)} %`\n\t// \t\t: t(\"farm.NA\")\n\n\t// const weeklyYieldInfo =\n\t// \t[\n\t// \t\tt(\"pools.currentDailyYield\", {\n\t// \t\t\tyield: pollStatsLoaded\n\t// \t\t\t\t? (poolAPY / 365).toFixed(4)\n\t// \t\t\t\t: t(\"farm.NA\")\n\t// \t\t})\n\t// \t]\n\n\tconst liquidityInfoText = t(\"farm.liquidityInfo\")\n\tconst liquidityStakedLP = userStatsLoaded\n\t\t? `${formatADXPretty(userLPBalance)} ${depositAssetName}`\n\t\t: t(\"farm.NA\")\n\n\tconst liquidityStakedLPInfo =\n\t\tuserStatsLoaded && !userLPBalance.isZero()\n\t\t\t? ` (${formatLPToken({\n\t\t\t\t\tlpValueBN: userLPBalance,\n\t\t\t\t\tlpTokenDataWithPrices,\n\t\t\t\t\tlpTokenName: depositAssetName\n\t\t\t  })})`\n\t\t\t: \"\"\n\n\tconst liquidityOnWalletLP = userStatsLoaded\n\t\t? `${formatADXPretty(walletBalance)} ${depositAssetName}`\n\t\t: t(\"farm.NA\")\n\n\tconst liquidityOnWalletLPInfo =\n\t\tuserStatsLoaded && !walletBalance.isZero()\n\t\t\t? ` (${formatLPToken({\n\t\t\t\t\tlpValueBN: walletBalance,\n\t\t\t\t\tlpTokenDataWithPrices,\n\t\t\t\t\tlpTokenName: depositAssetName\n\t\t\t  })})`\n\t\t\t: \"\"\n\n\tconst pendingADX = userStatsLoaded\n\t\t? `${formatADXPretty(stats.pendingADX)} ADX`\n\t\t: t(\"farm.NA\")\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={16}\n\t\t\t\ttext={\n\t\t\t\t\t<Trans\n\t\t\t\t\t\ti18nKey=\"farm.platform\"\n\t\t\t\t\t\tvalues={{ platform }}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tstrong: <strong className={classes.strong}></strong>\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={16}\n\t\t\t\ttext={\n\t\t\t\t\t<Trans\n\t\t\t\t\t\ti18nKey=\"farm.depositAsset\"\n\t\t\t\t\t\tvalues={{ depositAsset: depositAssetName }}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tstrong: <strong className={classes.strong}></strong>,\n\t\t\t\t\t\t\tgetLink: (\n\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tid={toIdAttributeString(\n\t\t\t\t\t\t\t\t\t\t`get-liquidity-deposit-${depositAssetName}`\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\thref={getDepositAssetUrl}\n\t\t\t\t\t\t\t\t\tclassName={classes.getLink}\n\t\t\t\t\t\t\t\t></ExternalAnchor>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={16}\n\t\t\t\ttext={\n\t\t\t\t\t<Trans\n\t\t\t\t\t\ti18nKey=\"farm.rewardAsset\"\n\t\t\t\t\t\tvalues={{ rewardAsset: rewardAssetName }}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tstrong: <strong className={classes.strong}></strong>\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tmb={2}\n\t\t\t/>\n\n\t\t\t{/* {blockNumber && blockNumber >= REWARDS_ACTIVE_FROM_BLOCK ? ( */}\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.main\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={\n\t\t\t\t\t<Trans\n\t\t\t\t\t\ti18nKey=\"farm.currentMPYLabel\"\n\t\t\t\t\t\tvalues={{ mpy: currentMPY }}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tstrong: (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tml={1}\n\t\t\t\t\t\t\t\t\tdisplay=\"inline\"\n\t\t\t\t\t\t\t\t\tcolor=\"special.main\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tinfoText={mpyInfo}\n\t\t\t\tmb={2}\n\t\t\t/>\n\t\t\t{/* ) : (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"special.main\"\n\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\tfontSize={14}\n\t\t\t\t\ttext={\n\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\ti18nKey=\"farm.farmStartsInfo\"\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\texternalLink: (\n\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\tclassName={classes.getLink}\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tid={`farm-starts-info-link-pool=${id}`}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://etherscan.io/block/countdown/11296000`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tmb={2}\n\t\t\t\t/>\n\t\t\t)} */}\n\n\t\t\t{/* <CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"pools.weeklyYield\", { yield: weeklyYield })}\n\t\t\t\t\t\tinfoText={weeklyYieldInfo}\n\t\t\t\t\t\tmb={2}\n\t\t\t\t\t/> */}\n\n\t\t\t{/* <CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"farm.totalDepositTokenBalance\", { depositAssetName })}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"text.primary\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={totalDepositTokenBalance}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\tmb={0.5}\n\t\t\t\t\t/> */}\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.main\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={t(\"farm.totalDepositTokenStaked\", {\n\t\t\t\t\tdepositAsset: depositAssetName\n\t\t\t\t})}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"special.main\"\n\t\t\t\tfontWeight={\"text.primary\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={totalDepositTokenStaked}\n\t\t\t\tisAmountText\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"text.primary\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={totalDepositTokenStakedUSD}\n\t\t\t\tisAmountText\n\t\t\t\tmb={0.5}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.main\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={t(\"farm.userStakedShare\")}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"text.primary\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={userStakedShare}\n\t\t\t\tmb={2}\n\t\t\t/>\n\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.main\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={20}\n\t\t\t\ttext={t(\"farm.myLiquidity\")}\n\t\t\t\tinfoText={liquidityInfoText}\n\t\t\t\tmb={0.5}\n\t\t\t/>\n\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={t(\"farm.myStaked\")}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"special.main\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box>{liquidityStakedLP}</Box>\n\t\t\t\t\t\t{liquidityStakedLPInfo && (\n\t\t\t\t\t\t\t<Box color=\"text.primary\">{liquidityStakedLPInfo}</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t\tmb={0.5}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={t(\"farm.onWallet\")}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"special.main\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box>{liquidityOnWalletLP}</Box>\n\t\t\t\t\t\t{liquidityStakedLPInfo && (\n\t\t\t\t\t\t\t<Box color=\"text.primary\">{liquidityOnWalletLPInfo}</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t\tmb={0.5}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"text.primary\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={t(\"farm.myReward\")}\n\t\t\t/>\n\t\t\t<CardRow\n\t\t\t\tcolor=\"special.main\"\n\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\tfontSize={14}\n\t\t\t\ttext={pendingADX}\n\t\t\t\tmb={2}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nexport default function FarmCard({\n\tloading,\n\tdisabled,\n\tdisabledInfo,\n\tpollStatsLoaded,\n\tuserStatsLoaded,\n\tpool,\n\tstats,\n\tblockNumber\n}) {\n\tconst { t } = useTranslation()\n\tconst { id, name, special, latRewardBlock } = pool\n\tconst classes = useStyles({ special })\n\n\tconst platformIcon = (\n\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t<pool.platformIcon width=\"99%\" height=\"99%\" />\n\t\t</SvgIcon>\n\t)\n\n\tconst assetsIcons = [\n\t\tpool.assetsIcons.map((Icon, i) => (\n\t\t\t<SvgIcon key={i} fontSize=\"large\" color=\"inherit\">\n\t\t\t\t<Icon width=\"99%\" height=\"99%\" />\n\t\t\t</SvgIcon>\n\t\t))\n\t]\n\n\tconst canDeposit = blockNumber < latRewardBlock\n\n\treturn (\n\t\t<Box\n\t\t\tbgcolor={\"background.card\"}\n\t\t\tp={3}\n\t\t\tmy={4}\n\t\t\tmx={2}\n\t\t\tpt={6}\n\t\t\twidth={320}\n\t\t\tmaxWidth=\"100%\"\n\t\t\tminHeight={420}\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tboxShadow={25}\n\t\t\tposition=\"relative\"\n\t\t>\n\t\t\t<Box mb={2}>\n\t\t\t\t<Typography align=\"center\" variant=\"h5\" color=\"textPrimary\">\n\t\t\t\t\t{name}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\n\t\t\t<FarmPoolData\n\t\t\t\tpollStatsLoaded={pollStatsLoaded}\n\t\t\t\tuserStatsLoaded={userStatsLoaded}\n\t\t\t\tpool={pool}\n\t\t\t\tstats={stats}\n\t\t\t\tblockNumber={blockNumber}\n\t\t\t/>\n\n\t\t\t<Box width={1}>\n\t\t\t\t<Box mb={1}>\n\t\t\t\t\t<FarmFormDialog\n\t\t\t\t\t\tid={`deposit-liquidity-pool-${id}`}\n\t\t\t\t\t\ttitle={t(\"farm.depositDialogTitle\", { name })}\n\t\t\t\t\t\tbtnLabel={t(\"common.deposit\")}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\ttooltipTitle={\n\t\t\t\t\t\t\tdisabled ? disabledInfo : !canDeposit ? t(\"farm.farmEnded\") : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled || !canDeposit}\n\t\t\t\t\t\tpool={pool}\n\t\t\t\t\t\tstats={stats}\n\t\t\t\t\t\tblockNumber={blockNumber}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<FarmFormDialog\n\t\t\t\t\t\tid={`withdraw-liquidity-pool-${id}`}\n\t\t\t\t\t\ttitle={t(\"farm.withdrawDialogTitle\", { name })}\n\t\t\t\t\t\tbtnLabel={t(\"common.withdraw\")}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\ttooltipTitle={disabled ? disabledInfo : \"\"}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\twithdraw\n\t\t\t\t\t\tpool={pool}\n\t\t\t\t\t\tstats={stats}\n\t\t\t\t\t\tblockNumber={blockNumber}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t{!!loading && (\n\t\t\t\t<Box\n\t\t\t\t\tclasses={{ root: classes.overlay }}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t></Box>\n\t\t\t)}\n\n\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t<Box classes={{ root: classes.platformIconBox }}>\n\t\t\t\t\t{platformIcon || null}\n\t\t\t\t</Box>\n\t\t\t\t{(assetsIcons || []).reduce((prev, curr) => [\n\t\t\t\t\tprev,\n\t\t\t\t\t<AssetsLinkIcon />,\n\t\t\t\t\tcurr\n\t\t\t\t])}\n\t\t\t\t{!!loading && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<LinearProgress\n\t\t\t\t\t\t\tclasses={{ root: classes.loading }}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{!!special && (\n\t\t\t\t\t<SvgIcon fontSize=\"large\" className={classes.specialIcon}>\n\t\t\t\t\t\t<SpecialIcon width=\"99%\" height=\"99%\" />\n\t\t\t\t\t</SvgIcon>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useState, useContext, useCallback } from \"react\"\nimport {\n\tonLiquidityPoolDeposit,\n\tonLiquidityPoolWithdraw,\n\tisValidNumberString\n} from \"../actions\"\nimport {\n\tparseTokens,\n\tformatTokens,\n\tformatADXPretty,\n\ttoIdAttributeString\n} from \"../helpers/formatting\"\nimport { ZERO } from \"../helpers/constants\"\nimport {\n\tTextField,\n\tButton,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport AppContext from \"../AppContext\"\nimport { useTranslation } from \"react-i18next\"\nimport { FarmPoolData } from \"./FarmCard\"\nimport Tooltip from \"./Tooltip\"\n\nexport default function FarmForm({\n\tcloseDialog,\n\tpool,\n\tstats,\n\twithdraw,\n\tblockNumber\n}) {\n\tconst { t } = useTranslation()\n\tconst { chosenWalletType, wrapDoingTxns } = useContext(AppContext)\n\n\tconst [actionAmount, setActionAmount] = useState(\"\")\n\tconst [amountErr, setAmountErr] = useState(false)\n\tconst [amountErrText, setAmountErrText] = useState(\"\")\n\tconst [confirmation, setConfirmation] = useState(false)\n\n\tconst actionName = withdraw ? \"withdraw\" : \"deposit\"\n\tconst { depositAssetDecimals, depositAssetName } = pool\n\n\tconst { pendingADX, userLPBalance, walletBalance } = stats\n\n\tconst maxAmount = withdraw ? userLPBalance || ZERO : walletBalance\n\tconst showRewards = withdraw && pendingADX && pendingADX.gt(ZERO)\n\tconst showRewardsOnDeposit = !withdraw && pendingADX && pendingADX.gt(ZERO)\n\n\tconst confirmationLabel = pool.confirmationLabel\n\tconst confirmed = !confirmationLabel || confirmation\n\n\tconst disableActionsMsg = !confirmed\n\t\t? t(\"farm.noConfirmed\")\n\t\t: !pool || !stats\n\t\t? t(\"errors.statsNotProvided\")\n\t\t: \"\"\n\n\tconst disableDepositsMsg = !!disableActionsMsg\n\t\t? disableActionsMsg\n\t\t: !!amountErr\n\t\t? amountErrText\n\t\t: !walletBalance || walletBalance.isZero()\n\t\t? t(\"farm.zeroBalanceDeposit\", { currency: depositAssetName })\n\t\t: !actionAmount\n\t\t? t(\"errors.amountNotSelected\")\n\t\t: \"\"\n\n\tconst disableWithdrawMsg = !!disableActionsMsg\n\t\t? disableActionsMsg\n\t\t: !!amountErr\n\t\t? amountErrText\n\t\t: !userLPBalance || userLPBalance.isZero()\n\t\t? t(\"farm.zeroBalanceWithdraw\", { currency: depositAssetName })\n\t\t: !actionAmount\n\t\t? t(\"errors.amountNotSelected\")\n\t\t: \"\"\n\n\tconst disableRewardsWithdrawMsg = !!disableActionsMsg\n\t\t? disableActionsMsg\n\t\t: !pendingADX || pendingADX.isZero()\n\t\t? t(\"farm.noRewards\", { currency: \"ADX\" })\n\t\t: \"\"\n\n\tconst onAction = useCallback(\n\t\tamount => {\n\t\t\tsetConfirmation(false)\n\n\t\t\tconst action = withdraw ? onLiquidityPoolWithdraw : onLiquidityPoolDeposit\n\n\t\t\tif (closeDialog) closeDialog()\n\n\t\t\twrapDoingTxns(\n\t\t\t\taction.bind(null, {\n\t\t\t\t\tpool,\n\t\t\t\t\tstats,\n\t\t\t\t\tchosenWalletType,\n\t\t\t\t\tactionAmount: parseTokens(amount, depositAssetDecimals),\n\t\t\t\t\tpendingADX\n\t\t\t\t})\n\t\t\t)()\n\t\t},\n\t\t[\n\t\t\tchosenWalletType,\n\t\t\tcloseDialog,\n\t\t\tdepositAssetDecimals,\n\t\t\tpendingADX,\n\t\t\tpool,\n\t\t\tstats,\n\t\t\twithdraw,\n\t\t\twrapDoingTxns\n\t\t]\n\t)\n\n\tconst onRewardsWithdraw = () => {\n\t\tonAction(\"0.00\")\n\t}\n\n\tconst validateFields = params => {\n\t\tconst { userInputAmount } = params\n\n\t\tif (!isValidNumberString(userInputAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.invalidAmountInput\"))\n\t\t\treturn\n\t\t}\n\n\t\tconst amountBN = parseTokens(userInputAmount, depositAssetDecimals)\n\n\t\tconst minStakingAmountBN = parseTokens(\n\t\t\tpool.minStakingAmount || \"0\",\n\t\t\tdepositAssetDecimals\n\t\t)\n\n\t\tif (amountBN.gt(maxAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.lowADXAmount\"))\n\t\t\treturn\n\t\t}\n\t\tif (pool && amountBN.lte(minStakingAmountBN)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\n\t\t\t\tt(\"errors.lessDanMinPoolAmount\", { currency: depositAssetName })\n\t\t\t)\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\t!withdraw &&\n\t\t\tpool &&\n\t\t\tstats.poolTotalStaked &&\n\t\t\tpool.poolDepositsLimit &&\n\t\t\tamountBN.add(stats.poolTotalStaked).gt(pool.poolDepositsLimit)\n\t\t) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.amountOverPoolLimit\"))\n\t\t\treturn\n\t\t}\n\n\t\tsetAmountErr(false)\n\t\treturn\n\t}\n\n\tconst onAmountChange = amountStr => {\n\t\tsetActionAmount(amountStr)\n\t\tvalidateFields({\n\t\t\tuserInputAmount: amountStr\n\t\t})\n\t}\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Box>\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth\n\t\t\t\t\tid={`new-farm-${actionName}-form-amount-field`}\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t(\"farm.labelLPTokenAmount\", { token: depositAssetName })}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={actionAmount}\n\t\t\t\t\terror={amountErr}\n\t\t\t\t\tplaceholder=\"0.00\"\n\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\tonAmountChange(ev.target.value)\n\t\t\t\t\t}}\n\t\t\t\t\thelperText={amountErr ? amountErrText : null}\n\t\t\t\t/>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tid={`new-farm-${actionName}-form-max-amount-btn`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tonAmountChange(formatTokens(maxAmount, depositAssetDecimals))\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"common.maxAmountBtn\", {\n\t\t\t\t\t\t\tamount: formatADXPretty(maxAmount),\n\t\t\t\t\t\t\tcurrency: depositAssetName\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t{showRewards && (\n\t\t\t\t\t<Box my={2}>\n\t\t\t\t\t\t<Alert variant=\"filled\" severity=\"info\">\n\t\t\t\t\t\t\t{t(\"farm.withdrawRewardsAlert\", {\n\t\t\t\t\t\t\t\tpendingADX: formatADXPretty(pendingADX),\n\t\t\t\t\t\t\t\tdepositAssetName\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\n\t\t\t\t{showRewardsOnDeposit && (\n\t\t\t\t\t<Box my={2}>\n\t\t\t\t\t\t<Alert variant=\"filled\" severity=\"info\">\n\t\t\t\t\t\t\t{t(\"farm.depositRewardsAlert\", {\n\t\t\t\t\t\t\t\tpendingADX: formatADXPretty(pendingADX),\n\t\t\t\t\t\t\t\tdepositAssetName\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\n\t\t\t\t<FarmPoolData\n\t\t\t\t\tpollStatsLoaded={true}\n\t\t\t\t\tuserStatsLoaded={true}\n\t\t\t\t\tpool={pool}\n\t\t\t\t\tstats={stats}\n\t\t\t\t\tblockNumber={blockNumber}\n\t\t\t\t/>\n\t\t\t</Box>\n\n\t\t\t{confirmationLabel && (\n\t\t\t\t<Box>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={t(confirmationLabel)}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid={`new-${actionName}-form-tos-check`}\n\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Tooltip title={withdraw ? disableWithdrawMsg : disableDepositsMsg}>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tid={`new-${actionName}-farm-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\tpool.poolId\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\twithdraw ? !!disableWithdrawMsg : !!disableDepositsMsg\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={() => onAction(actionAmount)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{withdraw\n\t\t\t\t\t\t\t\t\t? t(\"common.withdrawCurrency\", { currency: depositAssetName })\n\t\t\t\t\t\t\t\t\t: t(\"common.depositCurrency\", { currency: depositAssetName })}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Box>\n\n\t\t\t\t{showRewards && (\n\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t<Tooltip title={disableRewardsWithdrawMsg}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tid={`new-reward-only-withdraw-farm-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\t\tpool.poolId\n\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tdisabled={!!disableRewardsWithdrawMsg}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tonClick={onRewardsWithdraw}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"farm.withdrawRewardsBtn\", { token: \"ADX\" })}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Box, Typography } from \"@material-ui/core\"\nimport { useTranslation, Trans } from \"react-i18next\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport eddieTheFarmerInfo from \"../resources/eddie-farmer-info-card.svg\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tgetLink: {\n\t\t\tmarginLeft: theme.spacing(1)\n\t\t}\n\t}\n})\n\nexport default function FarmCard() {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\tbgcolor={\"background.card\"}\n\t\t\tp={3}\n\t\t\tmy={4}\n\t\t\tmx={2}\n\t\t\twidth={320}\n\t\t\tmaxWidth=\"100%\"\n\t\t\tminHeight={420}\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tboxShadow={25}\n\t\t\tposition=\"relative\"\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={eddieTheFarmerInfo}\n\t\t\t\talt={t(\"farm.eddieFarmer\")}\n\t\t\t\tstyle={{ maxWidth: 222 }}\n\t\t\t/>\n\t\t\t<Box my={3}>\n\t\t\t\t<Typography align=\"center\" variant=\"h5\" color=\"textPrimary\">\n\t\t\t\t\t{t(\"farm.farmInfoCardText\")}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\n\t\t\t<Typography align=\"center\" variant=\"h6\" color=\"textPrimary\">\n\t\t\t\t<Trans\n\t\t\t\t\ti18nKey=\"farm.farmInfoCardTextLink\"\n\t\t\t\t\tcomponents={{\n\t\t\t\t\t\texternalLink: (\n\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\tclassName={classes.getLink}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tid={`farm-info-card-blogpost-link`}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\thref={`https://www.adex.network/blog/adex-farming/`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</Typography>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M162.5,971.3l-13.6-136.6c0-12.5,16-1.4,36.2-1.4l0,0c20.1,0,36.3-11.1,36.3,1.4l0,0L210,967.9C210,997,162.5,985.2,162.5,971.3z M104.3,526.5c-99.5-45-91.5-115.8-91.5-115.8c-12.5,25,14.1,243,117.9,243C177.2,653.8,216.2,576.8,104.3,526.5z M104.3,372.5C4.8,327.6,12.9,256.8,12.9,256.8c-12.5,24.9,14.1,243,117.9,243C177.2,499.8,216.2,422.9,104.3,372.5z M104.3,223C4.8,178.4,12.9,107.4,12.9,107.4c-12.5,25,14.1,243,117.9,243C177.2,350.3,216.2,273.5,104.3,223z M242.3,653.8c103.7,0,130.3-218,117.9-243c0,0,8.1,70.8-91.6,115.8C156.9,576.8,195.8,653.8,242.3,653.8z M104.3,684.4c-99.5-45-91.5-115.8-91.5-115.8c-12.5,25,14.1,243,117.9,243C177.2,811.6,216.2,734.6,104.3,684.4z M242.3,811.6c103.7,0,130.3-218,117.9-243c0,0,8.1,70.8-91.6,115.8C156.9,734.6,195.8,811.6,242.3,811.6z M242.3,499.8c103.7,0,130.3-218.1,117.9-243c0,0,8.1,70.8-91.6,115.7C156.9,422.9,195.8,499.8,242.3,499.8z M242.3,350.3c103.7,0,130.3-218,117.9-243c0,0,8.1,70.9-91.6,115.6C156.9,273.5,195.8,350.3,242.3,350.3z M193.8,234.7c110.1,0-6.1-234.6-6.1-234.6C173.7,22.1,83.7,234.7,193.8,234.7z M491.3,989.6l66.4-116.2l0,0c5.3-11.2-14.1-8.1-32.2-16.5l0,0c-18.4-8.5-28.3-25.4-33.5-14l-45.3,129.5C440.9,985.2,478.9,1015.9,491.3,989.6z M581.3,544.7c-71.2-82.7-34.1-143.5-34.1-143.5c-21.9,17.3-89.5,226.4,4.5,270.1C593.8,690.9,661.6,637.5,581.3,544.7z M646.2,404.9c-71.2-82.5-34.1-143.3-34.1-143.3c-21.9,17.3-89.6,226.4,4.4,270.2C658.7,551.2,726.5,498,646.2,404.9z M709.2,269.5C637.8,187.1,675.1,126,675.1,126c-22,17.3-89.6,226.3,4.5,270.1C721.7,415.6,789.4,362.5,709.2,269.5z M653,718.4c94.1,43.5,210-142.8,209.2-170.8c0,0-22.5,67.7-131.8,66.4C607.8,612.6,610.8,698.7,653,718.4z M514.9,687.8c-71.3-82.7-34.3-143.4-34.3-143.4c-21.9,17.3-89.5,226.4,4.5,269.9C527.5,833.9,595.1,780.6,514.9,687.8z M586.5,861.4c94,43.7,210-142.8,209.3-170.8c0,0-22.5,67.7-131.8,66.4C541.4,755.7,544.3,841.9,586.5,861.4z M717.8,578.7c94.1,43.7,210-143,209.2-170.8c0,0-22.5,67.6-131.7,66.4C672.7,473,675.6,559.2,717.8,578.7z M780.8,443.1c94.1,43.8,210-142.7,209.2-170.7c0,0-22.6,67.9-131.7,66.4C735.7,337.5,738.7,423.6,780.8,443.1z M785.4,317.7c99.8,46.3,93.3-215.3,93.3-215.3C856.8,116.6,685.7,271.3,785.4,317.7z\"\n}));\n\nvar SvgWheatIcon = function SvgWheatIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 1000 1000\",\n    enableBackground: \"new 0 0 1000 1000\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWheatIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wheat-icon.cd7d50d4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { FarmContext } from \"../FarmProvider\"\nimport AppContext from \"../AppContext\"\nimport {\n\tBox,\n\tuseMediaQuery,\n\tButton,\n\tFormHelperText,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport FarmCard from \"./FarmCard\"\nimport FarmInfoCard from \"./FarmInfoCard\"\nimport SectionHeader from \"./SectionHeader\"\nimport { useTranslation, Trans } from \"react-i18next\"\nimport { FARM_POOLS, ZERO } from \"../helpers/constants\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { ReactComponent as HarvestIcon } from \"./../resources/wheat-icon.svg\"\nimport { onHarvestAll } from \"../actions\"\nimport {\n\tformatADXPretty\n\t// formatTokens\n} from \"../helpers/formatting\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tharvestBtn: {},\n\t\tharvestIcon: {\n\t\t\tcolor: ({ canHarvest }) =>\n\t\t\t\tcanHarvest ? theme.palette.special.main : \"inherit\"\n\t\t}\n\t}\n})\n\nconst Farm = () => {\n\tconst { t } = useTranslation()\n\tconst { farmStats, setGetFarmStats } = useContext(FarmContext)\n\tconst { chosenWalletType, wrapDoingTxns } = useContext(AppContext)\n\tconst {\n\t\tpollStatsLoaded,\n\t\tuserStatsLoaded,\n\t\tstatsByPoolId,\n\t\t// blockNumber,\n\t\ttotalRewards\n\t} = farmStats || {}\n\n\tconst canStake = !!chosenWalletType.name && userStatsLoaded //&& !!appStats.connectedWalletAddress\n\tconst justifyCenter = useMediaQuery(theme => theme.breakpoints.down(\"xs\"))\n\tconst [harvestOpen, setHarvestOpen] = useState(false)\n\tconst canHarvest = userStatsLoaded && !!totalRewards //&& totalRewards.gt(ZERO)\n\tconst classes = useStyles({ canHarvest })\n\n\tuseEffect(() => {\n\t\tsetGetFarmStats(true)\n\t\treturn () => {\n\t\t\tsetGetFarmStats(false)\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst onHarvest = async () => {\n\t\tawait wrapDoingTxns(\n\t\t\tonHarvestAll.bind(null, {\n\t\t\t\tfarmStats,\n\t\t\t\tchosenWalletType\n\t\t\t})\n\t\t)()\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader\n\t\t\t\ttitle={t(\"common.farm\")}\n\t\t\t\tactions={\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"btn-farm-harvest-all-rewards\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setHarvestOpen(true)}\n\t\t\t\t\t\t\t\tdisabled={!canHarvest}\n\t\t\t\t\t\t\t\tstartIcon={\n\t\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"inherit\" className={classes.harvestIcon}>\n\t\t\t\t\t\t\t\t\t\t<HarvestIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"farm.harvest\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{canHarvest\n\t\t\t\t\t\t\t\t\t? `${formatADXPretty(totalRewards || ZERO)} ADX`\n\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflex={1}\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t\tjustifyContent={justifyCenter ? \"center\" : \"flex-start\"}\n\t\t\t\t>\n\t\t\t\t\t<FarmInfoCard />\n\t\t\t\t\t{FARM_POOLS.map(pool => {\n\t\t\t\t\t\tconst stats = statsByPoolId ? statsByPoolId[pool.poolId] || {} : {}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<FarmCard\n\t\t\t\t\t\t\t\tkey={pool.token}\n\t\t\t\t\t\t\t\t// blockNumber={blockNumber}\n\t\t\t\t\t\t\t\tloading={!pollStatsLoaded}\n\t\t\t\t\t\t\t\tpollStatsLoaded={pollStatsLoaded}\n\t\t\t\t\t\t\t\tuserStatsLoaded={userStatsLoaded}\n\t\t\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\t\t\tdisabledInfo={t(\"common.connectWallet\")}\n\t\t\t\t\t\t\t\tpool={pool}\n\t\t\t\t\t\t\t\tstats={stats}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t{ConfirmationDialog({\n\t\t\t\tisOpen: harvestOpen,\n\t\t\t\tonDeny: () => setHarvestOpen(false),\n\t\t\t\tonConfirm: () => {\n\t\t\t\t\tsetHarvestOpen(false)\n\t\t\t\t\tonHarvest()\n\t\t\t\t},\n\t\t\t\tconfirmActionName: t(\"farm.harvest\"),\n\t\t\t\tcontent: (\n\t\t\t\t\t<Trans\n\t\t\t\t\t\ti18nKey=\"dialogs.harvestAllConfirmation\"\n\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\tamount: formatADXPretty(totalRewards || ZERO),\n\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t})}\n\t\t</Box>\n\t)\n}\n\nexport default Farm\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1546\",\n  \"data-name\": \"Group 1546\",\n  transform: \"translate(0 -1.242)\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle_723\",\n  \"data-name\": \"Rectangle 723\",\n  width: 6.162,\n  height: 19.828,\n  transform: \"translate(7.414 1.242)\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle_724\",\n  \"data-name\": \"Rectangle 724\",\n  width: 6.162,\n  height: 14.058,\n  transform: \"translate(14.953 7.012)\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle_725\",\n  \"data-name\": \"Rectangle 725\",\n  width: 6.162,\n  height: 8.204,\n  transform: \"translate(0 12.866)\"\n}));\n\nvar SvgStatsIc = function SvgStatsIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 21.115,\n    height: 19.828,\n    viewBox: \"0 0 21.115 19.828\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStatsIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/stats-ic.2488c863.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\n\nconst ValidatorStatsContext = React.createContext()\n\nexport default ValidatorStatsContext\n","import { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\"\nimport lime from \"@material-ui/core/colors/lime\"\nimport { fade } from \"@material-ui/core/styles/colorManipulator\"\n\nconst WHITE = \"#fafafa\"\nconst BLACK = \"#0f0f0f\"\nexport const PRIMARY = \"#494560\"\nexport const SECONDARY = \"#ff4269\"\nexport const ALEX_GREY = \"#3f3e3e\"\nexport const ALEX_GREY_LIGHT = \"#666\"\nexport const WARNING = \"#FEB006\"\nexport const SUCCESS = \"#14dc9c\"\nexport const INFO = \"#1b75bc\"\nexport const ERROR = \"#ff6969\"\n\n// DARK THEME\nexport const TEXT_MAIN = \"#7B7597\"\nexport const TEXT_DEFAULT = \"#e2dff5\"\nexport const PAPER = \"#29253B\"\nexport const DARKER_PAPER = \"#1A1825\"\nexport const BACKGROUND_DEFAULT = \"#131313\"\nexport const SPECIAL_CONTRAST = \"#6942ff\"\n\n//LIGHT THEME\nexport const TEXT_SECONDARY_LIGHT = \"#7f74b5\"\nexport const TEXT_MAIN_LIGHT = \"#534c78\"\nexport const PAPER_LIGHT = \"#fefefe\"\nexport const DARKER_PAPER_LIGHT = \"#eee\"\nexport const BACKGROUND_DEFAULT_LIGHT = WHITE\nexport const SPECIAL_CONTRAST_LIGHT = \"#1BC69F\" //  SECONDARY// \"#3c1fcc\"\n\nconst paletteCommon = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\tlightGrey: { main: ALEX_GREY_LIGHT, contrastText: WHITE },\n\twarning: {\n\t\tmain: WARNING,\n\t\tcontrastText: BLACK\n\t},\n\tsuccess: {\n\t\tmain: SUCCESS,\n\t\tcontrastText: BLACK\n\t},\n\tinfo: {\n\t\tmain: INFO,\n\t\tcontrastText: WHITE\n\t},\n\terror: {\n\t\tmain: ERROR,\n\t\tcontrastText: WHITE\n\t},\n\tfirst: lime,\n\tcommon: {\n\t\twhite: WHITE,\n\t\tblack: BLACK\n\t}\n}\n\nconst paletteLight = {\n\ttype: \"light\",\n\t...paletteCommon,\n\tspecial: { main: SPECIAL_CONTRAST_LIGHT, contrastText: WHITE },\n\ttext: {\n\t\tmain: TEXT_MAIN_LIGHT,\n\t\tprimary: fade(BLACK, 0.9),\n\t\tsecondary: fade(BLACK, 0.69),\n\t\tdisabled: fade(BLACK, 0.42),\n\t\thint: fade(BLACK, 0.13)\n\t},\n\tbackground: {\n\t\tdefault: BACKGROUND_DEFAULT_LIGHT,\n\t\tpaper: PAPER_LIGHT,\n\t\tdarkerPaper: DARKER_PAPER_LIGHT,\n\t\tspecial: SPECIAL_CONTRAST_LIGHT,\n\t\tspecialSecondary: BLACK,\n\t\tactive: fade(TEXT_MAIN, 0.42),\n\t\tcontrast: TEXT_MAIN,\n\t\tcontrastText: WHITE,\n\t\tcard: DARKER_PAPER_LIGHT\n\t}\n}\n\nconst paletteDark = {\n\ttype: \"dark\",\n\t...paletteCommon,\n\tspecial: { main: WARNING, contrastText: BLACK },\n\ttext: {\n\t\tmain: TEXT_MAIN,\n\t\tprimary: fade(WHITE, 0.69),\n\t\tsecondary: fade(WHITE, 0.42),\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\thint: fade(WHITE, 0.13)\n\t},\n\tdivider: fade(WHITE, 0.13),\n\tbackground: {\n\t\tdarkerPaper: DARKER_PAPER,\n\t\tpaper: PAPER,\n\t\tdefault: BLACK,\n\t\tspecial: SPECIAL_CONTRAST,\n\t\tspecialSecondary: BLACK,\n\t\tactive: PRIMARY,\n\t\tcontrast: WHITE,\n\t\tcontrastText: BLACK,\n\t\tcard: PAPER\n\t},\n\toverlay: fade(DARKER_PAPER, 0.69),\n\taction: {\n\t\taction: fade(WHITE, 0.46),\n\t\thover: fade(WHITE, 0.069),\n\t\thoverOpacity: 0.069,\n\t\tselected: fade(WHITE, 0.1914),\n\t\tselectedOpacity: 0.1914,\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\tdisabledOpacity: 0.48,\n\t\tfocus: fade(WHITE, 0.18),\n\t\tfocusOpacity: 0.18,\n\t\tactivatedOpacity: 0.18\n\t}\n}\n\nconst typography = {\n\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\tfontSize: 14.2\n}\n\nconst defaultTheme = createMuiTheme({\n\tpalette: { ...paletteCommon }\n})\n\nconst darkShadows = [...defaultTheme.shadows, \"3px 4px 15px 0px rgba(0,0,0,1)\"]\n\nconst lightShadows = [\n\t...defaultTheme.shadows,\n\t\"1px 1px 5px 0px rgba(69,69,69,0.30)\"\n]\n\nconst commonTheme = createMuiTheme({\n\t...defaultTheme,\n\ttypography,\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderColor: ALEX_GREY\n\t\t\t},\n\t\t\tcontained: {\n\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\tcolor: WHITE,\n\t\t\t\tboxShadow: 0,\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&$focusVisible\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&:active\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t}\n\t\t\t\t// \"&:disabled\": {\n\t\t\t\t// \tbackgroundColor: fade(WHITE, 0.12),\n\t\t\t\t// \tcolor: fade(WHITE, 0.26)\n\t\t\t\t// }\n\t\t\t}\n\t\t},\n\t\tMuiFab: {\n\t\t\troot: {\n\t\t\t\tboxShadow: 0,\n\t\t\t\t// \"&:disabled\": {\n\t\t\t\t// \tbackgroundColor: fade(WHITE, 0.12),\n\t\t\t\t// \tcolor: fade(WHITE, 0.26)\n\t\t\t\t// },\n\t\t\t\t\"&:active\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t},\n\t\t\t\t\"&$focusVisible\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t},\n\t\t\t\t\"&$disabled\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\tcolor: defaultTheme.palette.text.main,\n\t\t\t\tfontWeight: 700\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: \"nowrap\"\n\t\t\t}\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0\n\t\t\t}\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tfontSize: \"0.9em\",\n\t\t\t\tbackgroundColor: fade(DARKER_PAPER, 0.9),\n\t\t\t\tpadding: defaultTheme.spacing(2)\n\t\t\t},\n\t\t\tarrow: { color: fade(DARKER_PAPER, 0.9) }\n\t\t},\n\t\tMuiDrawer: {\n\t\t\tpaperAnchorLeft: {\n\t\t\t\tborderRight: 0\n\t\t\t},\n\t\t\tpaperAnchorDockedLeft: {\n\t\t\t\tborderRight: 0\n\t\t\t}\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tmaxWidth: \"100%\",\n\t\t\t\talignItems: \"center\"\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\twordBreak: \"break-word\"\n\t\t\t},\n\t\t\toutlinedSuccess: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedInfo: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedWarning: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedError: {\n\t\t\t\tbackgroundColor: WHITE\n\t\t\t},\n\t\t\tfilledSuccess: {\n\t\t\t\tcolor: defaultTheme.palette.success.contrastText\n\t\t\t},\n\t\t\tfilledInfo: {\n\t\t\t\tcolor: defaultTheme.palette.info.contrastText\n\t\t\t},\n\t\t\tfilledWarning: {\n\t\t\t\tcolor: defaultTheme.palette.warning.contrastText\n\t\t\t},\n\t\t\tfilledError: {\n\t\t\t\tcolor: defaultTheme.palette.error.contrastText\n\t\t\t}\n\t\t},\n\t\tMuiBackdrop: {\n\t\t\troot: {\n\t\t\t\tbackgroundColor: fade(BLACK, 0.69)\n\t\t\t}\n\t\t},\n\t\tMuiFilledInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderTopLeftRadius: 0,\n\t\t\t\tborderTopRightRadius: 0\n\t\t\t}\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0\n\t\t\t}\n\t\t}\n\t\t// MuiDrawer: {\n\t\t// \troot: {\n\t\t// \t\ttop: 0,\n\t\t// \t\tleft: 0,\n\t\t// \t\tbottom: 'auto',\n\t\t// \t\tright: 'auto',\n\t\t// \t\twidth: '100vw',\n\t\t// \t\theight: '100vh',\n\t\t// \t\tposition: 'fixed'\n\t\t// \t},\n\t\t// \tpaper: {\n\t\t// \t\ttop: 0,\n\t\t// \t\tleft: 0,\n\t\t// \t\theight: '100%',\n\t\t// \t\tposition: 'absolute'\n\t\t// \t}\n\t\t// }\n\t}\n})\n\nconst defaultThemeWithOverrides = responsiveFontSizes(commonTheme, {\n\tbreakpoints: [\"xs\", \"sm\", \"md\", \"lg\", \"xl\"],\n\tfactor: 3\n})\n\nexport const darkTheme = createMuiTheme({\n\t...defaultThemeWithOverrides,\n\tpalette: paletteDark,\n\tshadows: darkShadows,\n\ttype: \"dark\"\n})\n\nexport const lightTheme = createMuiTheme({\n\t...defaultThemeWithOverrides,\n\tpalette: paletteLight,\n\tshadows: lightShadows,\n\ttype: \"light\"\n})\n","export const hexToRgbaColorString = (hex, alpha) => {\n\tif (!hex || typeof hex !== \"string\") {\n\t\tthrow new Error(\"Invalid color\")\n\t} else if (hex.length === 4) {\n\t\thex = hex + hex.substr(1, 4)\n\t}\n\n\tif (typeof alpha === \"object\" || typeof alpha === \"undefined\") {\n\t\talpha = 1\n\t}\n\n\tconst hexToDec = h => {\n\t\treturn parseInt(\"0x\" + h, 16)\n\t}\n\n\tlet r = hexToDec(hex.substr(1, 2))\n\tlet g = hexToDec(hex.substr(3, 2))\n\tlet b = hexToDec(hex.substr(5, 2))\n\n\treturn `rgba(${r},${g},${b},${alpha})`\n}\n","import React from \"react\"\nimport { Line } from \"react-chartjs-2\"\nimport { SECONDARY } from \"../themeMUi\"\nimport { Box, Typography, CircularProgress } from \"@material-ui/core\"\nimport { hexToRgbaColorString } from \"../helpers/colors\"\nimport { useWindowSize } from \"../hooks/windowSize\"\nimport { formatNumberPretty } from \"../helpers/formatting\"\n\nconst commonDsProps = {\n\tfill: true,\n\tlineTension: 0.333,\n\tborderWidth: 2,\n\tpointRadius: 2,\n\tpointHitRadius: 10\n}\n\nconst DEFAULT_FONT_SIZE = 14.2\nconst FONT = \"Roboto\"\n\nconst DefaultLabel = ({ label = \"\", align }) =>\n\tlabel.split(\"-\").map((x, index, all) => (\n\t\t<Typography key={x + index} component=\"div\" variant=\"caption\" align={align}>\n\t\t\t{x}\n\t\t</Typography>\n\t))\n\nexport const StatsChart = ({\n\tdata,\n\tdataSynced = false,\n\tdataActive = true,\n\tdefaultLabels = [],\n\toptions = {},\n\txLabel = \"\",\n\tyLabel = \"DATA\",\n\tyColor = SECONDARY,\n\tcurrency,\n\txSelect\n}) => {\n\tconst windowSize = useWindowSize()\n\tconst chartHeight = Math.min(\n\t\tMath.max(Math.floor((windowSize.height || 0) / 2.2), 240),\n\t\t333\n\t)\n\n\tconst chartData = {\n\t\tlabels: dataSynced ? data.labels : defaultLabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: hexToRgbaColorString(yColor, 0.13),\n\t\t\t\tborderColor: hexToRgbaColorString(yColor, 1),\n\t\t\t\tpointBackgroundColor: hexToRgbaColorString(yColor, 1),\n\t\t\t\tlabel: yLabel,\n\t\t\t\tdata: dataSynced ? data.datasets : [],\n\t\t\t\tyAxisID: \"y-axis-1\",\n\t\t\t\thidden: !dataActive\n\t\t\t}\n\t\t]\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\tlayout: {\n\t\t\tpadding: {\n\t\t\t\ttop: 16\n\t\t\t}\n\t\t},\n\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: false,\n\t\t\ttext: options.title\n\t\t},\n\t\tlegend: {\n\t\t\tdisplay: false\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: \"black\",\n\t\t\tmode: \"index\",\n\t\t\tintersect: false,\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontFamily: FONT,\n\t\t\ttitleFontFamily: FONT,\n\t\t\txPadding: 8,\n\t\t\tyPadding: 8,\n\t\t\tcornerRadius: 0,\n\t\t\tbodySpacing: 4,\n\t\t\tcaretSize: 8,\n\t\t\tdisplayColors: true,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency (DAI) to label in the tooltips if needed\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel = currency\n\t\t\t\t\t\t? `${formatNumberPretty(t.yLabel)} ${currency}`\n\t\t\t\t\t\t: `${formatNumberPretty(t.yLabel)}`\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thover: {\n\t\t\tmode: \"index\",\n\t\t\tintersect: false\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tdrawBorder: true,\n\t\t\t\t\t\tdrawTicks: true,\n\t\t\t\t\t\tcolor: SECONDARY\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tlabelString: xLabel,\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t\tcolor: SECONDARY\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tautoSkip: true,\n\t\t\t\t\t\tmaxTicksLimit: 2,\n\t\t\t\t\t\tmaxRotation: 0,\n\t\t\t\t\t\tpadding: -24,\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t\tcallback: () => \"\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawTicks: false\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tmaxTicksLimit: 11,\n\t\t\t\t\t\tstepSize: 1,\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: 10,\n\t\t\t\t\t\tcallback: () => \"\"\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"linear\",\n\t\t\t\t\tid: \"y-axis-dummy-grid-lines\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tcolor: SECONDARY,\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tfontColor: yColor,\n\t\t\t\t\t\tcallback: label =>\n\t\t\t\t\t\t\tformatNumberPretty(label) + (currency ? ` ${currency}` : \"\")\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tcolor: SECONDARY\n\t\t\t\t\t},\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"linear\",\n\t\t\t\t\tid: \"y-axis-1\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Box height={chartHeight} width={1} color={yColor}>\n\t\t\t\t{dataSynced ? (\n\t\t\t\t\t<Line height={chartHeight} data={chartData} options={linesOptions} />\n\t\t\t\t) : (\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={chartHeight / 4} />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tmaxWidth={1}\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\tflexDirection=\"row\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tpx={1}\n\t\t\t\tflexWrap=\"wrap\"\n\t\t\t>\n\t\t\t\t<Box flexGrow=\"1\">\n\t\t\t\t\t<DefaultLabel label={defaultLabels[0]} align=\"left\" />\n\t\t\t\t</Box>\n\n\t\t\t\t<Box flexGrow=\"1\">{xSelect}</Box>\n\n\t\t\t\t<Box flexGrow=\"1\">\n\t\t\t\t\t<DefaultLabel label={defaultLabels[1]} align=\"right\" />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import { useState, useEffect } from \"react\"\n\nexport function useWindowSize() {\n\tconst hasWindow = typeof window === \"object\"\n\n\tfunction getWindowSize() {\n\t\treturn {\n\t\t\twidth: hasWindow ? window.innerWidth : 0,\n\t\t\theight: hasWindow ? window.innerHeight : 0\n\t\t}\n\t}\n\n\tconst [windowSize, setWindowSize] = useState(getWindowSize)\n\n\tuseEffect(() => {\n\t\tif (!hasWindow) {\n\t\t\treturn false\n\t\t}\n\n\t\tfunction onResize() {\n\t\t\tsetWindowSize(getWindowSize())\n\t\t}\n\n\t\twindow.addEventListener(\"resize\", onResize)\n\n\t\treturn () => window.removeEventListener(\"resize\", onResize)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [hasWindow])\n\n\treturn windowSize\n}\n","import React, { useContext, useEffect, useState } from \"react\"\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tMenuItem,\n\tSelect,\n\tFormControl,\n\tGrid,\n\tSvgIcon,\n\tList,\n\tListItem,\n\tListItemText\n} from \"@material-ui/core\"\nimport clsx from \"clsx\"\nimport { useLocation } from \"react-router-dom\"\nimport { ReactComponent as StatsIcon } from \"./../resources/stats-ic.svg\"\nimport SectionHeader from \"./SectionHeader\"\nimport ValidatorStatsContext from \"../ValidatorStatsContext\"\nimport { POOLS } from \"../helpers/constants\"\nimport { useTranslation } from \"react-i18next\"\nimport StatsCard from \"./StatsCard\"\nimport { StatsChart } from \"./StatsChart\"\nimport { formatADXPretty, formatNumberPretty } from \"../helpers/formatting\"\n\nconst ACTIVE_BORDER_WIDTH = 3\n\nconst poolsSrc = POOLS.filter(x => x.selectable).map(x => ({\n\tvalue: x.id,\n\tlabel: x.label,\n\tpool: x\n}))\n\nconst chartStatsKeys = [\n\t\"dailyTransactionsData\",\n\t\"monthlyTransactionsData\",\n\t\"yearlyTransactionsData\",\n\t\"dailyPayoutsData\"\n]\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tcard: {\n\t\t\tposition: \"relative\",\n\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t},\n\t\tactive: {\n\t\t\tbackgroundColor: theme.palette.background.darkerPaper,\n\t\t\tborder: `${ACTIVE_BORDER_WIDTH}px solid ${theme.palette.background.special}`\n\t\t},\n\t\tinteractive: {\n\t\t\tcursor: \"pointer\"\n\t\t},\n\t\ticon: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: theme.spacing(3),\n\t\t\theight: theme.spacing(3),\n\t\t\ttop: theme.spacing(1),\n\t\t\tright: theme.spacing(1),\n\t\t\tcolor: theme.palette.background.special\n\t\t}\n\t}\n})\n\nconst useQuery = () => {\n\treturn new URLSearchParams(useLocation().search)\n}\n\nconst ValidatorStatsCard = ({\n\tlabel,\n\tvalue,\n\tloaded,\n\tcurrentKey,\n\tchartKey,\n\tsetKey\n}) => {\n\tconst classes = useStyles()\n\tconst active = chartKey && currentKey && currentKey === chartKey\n\tconst interactive = !!chartKey\n\treturn (\n\t\t<Box\n\t\t\tclassName={clsx(classes.card, {\n\t\t\t\t[classes.active]: active,\n\t\t\t\t[classes.interactive]: interactive\n\t\t\t})}\n\t\t\tm={1}\n\t\t\tpy={2}\n\t\t\tpx={5}\n\t\t\tboxShadow={25}\n\t\t\tonClick={() => chartKey && setKey(chartKey)}\n\t\t\tflexGrow={1}\n\t\t>\n\t\t\t{interactive && (\n\t\t\t\t<SvgIcon className={classes.icon} fontSize=\"inherit\">\n\t\t\t\t\t<StatsIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t</SvgIcon>\n\t\t\t)}\n\t\t\t<Box>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: loaded,\n\t\t\t\t\ttitle: label,\n\t\t\t\t\tsubtitle: value\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport function PropItem({ name, value }) {\n\treturn (\n\t\t<ListItem>\n\t\t\t<ListItemText primary={name} secondary={value} />\n\t\t</ListItem>\n\t)\n}\n\nconst XSelect = ({ chartDataKey, setChartDataKey, t }) => (\n\t<FormControl fullWidth size=\"small\" variant=\"outlined\" color=\"primary\">\n\t\t<Select\n\t\t\tlabelId=\"pool-stats-key-select-input-labe\"\n\t\t\tid=\"pool-stats-key-select\"\n\t\t\tvalue={chartDataKey}\n\t\t\tonChange={e => {\n\t\t\t\tsetChartDataKey(e.target.value)\n\t\t\t}}\n\t\t>\n\t\t\t{chartStatsKeys.map(key => (\n\t\t\t\t<MenuItem key={key} value={key}>\n\t\t\t\t\t{t(`stats.${key}`)}\n\t\t\t\t</MenuItem>\n\t\t\t))}\n\t\t</Select>\n\t</FormControl>\n)\n\nconst getDefaultLabels = (labels = []) => [\n\tlabels[0] || \"\",\n\tlabels[labels.length - 1] || \"\"\n]\n\nexport default function Stats() {\n\tconst theme = useTheme()\n\tconst { t } = useTranslation()\n\tconst query = useQuery()\n\n\tconst [chartDataKey, setChartDataKey] = useState(\"dailyTransactionsData\")\n\tconst [chartData, setChartData] = useState({})\n\n\tconst { loaded, poolId, setPoolId, pool, setPool, stats } = useContext(\n\t\tValidatorStatsContext\n\t)\n\n\tuseEffect(() => {\n\t\t// NOTE: if not deep copy there is some s**t with the chart\n\t\t// - cache maybe and it mixes up everything\n\t\tsetChartData(JSON.parse(JSON.stringify({ ...(stats[chartDataKey] || {}) })))\n\t}, [chartDataKey, stats])\n\n\tuseEffect(() => {\n\t\tconst validator = query.get(\"validator\")\n\t\tconst selected = validator\n\t\t\t? poolsSrc.filter(x => t(x.label === validator))[0]\n\t\t\t: {}\n\n\t\tonPoolSelect(selected.value || poolsSrc[0].value)\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tfunction onPoolSelect(poolId) {\n\t\tsetPoolId(poolId)\n\t\tsetPool(poolsSrc.find(x => x.value === poolId).pool)\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader title={t(\"common.validatorStats\")} />\n\t\t\t<Box m={1} mb={0}>\n\t\t\t\t<FormControl variant=\"outlined\" size=\"small\">\n\t\t\t\t\t{/* <InputLabel id=\"pool-stats-select-input-label\">\n\t\t\t\t\t\t{t(\"common.pool\")}\n\t\t\t\t\t</InputLabel> */}\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabelId=\"pool-stats-select-input-labe\"\n\t\t\t\t\t\tid=\"pool-stats-select\"\n\t\t\t\t\t\tvalue={poolId}\n\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\tonPoolSelect(e.target.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{poolsSrc.map(({ value, label }) => (\n\t\t\t\t\t\t\t<MenuItem key={value} value={value}>\n\t\t\t\t\t\t\t\t{t(label)}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Select>\n\t\t\t\t</FormControl>\n\t\t\t</Box>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} md={12} lg={7}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tm={1}\n\t\t\t\t\t\t\tmt={2}\n\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\tp={1}\n\t\t\t\t\t\t\tbgcolor=\"background.darkerPaper\"\n\t\t\t\t\t\t\tboxShadow={25}\n\t\t\t\t\t\t\tborder={ACTIVE_BORDER_WIDTH}\n\t\t\t\t\t\t\tborderColor={\"background.special\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StatsChart\n\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\ttitle: t(`stats.${chartDataKey}`)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdefaultLabels={getDefaultLabels(chartData.labels)}\n\t\t\t\t\t\t\t\tdata={chartData}\n\t\t\t\t\t\t\t\tdataActive={true}\n\t\t\t\t\t\t\t\tdataSynced={loaded}\n\t\t\t\t\t\t\t\txLabel={t(`stats.${chartDataKey}`)}\n\t\t\t\t\t\t\t\tyLabel={t(chartData.valueLabel)}\n\t\t\t\t\t\t\t\tyColor={theme.palette.background.special}\n\t\t\t\t\t\t\t\tcurrency={chartData.currency}\n\t\t\t\t\t\t\t\txSelect={XSelect({\n\t\t\t\t\t\t\t\t\tchartDataKey,\n\t\t\t\t\t\t\t\t\tsetChartDataKey,\n\t\t\t\t\t\t\t\t\tt\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={12} lg={5}>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<List dense disablePadding>\n\t\t\t\t\t\t\t\t<PropItem name={t(\"common.name\")} value={t(pool.label)} />\n\t\t\t\t\t\t\t\t<PropItem name={t(\"common.purpose\")} value={t(pool.purpose)} />\n\t\t\t\t\t\t\t\t<PropItem\n\t\t\t\t\t\t\t\t\tname={t(\"common.slashing\")}\n\t\t\t\t\t\t\t\t\tvalue={t(pool.slashPolicy)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PropItem\n\t\t\t\t\t\t\t\t\tname={t(\"common.rewards\")}\n\t\t\t\t\t\t\t\t\tvalue={t(pool.rewardPolicy)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PropItem\n\t\t\t\t\t\t\t\t\tname={t(\"common.lockup\")}\n\t\t\t\t\t\t\t\t\tvalue={t(pool.lockupPeriodText, {\n\t\t\t\t\t\t\t\t\t\tcount: pool.lockupPeriod || 0\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PropItem\n\t\t\t\t\t\t\t\t\tname={t(\"common.apyStability\")}\n\t\t\t\t\t\t\t\t\tvalue={t(pool.apyStability)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t\t<Box mt={2} display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.dailyTransactions\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.dailyTransactions\n\t\t\t\t\t\t\t? formatNumberPretty(stats.dailyTransactions)\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t\tcurrentKey={chartDataKey}\n\t\t\t\t\tchartKey={\"dailyTransactionsData\"}\n\t\t\t\t\tsetKey={setChartDataKey}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.monthlyTransactions\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.monthlyTransactions\n\t\t\t\t\t\t\t? formatNumberPretty(stats.monthlyTransactions)\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t\tcurrentKey={chartDataKey}\n\t\t\t\t\tchartKey={\"monthlyTransactionsData\"}\n\t\t\t\t\tsetKey={setChartDataKey}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.yearlyTransactions\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.yearlyTransactions\n\t\t\t\t\t\t\t? formatNumberPretty(stats.yearlyTransactions)\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t\tcurrentKey={chartDataKey}\n\t\t\t\t\tchartKey={\"yearlyTransactionsData\"}\n\t\t\t\t\tsetKey={setChartDataKey}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.dailyPayoutsVolume\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.dailyPayoutsVolume\n\t\t\t\t\t\t\t? formatADXPretty(stats.dailyPayoutsVolume) + \" DAI\"\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t\tcurrentKey={chartDataKey}\n\t\t\t\t\tchartKey={\"dailyPayoutsData\"}\n\t\t\t\t\tsetKey={setChartDataKey}\n\t\t\t\t/>\n\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.totalCampaigns\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.totalCampaigns\n\t\t\t\t\t\t\t? formatNumberPretty(stats.totalCampaigns)\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.uniqueUnits\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.uniqueUnits ? formatNumberPretty(stats.uniqueUnits) : \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.uniquePublishers\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.uniquePublishers\n\t\t\t\t\t\t\t? formatNumberPretty(stats.uniquePublishers)\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.uniqueAdvertisers\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.uniqueAdvertisers\n\t\t\t\t\t\t\t? formatNumberPretty(stats.uniqueAdvertisers)\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.totalDeposits\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.totalDeposits\n\t\t\t\t\t\t\t? formatADXPretty(stats.totalDeposits) + \" DAI\"\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.totalPayouts\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.totalPayouts\n\t\t\t\t\t\t\t? formatADXPretty(stats.totalPayouts) + \" DAI\"\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t/>\n\t\t\t\t<ValidatorStatsCard\n\t\t\t\t\tlabel={t(\"stats.lockupOnChain\")}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tstats.lockupOnChain\n\t\t\t\t\t\t\t? formatADXPretty(stats.lockupOnChain) + \" DAI\"\n\t\t\t\t\t\t\t: \"-\"\n\t\t\t\t\t}\n\t\t\t\t\tloaded={loaded}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(222.283 597.452)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-165.533-585.571c-1.471-.154-2.685-.228-3.881-.415a5.679,5.679,0,0,1-4.824-5.962,5.72,5.72,0,0,1,5.316-5.412c3.187-.136,6.384-.066,9.577-.07,4.367,0,8.735-.063,13.1.03a5.778,5.778,0,0,1,5.567,7.481c-.635,2.362-3.2,4.108-6.189,4.2-.694.02-1.389,0-2.258,0,0,2.27-.046,4.416.056,6.556.014.285.756.714,1.2.772a65.788,65.788,0,0,1,19.029,5.6,62.2,62.2,0,0,1,14.022,8.85c.719.6,1.207.688,1.859-.052,1.145-1.3,2.357-2.541,3.685-3.961-.357-.32-.892-.741-1.359-1.228a3.411,3.411,0,0,1-.25-4.707,3.7,3.7,0,0,1,4.943-.5c1.2.968,2.286,2.087,3.411,3.151,1.977,1.87,3.956,3.738,5.916,5.627,1.563,1.507,1.769,3.427.565,4.884a3.71,3.71,0,0,1-5.178.426c-.806-.676-1.264-.654-1.95.092a35.9,35.9,0,0,1-3.038,2.92c-.735.63-.708,1.054-.128,1.832a96.617,96.617,0,0,1,5.642,8.034A57.776,57.776,0,0,1-93.169-527.2a59.463,59.463,0,0,1,.246,18.073,59.427,59.427,0,0,1-11.733,28.06,62.53,62.53,0,0,1-19.929,17.232,44.509,44.509,0,0,1-6.091,2.724,121.413,121.413,0,0,1-11.8,3.98,63.854,63.854,0,0,1-23.688,1.111,63.662,63.662,0,0,1-22.63-7.086c-14.35-7.736-24.655-19.092-30.2-34.537a57.37,57.37,0,0,1-3.18-16.033,57.884,57.884,0,0,1,8.541-34.426,63.154,63.154,0,0,1,31.6-26.3,64.676,64.676,0,0,1,15.424-4.028c.385-.05,1.009-.52,1.022-.816C-165.492-581.341-165.533-583.445-165.533-585.571ZM-116.582-482.8a50.567,50.567,0,0,0,13.607-31.582c-1.042,0-1.831-.029-2.618.005-3.841.165-3.667-.522-3.605-3.874.028-1.536.617-2.055,2.206-2.078,1.256-.018,2.513,0,3.735,0,1.446-7.154-7.472-27.519-13.634-31.274-.5.471-1.008.948-1.512,1.433-2.7,2.6-2.944,2.59-5.586-.139-1.1-1.136-1.119-1.878-.019-2.98.89-.892,1.818-1.746,2.707-2.6-.092-.178-.115-.285-.18-.34-9.243-7.75-20-11.716-31.923-12.754-.251-.022-.673.373-.781.661a3.306,3.306,0,0,0-.041,1.255c.2,4.233-.538,4.021-4.273,3.965a1.776,1.776,0,0,1-1.951-1.921c-.022-1.033-.02-2.066-.012-3.1.006-.748-.342-1.023-1.064-.862a7.068,7.068,0,0,1-.964.183,53.837,53.837,0,0,0-24.063,7.815c-2.407,1.467-4.649,3.2-7.073,4.888.73.7,1.2,1.153,1.676,1.6,2.748,2.582,2.744,2.973-.057,5.438-1.235,1.087-1.926,1.094-3.167-.029-.925-.838-1.815-1.715-2.71-2.564-6.912,5.575-14.863,23.814-13.611,31.319,1.273,0,2.577-.019,3.88,0,1.492.028,2.119.645,2.194,2.126.026.515.023,1.033,0,1.549-.065,1.784-.533,2.246-2.3,2.265-1.3.014-2.593,0-4.04,0,.78,12.331,5.563,22.6,13.644,31.589l1.821-1.714c2.7-2.549,2.881-2.546,5.523.082,1.125,1.118,1.145,2.021.032,3.116-.923.908-1.872,1.789-2.861,2.73.407.36.7.646,1.026.9a55.921,55.921,0,0,0,16.749,9.245,60.342,60.342,0,0,0,14.145,2.925c.927.091,1.293-.176,1.238-1.131-.06-1.03-.032-2.066,0-3.1a1.763,1.763,0,0,1,1.873-1.848c2.832-.23,3.987.12,4.289,1.37a3.723,3.723,0,0,1,.049.841c.005.892.057,1.789-.013,2.676-.081,1.029.323,1.268,1.307,1.186a56.251,56.251,0,0,0,26.8-9.216c1.733-1.146,3.358-2.454,5.051-3.7-.694-.712-1.2-1.255-1.727-1.769-2.693-2.6-2.685-2.981.153-5.431,1.237-1.068,1.9-1.046,3.158.114C-118.579-484.658-117.659-483.8-116.582-482.8Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.872-306.352h-5.99v-17.426c1.789,0,3.6-.048,5.4.041.356.018.73.524,1.022.868,1.818,2.139,3.614,4.3,5.705,6.791V-323.7h5.98v17.389c-1.705,0-3.424.051-5.135-.042-.355-.019-.721-.536-1.014-.881-1.9-2.245-3.783-4.507-5.967-7.115Z\",\n  transform: \"translate(-220.606 -196.543)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-48.262-316.215c-.1,4.386-2.926,7.842-7.586,8.957-5.611,1.343-11.787-1.9-12.4-7.984a8.225,8.225,0,0,1,1.86-6.294,10.039,10.039,0,0,1,9.921-3.6,9.148,9.148,0,0,1,7.679,6.182A17.525,17.525,0,0,1-48.262-316.215Zm-10.078-3.869a3.84,3.84,0,0,0-3.821,4,3.894,3.894,0,0,0,3.872,3.969,3.808,3.808,0,0,0,3.812-3.993A3.865,3.865,0,0,0-58.339-320.084Z\",\n  transform: \"translate(-110.59 -195.454)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M27.755-316.128c-.119,4.308-2.926,7.72-7.53,8.855-5.674,1.4-11.834-1.933-12.451-7.911a8.258,8.258,0,0,1,1.819-6.3,10.018,10.018,0,0,1,9.9-3.651,9.153,9.153,0,0,1,7.761,6.27A17.311,17.311,0,0,1,27.755-316.128Zm-10.022,4.014a3.808,3.808,0,0,0,3.809-4,3.866,3.866,0,0,0-3.867-3.972,3.842,3.842,0,0,0-3.819,4A3.9,3.9,0,0,0,17.733-312.114Z\",\n  transform: \"translate(-165.189 -195.455)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-116.77-322.405l-2.7,3.621c-2.068-.454-3.9-.9-5.76-1.225-.39-.067-.862.342-1.3.531.371.345.687.878,1.122,1,1.659.482,3.386.738,5.033,1.253,2.662.832,4.016,2.463,4.056,4.62a5.33,5.33,0,0,1-3.931,5.25,14.661,14.661,0,0,1-12.785-1.7,7.35,7.35,0,0,1-.718-.613l2.887-3.34c2.177.619,4.067,1.268,6.01,1.646.675.131,1.48-.409,2.226-.642a8.313,8.313,0,0,0-1.838-1.171c-1.6-.508-3.3-.726-4.874-1.3-1.949-.71-3.437-1.982-3.477-4.294a5.053,5.053,0,0,1,3.3-5.106C-125.134-325.588-120.906-325-116.77-322.405Z\",\n  transform: \"translate(-63.585 -195.785)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-23.021-369.079l-2.873-4.113-.315.077v5.838h-4.381v-13.039c1.384,0,2.737-.056,4.079.037a1.756,1.756,0,0,1,1.038.776c.828,1.171,1.585,2.392,2.486,3.771.807-1.235,1.568-2.238,2.15-3.337a2.266,2.266,0,0,1,2.374-1.28c3.19.063,3.191.018,3.191,3.18q0,4.153,0,8.306c0,.5-.045,1-.073,1.569h-4.458v-5.84l-.329-.111Z\",\n  transform: \"translate(-137.675 -155.923)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M61.058-375.16v-5.279h4.45v12.979c-1.173,0-2.29.059-3.4-.032A1.933,1.933,0,0,1,61-368.164c-1.454-1.642-2.862-3.324-4.588-5.346v5.977H51.92V-380.3a4.7,4.7,0,0,1,5.738,1.543q1.507,1.766,3.037,3.513C60.738-375.2,60.851-375.206,61.058-375.16Z\",\n  transform: \"translate(-196.933 -155.686)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-81.233-367.778c-3-.036-5.4-1.193-6.767-3.935a6.121,6.121,0,0,1,.77-6.984,7.31,7.31,0,0,1,7.532-2.657c4.176.845,6.308,3.677,5.912,7.688C-74.115-370.338-77.349-367.783-81.233-367.778Zm0-3.906a2.821,2.821,0,0,0,2.933-2.9,2.95,2.95,0,0,0-2.83-3.052,2.817,2.817,0,0,0-2.9,2.928A2.8,2.8,0,0,0-81.234-371.683Z\",\n  transform: \"translate(-95.903 -155.069)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M118.237-379.492l-2.427,2.859a19.4,19.4,0,0,0-1.937-.879,3.055,3.055,0,0,0-3.471.828,3.2,3.2,0,0,0-.507,3.663,3.114,3.114,0,0,0,3.066,1.824c1.186.027,1.79-.427,1.342-1.775l-2.09-.214v-2.441h6.565c0,1.819.036,3.631-.033,5.44a1.459,1.459,0,0,1-.719.924,9.591,9.591,0,0,1-9.277.57A6.16,6.16,0,0,1,105-374.364a6.39,6.39,0,0,1,3.182-6.024A8.609,8.609,0,0,1,118.237-379.492Z\",\n  transform: \"translate(-235.051 -155.02)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-123.944-378.071l-3.463,1.962c-2.246-1.787-3.459-1.939-4.606-.6a3.4,3.4,0,0,0,.2,4.372c1.217,1.116,2.777.8,4.391-.938l3.519,1.924c-1.286,2.757-4.475,4.122-7.922,3.457a6.788,6.788,0,0,1-5.537-6.391,6.8,6.8,0,0,1,4.914-6.887C-128.922-382.2-125.647-381.053-123.944-378.071Z\",\n  transform: \"translate(-60.981 -155.067)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.163-366.909H29.821v-12.913h4.342Z\",\n  transform: \"translate(-181.061 -156.302)\"\n}));\n\nvar SvgComingSoonIc = function SvgComingSoonIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 129.934,\n    height: 142.038,\n    viewBox: \"0 0 129.934 142.038\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgComingSoonIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/coming-soon-ic.556674d8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { forwardRef } from \"react\"\nimport { withRouter } from \"react-router-dom\"\n\nconst WithRouterLink = Component => {\n\tconst Decorated = props => {\n\t\tconst resolveToLocation = to => {\n\t\t\tconst path = typeof to === \"object\" ? to : { pathname: to }\n\t\t\tconst href = props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\tconst handleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = props\n\n\t\t\tif (onClick && typeof onClick === \"function\") {\n\t\t\t\tawait onClick()\n\t\t\t\tprops.history.push(to)\n\t\t\t} else {\n\t\t\t\tprops.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\tto,\n\t\t\tmatch,\n\t\t\tlocation,\n\t\t\thistory,\n\t\t\tstaticContext,\n\t\t\tonClick,\n\t\t\t...rest\n\t\t} = props\n\t\tconst toLocation = resolveToLocation(to)\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={forwardedRef}\n\t\t\t\t{...rest}\n\t\t\t\thref={toLocation}\n\t\t\t\tonClick={handleClick}\n\t\t\t/>\n\t\t)\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n\nexport default WithRouterLink\n","import React, { Fragment } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tButton,\n\tCircularProgress,\n\tTypography,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { ReactComponent as ComingSoonImg } from \"./../resources/coming-soon-ic.svg\"\nimport { CardRow } from \"./cardCommon\"\nimport Tooltip from \"./Tooltip\"\nimport WithRouterLink from \"./WithRouterLink\"\nimport { ReactComponent as StatsIcon } from \"./../resources/stats-ic.svg\"\nimport { useTranslation } from \"react-i18next\"\n\nconst ButtonWithLink = WithRouterLink(Button)\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 69,\n\t\t\theight: 69,\n\t\t\ttop: -theme.spacing(3),\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t\tboxShadow: theme.type === \"light\" ? theme.shadows[25] : 0,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: theme.palette.overlay\n\t\t},\n\t\tloading: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\ttop: 0,\n\t\t\tleft: 0\n\t\t},\n\t\tcomingSoon: {\n\t\t\twidth: 160,\n\t\t\theight: \"auto\"\n\t\t}\n\t}\n})\n\nexport default function PoolCard({\n\tid,\n\ticon,\n\tname,\n\ttotalStakedADX,\n\ttotalStakedUSD,\n\tcurrentAPY,\n\tweeklyYield,\n\tweeklyYieldInfo,\n\tonStakeBtnClick,\n\tloading,\n\tdisabled,\n\tdisabledInfo,\n\tlockupPeriodTitle,\n\tlockupPeriodInfo,\n\tlockupPeriod,\n\tloaded,\n\tactions,\n\tcomingSoon,\n\tactionBtn,\n\textraData = [],\n\tstatsPath\n}) {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\tbgcolor={\"background.card\"}\n\t\t\tp={3}\n\t\t\tmy={3}\n\t\t\tmx={1.5}\n\t\t\tpt={7}\n\t\t\twidth={270}\n\t\t\tmaxWidth=\"100%\"\n\t\t\tminHeight={420}\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tboxShadow={25}\n\t\t\tposition=\"relative\"\n\t\t>\n\t\t\t<Box mb={3}>\n\t\t\t\t<Typography align=\"center\" variant=\"h5\" color=\"textPrimary\">\n\t\t\t\t\t{name}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\n\t\t\t{comingSoon ? (\n\t\t\t\t<Box>\n\t\t\t\t\t<SvgIcon className={classes.comingSoon} color=\"primary\">\n\t\t\t\t\t\t<ComingSoonImg\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t// width={160}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</SvgIcon>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Box>\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"common.totalStaked\")}\n\t\t\t\t\t\t// infoText={t('common.totalStaked')}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"special.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\ttext={totalStakedADX}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={totalStakedADX}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={totalStakedUSD}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={totalStakedADX}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"pools.currentAPYLabel\")}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"special.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\ttext={currentAPY}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={currentAPY}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"pools.weeklyYield\", { yield: weeklyYield })}\n\t\t\t\t\t\tinfoText={weeklyYieldInfo}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={lockupPeriodTitle}\n\t\t\t\t\t\tinfoText={lockupPeriodInfo}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={lockupPeriod}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{extraData.map(data => (\n\t\t\t\t\t\t<Fragment key={data.id}>\n\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\ttext={data.title}\n\t\t\t\t\t\t\t\tinfoText={data.titleInfo}\n\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{data.importantValue && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"special.main\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\t\t\t\ttext={data.importantValue}\n\t\t\t\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t\t\t\tinfoText={data.valueInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{data.normalValue && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\ttext={data.normalValue}\n\t\t\t\t\t\t\t\t\tinfoText={data.valueInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\tmb={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{data.extra && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\ttext={data.extra}\n\t\t\t\t\t\t\t\t\tinfoText={data.extrInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\tmb={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))}\n\n\t\t\t\t\t{!!statsPath && (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<ButtonWithLink\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\tto={statsPath}\n\t\t\t\t\t\t\t\tstartIcon={\n\t\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"inherit\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t\t<StatsIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"common.poolStats\")}\n\t\t\t\t\t\t\t</ButtonWithLink>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Tooltip title={disabled ? disabledInfo : \"\"}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{actionBtn || (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tid={`stake-pool-${id}`}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tonClick={onStakeBtnClick}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"common.stake\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{!!loading && (\n\t\t\t\t<Box\n\t\t\t\t\tclasses={{ root: classes.overlay }}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<Typography align=\"center\" component=\"div\" variant=\"h3\"></Typography>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t{icon || null}\n\t\t\t\t{!!loading && (\n\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\tclasses={{ root: classes.loading }}\n\t\t\t\t\t\tsize={69}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"Path_1168\",\n  x: 11.521,\n  y: 113.598,\n  width: 145.899,\n  height: 118.003,\n  filterUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"feOffset\", {\n  dx: 10,\n  dy: 3,\n  input: \"SourceAlpha\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 3,\n  result: \"blur\"\n}), /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0.161\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  operator: \"in\",\n  in2: \"blur\"\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in: \"SourceGraphic\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"Path_1169\",\n  x: 9.921,\n  y: 115.427,\n  width: 145.901,\n  height: 118.003,\n  filterUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"feOffset\", {\n  dx: -10,\n  dy: 3,\n  input: \"SourceAlpha\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 3,\n  result: \"blur-2\"\n}), /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0.161\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  operator: \"in\",\n  in2: \"blur-2\"\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in: \"SourceGraphic\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"Path_1170\",\n  x: 0,\n  y: 144.227,\n  width: 163.528,\n  height: 94.837,\n  filterUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 3,\n  input: \"SourceAlpha\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 5,\n  result: \"blur-3\"\n}), /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0.161\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  operator: \"in\",\n  in2: \"blur-3\"\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in: \"SourceGraphic\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1695\",\n  \"data-name\": \"Group 1695\",\n  transform: \"translate(-96.002 -732)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1171\",\n  \"data-name\": \"Path 1171\",\n  d: \"M-6223.623-543.645c-54.988,33.69-83.644,70.09-51.5,92.163s70.089,52.664,96.034,30.592,22.459-46.081,45.307-60.022,42.209-67.767-6.583-75.511S-6223.623-543.645-6223.623-543.645Z\",\n  transform: \"translate(6443.376 1355.756)\",\n  fill: \"#fff\",\n  opacity: 0.1\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1658\",\n  \"data-name\": \"Group 1658\",\n  transform: \"matrix(0.995, 0.105, -0.105, 0.995, 122.426, 797.436)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1167\",\n  \"data-name\": \"Path 1167\",\n  d: \"M0,54.46,65.286.94a4.151,4.151,0,0,1,5.261,0l65.287,53.52L67.916,115.218Z\",\n  transform: \"translate(0)\",\n  fill: \"#484557\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1659\",\n  \"data-name\": \"Group 1659\",\n  transform: \"matrix(0.995, -0.105, 0.105, 0.995, 36.912, 56.043)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_85\",\n  \"data-name\": \"Ellipse 85\",\n  cx: 27.328,\n  cy: 27.328,\n  r: 27.328,\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 14.146, 0)\",\n  fill: \"#ff4269\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1659-2\",\n  \"data-name\": \"Group 1659\",\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 24.684, 16.757)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1155\",\n  \"data-name\": \"Path 1155\",\n  d: \"M12.571,9.964H1.053a1.034,1.034,0,0,1-.817-.32A.828.828,0,0,1,0,9.082c0-.876-.012-1.753.005-2.629A1.724,1.724,0,0,1,1.671,4.848c.491-.01.983-.005,1.475,0,.139,0,.177-.02.112-.167A3.332,3.332,0,0,1,8.619.942c.675.616,1.356,1.226,2.029,1.843.092.084.146.071.235,0a2.529,2.529,0,0,1,3.371-.011c.107.09.167.087.266,0C15.2,2.14,15.884,1.511,16.579.9A3.177,3.177,0,0,1,19.973.227a3.21,3.21,0,0,1,2.17,2.658,2.988,2.988,0,0,1-.235,1.754c-.093.2-.089.205.127.206.461,0,.92,0,1.381,0a1.725,1.725,0,0,1,1.731,1.712c.008.82.005,1.64,0,2.458a.93.93,0,0,1-.908.947c-.076,0-.151,0-.228,0ZM8.035,4.845H9.849c.058,0,.137.027.163-.055s-.04-.113-.087-.157Q8.6,3.436,7.28,2.237a1.369,1.369,0,0,0-.818-.358,1.486,1.486,0,1,0-.127,2.965C6.9,4.848,7.469,4.845,8.035,4.845Zm9.043,0h.812c.271,0,.542,0,.812,0a1.947,1.947,0,0,0,.375-.033A1.486,1.486,0,0,0,20.3,3.563a1.481,1.481,0,0,0-2.448-1.311c-.878.784-1.749,1.576-2.622,2.366-.05.045-.122.089-.094.169s.118.056.183.056C15.907,4.847,16.493,4.845,17.078,4.845Z\",\n  transform: \"translate(0 0)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1156\",\n  \"data-name\": \"Path 1156\",\n  d: \"M0,6.893V.293C0,0,0,0,.294,0h8.87c.3,0,.3,0,.3.308q0,5.742,0,11.481a1.99,1.99,0,0,1-.367,1.3,1.691,1.691,0,0,1-1.368.693c-2.5.009-5.005,0-7.508.008-.2,0-.22-.1-.22-.258Q.006,10.213,0,6.893Z\",\n  transform: \"translate(14.079 11.35)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1157\",\n  \"data-name\": \"Path 1157\",\n  d: \"M9.441,6.9v6.617c0,.272,0,.274-.274.274q-3.687,0-7.373,0A1.735,1.735,0,0,1,0,12Q0,6.137,0,.276C0,0,0,0,.268,0h8.9c.269,0,.269,0,.269.278Q9.443,3.587,9.441,6.9Z\",\n  transform: \"translate(1.629 11.35)\",\n  fill: \"#f7fafc\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.99, -0.1, 0.1, 0.99, -33.12, -62.32)\",\n  filter: \"url(#Path_1168)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1168-2\",\n  \"data-name\": \"Path 1168\",\n  d: \"M118.337,88.117H4.293A4.294,4.294,0,0,1,0,83.822V0Z\",\n  transform: \"matrix(0.99, 0.1, -0.1, 0.99, 20.73, 119.6)\",\n  fill: \"#7b7597\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.99, -0.1, 0.1, 0.99, -33.12, -62.32)\",\n  filter: \"url(#Path_1169)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1169-2\",\n  \"data-name\": \"Path 1169\",\n  d: \"M0,88.117H114.043a4.3,4.3,0,0,0,4.3-4.295V0Z\",\n  transform: \"matrix(0.99, 0.1, -0.1, 0.99, 38.13, 121.43)\",\n  fill: \"#7b7597\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.99, -0.1, 0.1, 0.99, -33.12, -62.32)\",\n  filter: \"url(#Path_1170)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1170-2\",\n  \"data-name\": \"Path 1170\",\n  d: \"M0,51.653,61.922.892a3.936,3.936,0,0,1,4.991,0l61.922,50.761Z\",\n  transform: \"matrix(0.99, 0.1, -0.1, 0.99, 20.4, 156.23)\",\n  fill: \"#908aac\"\n}))), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1172\",\n  \"data-name\": \"Path 1172\",\n  d: \"M1463.765,1907.449l.814,3.615a.6.6,0,0,0,.359.422l3.44,1.378a.6.6,0,0,1,.083,1.064l-3.187,1.892a.594.594,0,0,0-.29.471l-.247,3.7a.6.6,0,0,1-.987.407l-2.784-2.446a.594.594,0,0,0-.538-.13l-3.593.907a.6.6,0,0,1-.691-.812l1.465-3.4a.6.6,0,0,0-.042-.552l-1.973-3.137a.6.6,0,0,1,.559-.909l3.689.342a.594.594,0,0,0,.512-.211l2.374-2.846A.6.6,0,0,1,1463.765,1907.449Z\",\n  transform: \"translate(-1170.38 -1117.073)\",\n  fill: \"#ff4269\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1175\",\n  \"data-name\": \"Path 1175\",\n  d: \"M8.264.464l.814,3.615a.6.6,0,0,0,.359.422l3.44,1.378a.6.6,0,0,1,.083,1.064L9.774,8.835a.594.594,0,0,0-.29.471L9.236,13a.6.6,0,0,1-.987.407L5.466,10.966a.594.594,0,0,0-.538-.13l-3.593.907a.6.6,0,0,1-.691-.812l1.465-3.4a.6.6,0,0,0-.042-.552L.093,3.838a.6.6,0,0,1,.559-.909l3.689.342a.594.594,0,0,0,.512-.211L7.227.214A.6.6,0,0,1,8.264.464Z\",\n  transform: \"translate(182.053 753.689) rotate(-30)\",\n  fill: \"#feb006\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1176\",\n  \"data-name\": \"Path 1176\",\n  d: \"M5.525.31l.544,2.417a.4.4,0,0,0,.24.282l2.3.921a.4.4,0,0,1,.055.711L6.534,5.906a.4.4,0,0,0-.194.315L6.174,8.693a.4.4,0,0,1-.659.272L3.654,7.33a.4.4,0,0,0-.36-.087l-2.4.606A.4.4,0,0,1,.43,7.307l.979-2.275a.4.4,0,0,0-.028-.369L.062,2.565a.4.4,0,0,1,.374-.607L2.9,2.187a.4.4,0,0,0,.342-.141L4.831.143A.4.4,0,0,1,5.525.31Z\",\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 265.169, 867.102)\",\n  fill: \"#7b7597\",\n  opacity: 0.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_83\",\n  \"data-name\": \"Ellipse 83\",\n  cx: 5.385,\n  cy: 5.385,\n  r: 5.385,\n  transform: \"translate(322.44 849.846)\",\n  fill: \"#feb006\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_84\",\n  \"data-name\": \"Ellipse 84\",\n  cx: 3.199,\n  cy: 3.199,\n  r: 3.199,\n  transform: \"translate(206.571 782.074)\",\n  fill: \"#f7fafc\",\n  opacity: 0.4\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_86\",\n  \"data-name\": \"Ellipse 86\",\n  cx: 2.106,\n  cy: 2.106,\n  r: 2.106,\n  transform: \"translate(111.471 818.146)\",\n  fill: \"#7b7597\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1173\",\n  \"data-name\": \"Path 1173\",\n  d: \"M1154.925,1954.689c1.1.9,1.71,2.838,2.263,4.492a.435.435,0,0,0,.844-.075c.248-1.683.488-3.609,1.178-4.642.557-.833,2.384-1.588,4.018-2.05a.434.434,0,0,0-.042-.846,10.9,10.9,0,0,1-3.932-1.29c-1.169-.842-1.42-2.294-1.719-3.884a.436.436,0,0,0-.851-.021,11.73,11.73,0,0,1-1.556,3.762c-1.528,1.841-6.711,2.125-6.769,2.688C1148.231,1954.075,1153.578,1953.589,1154.925,1954.689Z\",\n  transform: \"translate(-1005.333 -1100.582)\",\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1174\",\n  \"data-name\": \"Path 1174\",\n  d: \"M7.648,10.07c1.276,1.043,1.991,3.3,2.635,5.23a.507.507,0,0,0,.982-.087c.288-1.96.568-4.2,1.371-5.4.649-.97,2.776-1.848,4.678-2.387a.506.506,0,0,0-.048-.985,12.691,12.691,0,0,1-4.578-1.5c-1.361-.98-1.654-2.671-2-4.522A.507.507,0,0,0,9.695.389a13.661,13.661,0,0,1-1.812,4.38C6.1,6.912.069,7.243,0,7.9-.146,9.356,6.079,8.79,7.648,10.07Z\",\n  transform: \"translate(265.799 732) rotate(90)\",\n  fill: \"#7b7597\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1660\",\n  \"data-name\": \"Group 1660\",\n  transform: \"translate(195.603 803.162)\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  id: \"Ellipse_85-2\",\n  \"data-name\": \"Ellipse 85\",\n  cx: 24.008,\n  cy: 24.008,\n  rx: 24.008,\n  ry: 24.008,\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 12.427, 0)\",\n  fill: \"#feb006\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1177\",\n  \"data-name\": \"Path 1177\",\n  d: \"M14.26.8l1.405,6.238a1.028,1.028,0,0,0,.62.728l5.936,2.378a1.027,1.027,0,0,1,.143,1.835l-5.5,3.265a1.025,1.025,0,0,0-.5.813l-.427,6.381a1.027,1.027,0,0,1-1.7.7l-4.8-4.219A1.024,1.024,0,0,0,8.5,18.7L2.3,20.263a1.026,1.026,0,0,1-1.193-1.4l2.528-5.873a1.028,1.028,0,0,0-.073-.953L.16,6.622a1.027,1.027,0,0,1,.965-1.569l6.366.591a1.025,1.025,0,0,0,.883-.364L12.47.37A1.027,1.027,0,0,1,14.26.8Z\",\n  transform: \"translate(217.999 817.965) rotate(19)\",\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1663\",\n  \"data-name\": \"Group 1663\",\n  transform: \"translate(111.062 762.668) rotate(-11)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1661\",\n  \"data-name\": \"Group 1661\",\n  transform: \"translate(0 32.952) rotate(-45)\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  id: \"Ellipse_85-3\",\n  \"data-name\": \"Ellipse 85\",\n  cx: 19.025,\n  cy: 19.025,\n  rx: 19.025,\n  ry: 19.025,\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 9.848, 0)\",\n  fill: \"#ff4269\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1662\",\n  \"data-name\": \"Group 1662\",\n  transform: \"translate(23.949 23.666)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1155-2\",\n  \"data-name\": \"Path 1155\",\n  d: \"M8.922,7.072H.747a.734.734,0,0,1-.58-.227A.588.588,0,0,1,0,6.446C0,5.824-.005,5.2.006,4.58a1.224,1.224,0,0,1,1.18-1.139c.349-.007.7,0,1.047,0,.1,0,.126-.014.08-.118A2.365,2.365,0,0,1,6.117.669c.479.437.962.87,1.44,1.308.065.06.1.051.167,0a1.8,1.8,0,0,1,2.392-.008c.076.064.118.061.189,0,.485-.445.968-.891,1.461-1.326A2.255,2.255,0,0,1,14.176.161a2.278,2.278,0,0,1,1.54,1.886,2.121,2.121,0,0,1-.167,1.245c-.066.144-.063.145.09.146.327,0,.653,0,.98,0a1.224,1.224,0,0,1,1.229,1.215c.005.582,0,1.164,0,1.745a.66.66,0,0,1-.644.672c-.054,0-.108,0-.162,0ZM5.7,3.439H6.99c.042,0,.1.019.116-.039s-.028-.08-.061-.111q-.938-.85-1.877-1.7a.971.971,0,0,0-.58-.254,1.055,1.055,0,1,0-.09,2.1C4.9,3.441,5.3,3.439,5.7,3.439Zm6.418,0h1.153a1.389,1.389,0,0,0,.267-.024,1.055,1.055,0,0,0,.869-.886A1.051,1.051,0,0,0,12.672,1.6c-.623.557-1.241,1.119-1.861,1.68-.035.032-.087.063-.067.12s.084.04.13.04C11.29,3.44,11.705,3.439,12.121,3.439Z\",\n  transform: \"translate(0 0)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1156-2\",\n  \"data-name\": \"Path 1156\",\n  d: \"M0,4.892V.208C0,0,0,0,.209,0H6.5c.212,0,.212,0,.212.219q0,4.075,0,8.149a1.413,1.413,0,0,1-.26.923,1.2,1.2,0,0,1-.971.491c-1.776.006-3.552,0-5.329.005C.012,9.788,0,9.718,0,9.6Q0,7.249,0,4.892Z\",\n  transform: \"translate(9.993 8.056)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1157-2\",\n  \"data-name\": \"Path 1157\",\n  d: \"M6.7,4.894v4.7c0,.193,0,.194-.194.194H1.274A1.232,1.232,0,0,1,0,8.516Q0,4.356,0,.2C0,0,0,0,.19,0H6.51C6.7,0,6.7,0,6.7.2Q6.7,2.546,6.7,4.894Z\",\n  transform: \"translate(1.156 8.056)\",\n  fill: \"#f7fafc\"\n}))));\n\nvar SvgMailAwards = function SvgMailAwards(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 237.372,\n    height: 239.064,\n    viewBox: \"0 0 237.372 239.064\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMailAwards, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/mail-awards.a438812f.svg\";\nexport { ForwardRef as ReactComponent };","export const validateEmail = email => {\n\t// eslint-disable-next-line no-useless-escape\n\tconst re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\treturn re.test(String(email).toLowerCase())\n}\n","import { stringify } from \"query-string\"\n\nconst MAUTIC_BASE_URL = `https://mautic.adex.net`\n\nexport const submitFormToMautic = async ({\n\temail,\n\tformId,\n\treturnValue,\n\tformName,\n\tmessenger\n}) => {\n\tconst data = stringify({\n\t\t\"mauticform[email]\": email,\n\t\t\"mauticform[formId]\": formId || \"\",\n\t\t\"mauticform[return]\": returnValue || \"\",\n\t\t\"mauticform[formName]\": formName || \"\",\n\t\t\"mauticform[messenger]\": messenger || true\n\t})\n\tconst response = await fetch(\n\t\t`${MAUTIC_BASE_URL}/form/submit?formId=${formId}`,\n\t\t{\n\t\t\tmethod: \"POST\",\n\t\t\tbody: data,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n\t\t\t\t\"X-Requested-With\": \"XMLHttpRequest\"\n\t\t\t}\n\t\t}\n\t)\n\tconst utf8Decoder = new TextDecoder(\"utf-8\")\n\tconst reader = response.body.getReader()\n\tlet { value: mauticDataResponse } = await reader.read()\n\tmauticDataResponse = mauticDataResponse\n\t\t? utf8Decoder.decode(mauticDataResponse)\n\t\t: \"\"\n\treturn mauticDataResponse\n}\n\nexport const extractJSONResponseFromHTML = async mauticDataResponse => {\n\tconst regex = /parent.postMessage\\(\"(.+)\".+\\)/gm\n\tconst matches = regex.exec(mauticDataResponse)\n\tif (matches && matches.length >= 1) {\n\t\tconst message = matches[1]\n\t\tlet messageCopy = message\n\t\tconst asciiRegex = /\\\\.../gm\n\t\tlet m\n\t\twhile ((m = asciiRegex.exec(message)) !== null) {\n\t\t\t// This is necessary to avoid infinite loops with zero-width matches\n\t\t\tif (m.index === asciiRegex.lastIndex) {\n\t\t\t\tasciiRegex.lastIndex++\n\t\t\t}\n\n\t\t\t// The result can be accessed through the `m`-variable.\n\t\t\t/*eslint no-loop-func: \"off\"*/\n\t\t\tm.forEach((match, groupIndex) => {\n\t\t\t\tconst decoded = String.fromCharCode(match.replace(\"\\\\\", 0))\n\t\t\t\tmessageCopy = messageCopy.split(match).join(decoded)\n\t\t\t})\n\t\t}\n\t\t// not able to JSON parse directly so I had to do this above \n\t\treturn JSON.parse(messageCopy)\n\t} else {\n\t\tconsole.warn(`No matches found:`, mauticDataResponse)\n\t\treturn {}\n\t}\n}\n","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tButton,\n\tCheckbox,\n\tFormGroup,\n\tFormControl,\n\tFormControlLabel,\n\tTextField\n} from \"@material-ui/core\"\nimport { CardRow } from \"./cardCommon\"\n// import { ExternalAnchor } from \"./Anchor\"\nimport { ReactComponent as EmailAwardsIcon } from \"./../resources/mail-awards.svg\"\nimport { validateEmail } from \"./../helpers/validation\"\nimport {\n\textractJSONResponseFromHTML,\n\tsubmitFormToMautic\n} from \"../mauticActions\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 160,\n\t\t\theight: 160,\n\t\t\ttop: -theme.spacing(4),\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: theme.palette.background.default,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\tbold: {\n\t\t\tfontWeight: 800\n\t\t},\n\t\tsingUp: {\n\t\t\tbackgroundColor: theme.palette.text.main,\n\t\t\tborderRadius: 20\n\t\t},\n\t\tgdprCheckbox: ({ errors }) => ({\n\t\t\tfontSize: 10,\n\t\t\tcolor: errors.gdpr ? theme.palette.error.main : theme.palette.text.main\n\t\t}),\n\t\ttosCheckbox: ({ errors }) => ({\n\t\t\tfontSize: 10,\n\t\t\tcolor: errors.tos ? theme.palette.error.main : theme.palette.text.main\n\t\t})\n\t}\n})\n\nexport default function EmailSignUp(props) {\n\tconst { t } = useTranslation()\n\n\tconst [email, setEmail] = useState(\"\")\n\tconst [mauticState, setMauticState] = useState({})\n\tconst [waiting, setWaiting] = useState(false)\n\tconst [gdpr, setGDPR] = useState(false)\n\t// const [tos, setTos] = useState(false)\n\tconst [errors, setErrors] = useState({\n\t\temail: false,\n\t\tgdpr: false\n\t\t// tos: false\n\t})\n\tconst classes = useStyles({ errors })\n\n\tuseEffect(() => {\n\t\t// console.log(email, gdpr, errors)\n\t}, [email, gdpr, errors])\n\n\tconst handleValidationErrors = () => {\n\t\tsetErrors({\n\t\t\temail: !validateEmail(email),\n\t\t\tgdpr: !gdpr\n\t\t\t// tos: !tos\n\t\t})\n\t}\n\n\tconst handleSubmit = async () => {\n\t\thandleValidationErrors()\n\t\tif (\n\t\t\tvalidateEmail(email) &&\n\t\t\tgdpr\n\t\t\t// && tos\n\t\t) {\n\t\t\tsetWaiting(true)\n\t\t\ttry {\n\t\t\t\tconst HTMLResponse = await submitFormToMautic({ ...props, email })\n\t\t\t\tconst jsonResponse = await extractJSONResponseFromHTML(HTMLResponse)\n\t\t\t\tsetMauticState({\n\t\t\t\t\t...jsonResponse\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\t// If cors is not enabled for address\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tbgcolor={\"background.card\"}\n\t\t\tp={3}\n\t\t\tmy={3}\n\t\t\tmx={1.5}\n\t\t\tpt={15}\n\t\t\twidth={270}\n\t\t\tmaxWidth=\"100%\"\n\t\t\tminHeight={420}\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tboxShadow={25}\n\t\t\tposition=\"relative\"\n\t\t>\n\t\t\t{/* Used for debugging mautic responses */}\n\t\t\t{/* <Box>{JSON.stringify(mauticState)}</Box> */}\n\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t<EmailAwardsIcon />\n\t\t\t</Box>\n\t\t\t{mauticState.success ? (\n\t\t\t\t<CardRow\n\t\t\t\t\tmt={3}\n\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\tfontSize={16}\n\t\t\t\t\ttext={mauticState.successMessage}\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\theight={1}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tmt={3}\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={16}\n\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\ti18nKey=\"email.subscribe\"\n\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\tstrong: (\n\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\tdisplay=\"inline\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"special.main\"\n\t\t\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"h5.fontSize\"\n\t\t\t\t\t\t\t\t\t\t></Box>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Box width={1} mt={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid={\"email-signup-email-input\"}\n\t\t\t\t\t\t\tlabel={t(\"email.email\")}\n\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonBlur={e =>\n\t\t\t\t\t\t\t\tsetErrors({ ...errors, email: !validateEmail(e.target.value) })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrors.email ? t(\"email.validEmail\") : t(\"email.bestEmail\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errors.email}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mt={1} width={1}>\n\t\t\t\t\t\t<FormControl error={errors.gdpr}>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tid={\"email-signup-gdpr-checkbox\"}\n\t\t\t\t\t\t\t\t\tonChange={e => setGDPR(e.target.checked)}\n\t\t\t\t\t\t\t\t\tname=\"gdpr\"\n\t\t\t\t\t\t\t\t\tclasses={{ label: classes.gdprCheckbox }}\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox size=\"small\" name=\"checkedA\" />}\n\t\t\t\t\t\t\t\t\tlabel={t(\"email.gdprLabel\")}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{/* <Box mt={1} width={1}>\n\t\t\t\t\t\t\t<FormControl error={errors.tos}>\n\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tid={\"email-signup-tos-checkbox\"}\n\t\t\t\t\t\t\t\t\t\tonChange={e => setTos(e.target.checked)}\n\t\t\t\t\t\t\t\t\t\tname=\"tos\"\n\t\t\t\t\t\t\t\t\t\tclasses={{ label: classes.tosCheckbox }}\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox size=\"small\" name=\"checkedA\" />}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\t\t\t\ti18nKey=\"email.promotionTerms\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texternalLink: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"email-signup-tos-check\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`https://www.adex.network/blog/subscribe-and-win-5000-adx/`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box> */}\n\t\t\t\t\t<Box width={1} mt={2} display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tid={`sign-up-email`}\n\t\t\t\t\t\t\tdisabled={waiting}\n\t\t\t\t\t\t\tclassName={classes.singUp}\n\t\t\t\t\t\t\tonClick={() => handleSubmit()}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{waiting ? t(\"email.submitting\") : t(\"email.submitBtnLabel\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n","import React, { useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport {\n\tBox,\n\tGrid,\n\tSvgIcon,\n\tTypography,\n\tuseMediaQuery\n} from \"@material-ui/core\"\nimport PoolCard from \"./PoolCard\"\nimport { formatADXPretty, getADXInUSDFormatted } from \"../helpers/formatting\"\nimport { ReactComponent as TomIcon } from \"./../resources/tom-ic.svg\"\nimport { ReactComponent as LoyaltyIcon } from \"./../resources/loyalty-ic.svg\"\nimport SectionHeader from \"./SectionHeader\"\nimport { UNBOND_DAYS, POOLS, DEPOSIT_POOLS } from \"../helpers/constants\"\nimport StarsIcon from \"@material-ui/icons/Stars\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\nimport EmailSignUp from \"./EmailSignUpCard\"\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\"\nimport Anchor from \"components/Anchor\"\nimport { useTranslation } from \"react-i18next\"\nimport { DEPOSIT_ACTION_TYPES } from \"../actions\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst DepositsDialog = WithDialog(DepositForm)\nconst TOM_LEGACY_POOL = POOLS[0]\nconst TOM_V5_POOL = DEPOSIT_POOLS[1]\nconst LOYALTY_POOL = DEPOSIT_POOLS[0]\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tfontSizeSmall: {\n\t\t\tfontSize: 12\n\t\t},\n\t\ttextWhite: {\n\t\t\tcolor: \"white\"\n\t\t}\n\t}\n})\n\nconst Pools = () => {\n\tconst classes = useStyles()\n\tconst { t } = useTranslation()\n\tconst {\n\t\tstats,\n\t\tsetNewBondOpen,\n\t\tchosenWalletType,\n\t\tprices,\n\t\tsetNewBondPool\n\t} = useContext(AppContext)\n\tconst { loyaltyPoolStats, tomPoolStats, tomStakingV5PoolStats } = stats\n\n\tconst canStake = !!chosenWalletType.name && !!stats.connectedWalletAddress\n\t// const tomAPY = tomPoolStats.totalAPY * 100\n\tconst tomV5APY = tomStakingV5PoolStats.currentAPY * 100\n\tconst justifyCenter = useMediaQuery(theme => theme.breakpoints.down(\"xs\"))\n\n\tconst loyaltyPoolAPY = loyaltyPoolStats.currentAPY * 100\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader title={t(\"common.pools\")} />\n\t\t\t<Box mt={4}>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflex={1}\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t\tjustifyContent={justifyCenter ? \"center\" : \"flex-start\"}\n\t\t\t\t>\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tid=\"validator-tom-v5\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<TomIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={t(\"common.tomV5\")}\n\t\t\t\t\t\ttotalStakedADX={`${formatADXPretty(\n\t\t\t\t\t\t\ttomStakingV5PoolStats.poolTotalStaked\n\t\t\t\t\t\t)} ADX`}\n\t\t\t\t\t\ttotalStakedUSD={`${getADXInUSDFormatted(\n\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\ttomStakingV5PoolStats.poolTotalStaked\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcurrentAPY={`${tomV5APY.toFixed(2)} %`}\n\t\t\t\t\t\tweeklyYield={`${(tomV5APY / (365 / 7)).toFixed(4)} %`}\n\t\t\t\t\t\tweeklyYieldInfo={[\n\t\t\t\t\t\t\tt(\"pools.currentDailyYield\", {\n\t\t\t\t\t\t\t\tyield: (tomV5APY / 365).toFixed(4)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tloading={!tomStakingV5PoolStats.loaded}\n\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\tdisabledInfo={t(\"pools.connectWalletToStake\")}\n\t\t\t\t\t\tlockupPeriodTitle={t(\"common.unbondPeriod\")}\n\t\t\t\t\t\tlockupPeriodInfo={t(\"pools.lockupPeriodInfo\", {\n\t\t\t\t\t\t\tcount: TOM_V5_POOL.lockupPeriod\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tlockupPeriod={t(\"pools.unbondPeriodDay\", {\n\t\t\t\t\t\t\tcount: TOM_V5_POOL.lockupPeriod\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstatsPath={`/stats?validator=${t(TOM_V5_POOL.label)}`}\n\t\t\t\t\t\tactionBtn={\n\t\t\t\t\t\t\t<DepositsDialog\n\t\t\t\t\t\t\t\tid=\"staking-pool-tom-deposit-form-card\"\n\t\t\t\t\t\t\t\ttitle={t(\"deposits.depositTo\", {\n\t\t\t\t\t\t\t\t\tpool: t(\"common.tomStakingPool\")\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tbtnLabel={t(\"common.deposit\")}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\t\t\t// tooltipTitle={disabledDepositsMsg}\n\t\t\t\t\t\t\t\tdepositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\t\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.deposit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tid=\"loyalty-pool\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<LoyaltyIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={t(\"common.loPo\")}\n\t\t\t\t\t\ttotalStakedADX={`${formatADXPretty(\n\t\t\t\t\t\t\tloyaltyPoolStats.poolTotalStaked\n\t\t\t\t\t\t)} ADX`}\n\t\t\t\t\t\ttotalStakedUSD={`${getADXInUSDFormatted(\n\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\tloyaltyPoolStats.poolTotalStaked\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcurrentAPY={`${loyaltyPoolAPY.toFixed(2)} %`}\n\t\t\t\t\t\tweeklyYield={`${(loyaltyPoolAPY / (365 / 7)).toFixed(4)} %`}\n\t\t\t\t\t\tweeklyYieldInfo={[\n\t\t\t\t\t\t\tt(\"pools.currentDailyYield\", {\n\t\t\t\t\t\t\t\tyield: (loyaltyPoolAPY / 365).toFixed(4)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tloading={!loyaltyPoolStats.loaded}\n\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\tdisabledInfo={t(\"pools.connectWalletToDeposit\")}\n\t\t\t\t\t\tlockupPeriodTitle={t(\"common.unbondPeriod\")}\n\t\t\t\t\t\tlockupPeriodInfo={t(\"common.noUnbondPeriod\")}\n\t\t\t\t\t\tlockupPeriod={t(\"common.noUnbondPeriod\")}\n\t\t\t\t\t\textraData={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: \"loyalty-pool-deposits-limit\",\n\t\t\t\t\t\t\t\ttitle: t(\"pools.totalDepositsLimit\"),\n\t\t\t\t\t\t\t\ttitleInfo: \"\",\n\t\t\t\t\t\t\t\tnormalValue: \"30 000 000 ADX\",\n\t\t\t\t\t\t\t\timportantValue: \"\",\n\t\t\t\t\t\t\t\tvalueInfo: \"\",\n\t\t\t\t\t\t\t\textra: \"\",\n\t\t\t\t\t\t\t\textrInfo: \"\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tactionBtn={\n\t\t\t\t\t\t\t<DepositsDialog\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"loyalty-pool-deposit-form-card\"\n\t\t\t\t\t\t\t\ttitle={t(\"common.addNewDeposit\")}\n\t\t\t\t\t\t\t\tbtnLabel={t(\"common.deposit\")}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\t\t\tdepositPool={LOYALTY_POOL.id}\n\t\t\t\t\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.deposit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// comingSoon\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tid=\"validator-tom\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<TomIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={t(\"common.tom\")}\n\t\t\t\t\t\ttotalStakedADX=\"-\"\n\t\t\t\t\t\t// totalStakedADX={`${formatADXPretty(\n\t\t\t\t\t\t// \t// tomPoolStats.totalCurrentTotalActiveStake\n\t\t\t\t\t\t// \ttomPoolStats.totalStake\n\t\t\t\t\t\t// )} ADX`}\n\t\t\t\t\t\ttotalStakedUSD=\"-\"\n\t\t\t\t\t\t// totalStakedUSD={`${getADXInUSDFormatted(\n\t\t\t\t\t\t// \tprices,\n\t\t\t\t\t\t// \t// tomPoolStats.totalCurrentTotalActiveStake\n\t\t\t\t\t\t// \ttomPoolStats.totalStake\n\t\t\t\t\t\t// )}`}\n\t\t\t\t\t\tcurrentAPY=\"-\"\n\t\t\t\t\t\t// currentAPY={`${tomAPY.toFixed(2)} %`}\n\t\t\t\t\t\tweeklyYield=\"-\"\n\t\t\t\t\t\t// weeklyYield={`${(tomAPY / (365 / 7)).toFixed(4)} %`}\n\t\t\t\t\t\tweeklyYieldInfo=\"-\"\n\t\t\t\t\t\t// weeklyYieldInfo={[\n\t\t\t\t\t\t// \tt(\"pools.currentDailyYield\", {\n\t\t\t\t\t\t// \t\tyield: (tomAPY / 365).toFixed(4)\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// ]}\n\t\t\t\t\t\tonStakeBtnClick={() => {\n\t\t\t\t\t\t\tsetNewBondPool(TOM_LEGACY_POOL.id)\n\t\t\t\t\t\t\tsetNewBondOpen(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tloading={!tomPoolStats.loaded}\n\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\tdisabledInfo={t(\"pools.tomLegacyPoolDisabledInfo\")}\n\t\t\t\t\t\tlockupPeriodTitle={t(\"common.unbondPeriod\")}\n\t\t\t\t\t\tlockupPeriodInfo={t(\"pools.lockupPeriodInfo\", {\n\t\t\t\t\t\t\tcount: UNBOND_DAYS\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tlockupPeriod={t(\"pools.unbondPeriodDay\", { count: UNBOND_DAYS })}\n\t\t\t\t\t\tstatsPath={`/stats?validator=${t(TOM_LEGACY_POOL.label)}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* <PoolCard\n\t\t\t\t\t\tid=\"liquidity-pool\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<LiquidityIcon />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={t(\"common.liPo\")}\n\t\t\t\t\t\tloading={!stats.loaded}\n\t\t\t\t\t\tcomingSoon\n\t\t\t\t\t/> */}\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tbgcolor={\"background.card\"}\n\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\tmy={3}\n\t\t\t\t\t\t\tmx={1.5}\n\t\t\t\t\t\t\twidth={270}\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\tboxShadow={25}\n\t\t\t\t\t\t\tposition=\"relative\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t\t\t\t<StarsIcon color=\"secondary\" />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={10}>\n\t\t\t\t\t\t\t\t\t<Typography align=\"left\" variant=\"h5\" color=\"textPrimary\">\n\t\t\t\t\t\t\t\t\t\t<strong>{t(\"email.newToStaking\")}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" variant=\"body1\" color=\"secondary\">\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://help.adex.network/hc/en-us/articles/360019465979-New-to-staking-A-summary-of-all-you-need-to-know\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{t(\"email.learnMore\")}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<ArrowForwardIosIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSizeSmall: classes.fontSizeSmall\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<EmailSignUp formId={2} formName=\"stakingportalleads\" />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Pools\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","import React, { useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { fade } from \"@material-ui/core/styles/colorManipulator\"\nimport {\n\tSvgIcon,\n\tBox,\n\tModal,\n\tFade,\n\tBackdrop,\n\tTypography,\n\tButton\n} from \"@material-ui/core\"\nimport { CardRow } from \"./cardCommon\"\nimport { ReactComponent as AdExIcon } from \"./../resources/adex-logo-clean.svg\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport AppContext from \"../AppContext\"\nimport { ZERO } from \"../helpers/constants\"\nimport { DEPOSIT_POOLS } from \"../helpers/constants\"\nimport { DEPOSIT_ACTION_TYPES } from \"../actions\"\n\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage\n} from \"../helpers/localStorage\"\n\nimport { useTranslation } from \"react-i18next\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\n\nconst DepositsDialog = WithDialog(DepositForm)\n\nconst HIDE_FOR = 10 * 24 * 60 * 60 * 1000 // 10 day\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBoxBack: {\n\t\t\tborderRadius: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 92,\n\t\t\theight: 92,\n\t\t\ttop: -46,\n\t\t\tleft: \"calc(50% - 46px)\",\n\t\t\tbackground: `linear-gradient(69deg, ${fade(\n\t\t\t\ttheme.palette.lightGrey.main,\n\t\t\t\t0.69\n\t\t\t)} 0%, ${fade(theme.palette.common.white, 0.69)} 100%)`,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\twidth: 82,\n\t\t\theight: 82,\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.background.default,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\ttop: {\n\t\t\tbackground: `radial-gradient(\n                ellipse at bottom,\n                ${theme.palette.background.special} 0%,\n                ${theme.palette.common.black} 110%\n            )`\n\t\t},\n\t\tbottom: {\n\t\t\tposition: \"relative\",\n\t\t\tbackground: theme.palette.common.white,\n\t\t\tborderTopLeftRadius: \"100%\",\n\t\t\tborderTopRightRadius: \"100%\",\n\t\t\twidth: \"142%\",\n\t\t\tmarginLeft: \"-21%\",\n\t\t\tmarginTop: -90,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: 69 + theme.spacing(3),\n\t\t\tpaddingLeft: `calc(21% + ${theme.spacing(3)}px)`,\n\t\t\tpaddingRight: `calc(21% + ${theme.spacing(3)}px)`\n\t\t},\n\t\tmodal: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t}\n\t}\n})\n\nconst StakeNowPopup = () => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst [open, setOpen] = useState(false)\n\n\tconst { stats, account, legacySwapOpen, legacySwapInPrg } = useContext(\n\t\tAppContext\n\t)\n\n\tconst { userBalance } = stats\n\n\tuseEffect(() => {\n\t\tif (!legacySwapInPrg && !legacySwapOpen) {\n\t\t\tconst hasADX = userBalance.gt(ZERO)\n\t\t\tconst lastPopUP = loadFromLocalStorage(`stake-popup-last-pop-${account}`)\n\t\t\tconst showSinceLast = !lastPopUP || Date.now() - lastPopUP > HIDE_FOR\n\n\t\t\tif (hasADX && showSinceLast) {\n\t\t\t\tsetOpen(true)\n\t\t\t\tsaveToLocalStorage(Date.now(), `stake-popup-last-pop-${account}`)\n\t\t\t}\n\t\t}\n\t}, [legacySwapOpen, legacySwapInPrg, account, userBalance])\n\n\treturn (\n\t\t<Box>\n\t\t\t<Modal\n\t\t\t\topen={open}\n\t\t\t\tonClose={() => setOpen(false)}\n\t\t\t\tclassName={classes.modal}\n\t\t\t\tcloseAfterTransition\n\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\ttimeout: 300\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Fade in={open}>\n\t\t\t\t\t<Box overflow=\"hidden\" width={420} maxWidth={\"100%\"} m={1}>\n\t\t\t\t\t\t<Box height={200} classes={{ root: classes.top }}></Box>\n\t\t\t\t\t\t<Box classes={{ root: classes.bottom }}>\n\t\t\t\t\t\t\t<Box classes={{ root: classes.iconBoxBack }}>\n\t\t\t\t\t\t\t\t<Box classes={{ root: classes.iconBox }} fontSize={50}>\n\t\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"inherit\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t\t<AdExIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"popups.congratulations\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"popups.proudOwnerOfADX\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\t\ttext={t(\"common.currencyBalance\", { currency: \"ADX\" })}\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\t\t\t\t\tfontSize={27}\n\t\t\t\t\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\t\t\t\t\tstats.userBalance\n\t\t\t\t\t\t\t\t\t\t\t\t? formatADXPretty(userBalance) + \" ADX\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t<Box my={1}>\n\t\t\t\t\t\t\t\t\t<DepositsDialog\n\t\t\t\t\t\t\t\t\t\tid={`stake-popup-stake-btn`}\n\t\t\t\t\t\t\t\t\t\ttitle={t(\"deposits.depositTo\", {\n\t\t\t\t\t\t\t\t\t\t\tpool: t(\"common.tomStakingPool\")\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\tbtnLabel={t(\"bonds.stakeADX\")}\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"extended\"\n\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttooltipTitle={t(\"common.connectWallet\")}\n\t\t\t\t\t\t\t\t\t\tdepositPool={DEPOSIT_POOLS[1].id}\n\t\t\t\t\t\t\t\t\t\tactionType={DEPOSIT_ACTION_TYPES.deposit}\n\t\t\t\t\t\t\t\t\t\tonCloseDialog={() => setOpen(false)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t<Box my={1}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tid={`stake-popup-close-btn`}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"common.goBack\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Fade>\n\t\t\t</Modal>\n\t\t</Box>\n\t)\n}\n\nexport default StakeNowPopup\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"linear-gradient\",\n  x1: 0.282,\n  y1: 0.147,\n  x2: 0.839,\n  y2: 1.048,\n  gradientUnits: \"objectBoundingBox\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#dfdfdf\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#e5e5e5\",\n  stopOpacity: 0.49\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1759\",\n  \"data-name\": \"Group 1759\",\n  transform: \"translate(-862.982 -236)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1749\",\n  \"data-name\": \"Group 1749\",\n  transform: \"translate(0 8)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1401\",\n  \"data-name\": \"Path 1401\",\n  d: \"M79.108,18a12,12,0,0,1,20.784,0L165.75,132.5a12,12,0,0,1-10.392,18H24a12,12,0,0,1-10.392-18Z\",\n  transform: \"translate(851 218)\",\n  fill: \"url(#linear-gradient)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Polygon_1\",\n  \"data-name\": \"Polygon 1\",\n  d: \"M70.562,12.086a8,8,0,0,1,13.876,0l63.683,110.931A8,8,0,0,1,141.183,135H13.817a8,8,0,0,1-6.938-11.983Z\",\n  transform: \"translate(863 228)\",\n  fill: \"#feb006\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1402\",\n  \"data-name\": \"Path 1402\",\n  d: \"M-493.88,1030.708h-15.525v-3.573h-16.585c.123.108.211.185.3.261q2.034,1.74,4.07,3.478c.126.107.132.183.021.311q-1.076,1.242-2.137,2.5c-.118.14-.185.165-.337.032q-1.71-1.49-3.436-2.962-3.145-2.7-6.3-5.388c-.131-.112-.118-.166,0-.268.5-.43,1-.867,1.5-1.3q2.243-1.965,4.485-3.931,1.842-1.611,3.689-3.217c.222-.194.238-.194.438.041q.976,1.149,1.956,2.294a.421.421,0,0,1-.046.594c-1.47,1.259-2.942,2.517-4.468,3.821h16.842v-9.761a3.837,3.837,0,0,0-3.837-3.837h-25.048a3.837,3.837,0,0,0-3.837,3.837v25.048a3.837,3.837,0,0,0,3.837,3.837h15.525v3.566H-506.1c-1.525-1.3-3-2.561-4.467-3.82a.422.422,0,0,1-.046-.594q.981-1.145,1.956-2.294c.2-.234.216-.234.438-.041q1.843,1.61,3.689,3.217,2.245,1.963,4.485,3.931c.5.437,1,.874,1.5,1.3.12.1.134.156,0,.268q-3.152,2.689-6.3,5.388-1.722,1.477-3.436,2.962c-.152.133-.219.108-.337-.032q-1.06-1.256-2.137-2.5c-.111-.128-.1-.2.021-.311q2.038-1.736,4.07-3.478c.089-.076.177-.154.3-.261h-16.4v9.768a3.837,3.837,0,0,0,3.837,3.837h25.048a3.837,3.837,0,0,0,3.837-3.837v-25.048A3.837,3.837,0,0,0-493.88,1030.708Z\",\n  transform: \"translate(1459.085 -718.444)\",\n  fill: \"#8b6002\"\n}));\n\nvar SvgMigrationIc = function SvgMigrationIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 155.394,\n    height: 140.5,\n    viewBox: \"0 0 155.394 140.5\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMigrationIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/migration-ic.7d63e541.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\"\nimport { Button, Fab } from \"@material-ui/core\"\n\nimport WithRouterLink from \"./WithRouterLink\"\nimport { useTranslation } from \"react-i18next\"\nimport WithDialog from \"./WithDialog\"\nimport MigrationForm from \"./MigrationForm\"\nimport AppContext from \"../AppContext\"\nimport { ZERO } from \"../helpers/constants\"\nimport { getPool } from \"../helpers/bonds\"\n\nconst MigrationDialog = WithDialog(MigrationForm)\n\nconst RRButton = WithRouterLink(Button)\nconst RRFab = WithRouterLink(Fab)\n\nexport default function MigrationBtn({ onBeforeOpen, fabButton, color, size }) {\n\tconst { t } = useTranslation()\n\tconst { stats } = useContext(AppContext)\n\n\tconst {\n\t\thasToMigrate,\n\t\tbondToMigrate,\n\t\tisWithdrawMigration\n\t} = stats.tomBondsMigrationData\n\n\tif (!hasToMigrate) {\n\t\treturn null\n\t}\n\n\tconst ButtonComponent = fabButton ? RRFab : RRButton\n\n\tif (hasToMigrate && !bondToMigrate) {\n\t\treturn (\n\t\t\t<ButtonComponent\n\t\t\t\tonClick={onBeforeOpen}\n\t\t\t\tto={{ pathname: \"/stakings\" }}\n\t\t\t\tcolor={color || \"primary\"}\n\t\t\t\tsize={size || \"small\"}\n\t\t\t\tvariant={fabButton ? \"extended\" : \"contained\"}\n\t\t\t>\n\t\t\t\t{t(\"rewards.migrateYourBondsIfYouWandMigrate\")}\n\t\t\t</ButtonComponent>\n\t\t)\n\t}\n\n\tif (bondToMigrate) {\n\t\tconst pool = getPool(bondToMigrate.poolId)\n\t\tconst poolLabel = pool ? pool.label : bondToMigrate.poolId\n\t\tconst created = new Date(\n\t\t\t(bondToMigrate.nonce.gt(ZERO)\n\t\t\t\t? bondToMigrate.nonce\n\t\t\t\t: bondToMigrate.time\n\t\t\t).toNumber() * 1000\n\t\t)\n\n\t\treturn (\n\t\t\t<MigrationDialog\n\t\t\t\tid=\"staking-pool-tom-deposit-form\"\n\t\t\t\ttitle={\n\t\t\t\t\tisWithdrawMigration ? t(\"bonds.unbond\") : t(\"bonds.requestMigrate\")\n\t\t\t\t}\n\t\t\t\tbtnLabel={\n\t\t\t\t\tisWithdrawMigration ? t(\"bonds.unbond\") : t(\"bonds.requestMigrate\")\n\t\t\t\t}\n\t\t\t\tcolor={color || \"primary\"}\n\t\t\t\tsize={size || \"small\"}\n\t\t\t\tvariant={fabButton ? \"extended\" : \"contained\"}\n\t\t\t\tfabButton={!!fabButton}\n\t\t\t\tbond={bondToMigrate}\n\t\t\t\tpoolLabel={poolLabel}\n\t\t\t\tcreated={created}\n\t\t\t\tfullWidth\n\t\t\t\tisWithdrawMigration={isWithdrawMigration}\n\t\t\t\tonCloseDialog={onBeforeOpen}\n\t\t\t/>\n\t\t)\n\t} else {\n\t\treturn null\n\t}\n}\n","import React, { useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tModal,\n\tFade,\n\tBackdrop,\n\tTypography,\n\tButton\n} from \"@material-ui/core\"\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\nimport { ReactComponent as MigrationIcon } from \"./../resources/migration-ic.svg\"\nimport AppContext from \"../AppContext\"\nimport MigrationBtn from \"./MigrationBtn\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport { useLocation } from \"react-router-dom\"\n\nimport { useTranslation, Trans } from \"react-i18next\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 92,\n\t\t\theight: 92,\n\t\t\ttop: -56,\n\t\t\tleft: \"calc(50% - 46px)\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\ttop: {\n\t\t\tbackground: `radial-gradient(\n                ellipse at bottom,\n                ${theme.palette.background.special} 0%,\n                ${theme.palette.common.black} 110%\n            )`\n\t\t},\n\t\tbottom: {\n\t\t\tposition: \"relative\",\n\t\t\tbackground: theme.palette.common.white,\n\t\t\tborderTopLeftRadius: \"100%\",\n\t\t\tborderTopRightRadius: \"100%\",\n\t\t\twidth: \"142%\",\n\t\t\tmarginLeft: \"-21%\",\n\t\t\tmarginTop: -90,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: 69 + theme.spacing(3),\n\t\t\tpaddingLeft: `calc(21% + ${theme.spacing(3)}px)`,\n\t\t\tpaddingRight: `calc(21% + ${theme.spacing(3)}px)`\n\t\t},\n\t\tmodal: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t}\n\t}\n})\n\nexport const MigrateNowAlert = () => {\n\tconst { t } = useTranslation()\n\n\tconst { stats } = useContext(AppContext)\n\tconst location = useLocation()\n\tconst path = location.pathname\n\n\tconst { hasToMigrate, bondToMigrate } = stats.tomBondsMigrationData\n\n\treturn (\n\t\thasToMigrate && (\n\t\t\t<Box mb={2}>\n\t\t\t\t<Alert severity=\"info\" variant=\"filled\">\n\t\t\t\t\t<AlertTitle id=\"alert-chain-warning-title\">\n\t\t\t\t\t\t{t(\"popups.migrationAlert\")}\n\t\t\t\t\t</AlertTitle>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tid=\"alert-chain-description\"\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box>{t(\"bonds.migrationAlertText5\")}</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\ti18nKey=\"bonds.migrationAlertText6\"\n\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\texternalLink: (\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tid={`migration--alert-blogpost-link`}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\thref={`https://www.adex.network/blog/staking-portal-upgrade/`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t{t(\"popups.migrationAlertInfoMigrate\", {\n\t\t\t\t\t\t\t\tcount: hasToMigrate && !bondToMigrate ? 2 : 1\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{path !== \"/stakings\" && (\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<MigrationBtn\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Alert>\n\t\t\t</Box>\n\t\t)\n\t)\n}\n\nexport const MigrateNowPopup = () => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst [open, setOpen] = useState(true)\n\n\tconst { stats } = useContext(AppContext)\n\n\tconst { hasToMigrate, bondToMigrate } = stats.tomBondsMigrationData\n\n\tuseEffect(() => {\n\t\tsetOpen(hasToMigrate)\n\t}, [hasToMigrate])\n\n\treturn (\n\t\t<Box>\n\t\t\t<Modal\n\t\t\t\topen={open}\n\t\t\t\tonClose={() => setOpen(false)}\n\t\t\t\tclassName={classes.modal}\n\t\t\t\tcloseAfterTransition\n\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\ttimeout: 300\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Fade in={open}>\n\t\t\t\t\t<Box overflow=\"hidden\" width={420} maxWidth={\"100%\"} m={1}>\n\t\t\t\t\t\t<Box height={200} classes={{ root: classes.top }}></Box>\n\t\t\t\t\t\t<Box classes={{ root: classes.bottom }}>\n\t\t\t\t\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t\t\t\t\t<MigrationIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"popups.migrationAlert\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"popups.migrationAlertInfoMigrate\", {\n\t\t\t\t\t\t\t\t\t\tcount: hasToMigrate && !bondToMigrate ? 2 : 1\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Box my={2}>\n\t\t\t\t\t\t\t\t\t<MigrationBtn\n\t\t\t\t\t\t\t\t\t\tonBeforeOpen={() => setOpen(false)}\n\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t<Box my={2}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tid={`stake-popup-close-btn`}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"popups.notNow\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Fade>\n\t\t\t</Modal>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useState } from \"react\"\nimport { getPool } from \"../helpers/bonds\"\nimport {\n\tparseADX,\n\tformatADX,\n\tformatADXPretty,\n\ttoIdAttributeString\n} from \"../helpers/formatting\"\nimport {\n\tUNBOND_DAYS,\n\tZERO,\n\tDEFAULT_BOND,\n\tSTAKING_RULES_URL\n} from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTextField,\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport { getPoolStatsByPoolId } from \"../actions\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nexport default function NewBondForm({\n\tstats,\n\tonNewBond,\n\tpools,\n\tchosenWalletType,\n\tnewBondPool,\n\tsetNewBondPool\n}) {\n\tconst { t } = useTranslation()\n\tconst [bond, setBond] = useState(DEFAULT_BOND)\n\tconst [stakingAmount, setStakingAmount] = useState(\"0.0\")\n\tconst [amountErr, setAmountErr] = useState(false)\n\tconst [amountErrText, setAmountErrText] = useState(\"\")\n\tconst [confirmation, setConfirmation] = useState(false)\n\tconst minWidthStyle = { minWidth: \"180px\" }\n\tconst activePool = getPool(newBondPool)\n\tconst poolStats = activePool ? getPoolStatsByPoolId(stats, activePool.id) : {}\n\tconst { identityDeployed, userIdentityBalance, userBalance } = stats\n\n\tconst onlyIdentityBalance = !identityDeployed && userIdentityBalance.gt(ZERO)\n\tconst maxAmount = onlyIdentityBalance ? userIdentityBalance : userBalance\n\n\tconst onAction = () => {\n\t\tsetConfirmation(false)\n\t\tonNewBond(bond)\n\t}\n\n\tconst confirmationLabel = (\n\t\t<Trans\n\t\t\ti18nKey=\"bonds.confirmationLabel\"\n\t\t\tvalues={{\n\t\t\t\tunbondDays: UNBOND_DAYS\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\te1: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref=\"https://www.adex.network/tos/\"\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\te2: STAKING_RULES_URL ? (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-staking-rules\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref={STAKING_RULES_URL}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t)\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tconst validateFields = params => {\n\t\tconst { amountBN, poolToValidate } = params\n\t\tconst minStakingAmountBN = poolToValidate\n\t\t\t? parseADX(poolToValidate.minStakingAmount)\n\t\t\t: ZERO\n\t\tif (amountBN.gt(maxAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.lowADXAmount\"))\n\t\t\treturn\n\t\t}\n\t\tif (poolToValidate && amountBN.lt(minStakingAmountBN)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.lessThanMinPoolADX\"))\n\t\t\treturn\n\t\t}\n\t\tsetAmountErr(false)\n\t\treturn\n\t}\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tconst updateStakingAmountBN = amountBN => {\n\t\tvalidateFields({ amountBN, poolToValidate: activePool })\n\t\tsetStakingAmount(formatADX(amountBN))\n\t\tsetBond({\n\t\t\t...bond,\n\t\t\tamount: amountBN\n\t\t})\n\t}\n\n\tconst updatePool = value => {\n\t\tsetNewBondPool(value)\n\t}\n\n\tuseEffect(() => {\n\t\tconst amountBN = parseADX(stakingAmount)\n\t\tconst poolToValidate = getPool(newBondPool)\n\t\tvalidateFields({ amountBN, poolToValidate })\n\t\tsetBond({ ...bond, poolId: newBondPool })\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [newBondPool])\n\n\tuseEffect(() => {\n\t\tif (onlyIdentityBalance) {\n\t\t\tupdateStakingAmountBN(userIdentityBalance)\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [onlyIdentityBalance, userIdentityBalance])\n\n\treturn (\n\t\t<Box\n\t\t\twidth={666}\n\t\t\tmaxWidth={1}\n\t\t\tm={1}\n\t\t\tmaxHeight=\"90vh\"\n\t\t\tp={2}\n\t\t\tpb={4}\n\t\t\tbgcolor=\"background.paper\"\n\t\t\toverflow=\"auto\"\n\t\t>\n\t\t\t<h2>{t(\"bonds.createBond\")}</h2>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"new-bond-form-amount-field\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t(\"common.labelADXAmount\")}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstyle={minWidthStyle}\n\t\t\t\t\t\tvalue={stakingAmount}\n\t\t\t\t\t\terror={amountErr}\n\t\t\t\t\t\tdisabled={onlyIdentityBalance}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t// since its a number input it can be a negative number which wouldn't make sense so we cap it at 0\n\t\t\t\t\t\t\tconst amount = Math.max(0, ev.target.value)\n\t\t\t\t\t\t\tconst amountBN = parseADX(amount.toString())\n\t\t\t\t\t\t\tupdateStakingAmountBN(amountBN)\n\t\t\t\t\t\t\tsetStakingAmount(amount.toString())\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thelperText={amountErr ? amountErrText : null}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t{onlyIdentityBalance ? (\n\t\t\t\t\t\t\tt(\"bonds.stakeNewAccIdentityBalance\", {\n\t\t\t\t\t\t\t\tamount: formatADXPretty(userIdentityBalance),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tid=\"new-bond-form-max-amount-btn\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tupdateStakingAmountBN(maxAmount)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"common.maxAmountBtn\", {\n\t\t\t\t\t\t\t\t\tamount: formatADXPretty(maxAmount),\n\t\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<FormControl fullWidth required>\n\t\t\t\t\t\t<InputLabel>{t(\"common.pool\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tid=\"new-bond-form-pool-select\"\n\t\t\t\t\t\t\tstyle={minWidthStyle}\n\t\t\t\t\t\t\tvalue={newBondPool}\n\t\t\t\t\t\t\tonChange={ev => updatePool(ev.target.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={\"\"}>\n\t\t\t\t\t\t\t\t<em>{t(\"common.none\")}</em>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t{pools.map(({ label, id }) => (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tid={`new-bond-form-values-${toIdAttributeString(label)}`}\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(label)}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t{!!activePool && (\n\t\t\t\t\t<Grid item xs={12} container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolRewardPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.rewardPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolSlashingPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.slashPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">{t(\"common.poolAPY\")}:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\ti18nKey=\"bonds.currentYield\"\n\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\tapy: (poolStats.totalAPY * 100).toFixed(2),\n\t\t\t\t\t\t\t\t\t\tsign: \"%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\tfarmer: (\n\t\t\t\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t{t(\"messages.signAllTransactions\", {\n\t\t\t\t\t\t\t\t\t\twallet: chosenWalletType.name || \"\"\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={confirmationLabel}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid=\"new-bond-form-tos-check\"\n\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`new-bond-stake-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\tbond ? bond.poolId || \"bond\" : \"pool-not-selected\"\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\t\tbond.poolId &&\n\t\t\t\t\t\t\t\t\tconfirmation &&\n\t\t\t\t\t\t\t\t\tbond.amount.gt(ZERO) &&\n\t\t\t\t\t\t\t\t\t!amountErr\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"bonds.stakeADX\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useState } from \"react\"\nimport { Contract } from \"ethers\"\nimport Snackbar from \"@material-ui/core/Snackbar\"\nimport MuiAlert from \"@material-ui/lab/Alert\"\nimport { utils } from \"ethers\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport { ZERO, ADDR_ADX } from \"../helpers/constants\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport { getDefaultProvider } from \"./../ethereum\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nconst defaultProvider = getDefaultProvider\n\nconst ADDR_ADX_OLD = \"0x4470BB87d77b963A013DB939BE332f927f2b992e\"\n\nconst provider = defaultProvider\nconst LegacyToken = new Contract(ADDR_ADX_OLD, ERC20ABI, provider)\n\nexport default function LegacyADXSwapDialog(\n\tgetSigner,\n\twrapDoingTxns,\n\tchosenWalletType,\n\tlegacySwapInPrg,\n\tsetLegacySwapInPrg,\n\tlegacySwapOpen,\n\tsetLegacySwapInOpen\n) {\n\tconst { t } = useTranslation()\n\t// Amount to migrate\n\tconst [amount, setAmount] = useState(ZERO)\n\t// const [isSwapInPrg, setSwapInPrg] = useState(false)\n\n\tuseEffect(() => {\n\t\tif (!getSigner || !chosenWalletType.name) return\n\t\tconst refreshAmount = async () => {\n\t\t\tconst signer = await getSigner(chosenWalletType)\n\t\t\tif (!signer) return\n\t\t\tconst walletAddr = await signer.getAddress()\n\t\t\tconst balance = await LegacyToken.balanceOf(walletAddr)\n\t\t\tsetAmount(balance)\n\t\t\tif (balance.gt(ZERO)) {\n\t\t\t\tsetLegacySwapInOpen(true)\n\t\t\t}\n\t\t}\n\t\trefreshAmount().catch(e => console.error(e))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [getSigner, chosenWalletType])\n\n\tconst farmer = (\n\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t\n\t\t</span>\n\t)\n\tconst content = (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\t<Trans\n\t\t\t\t\ti18nKey=\"legacy.p1\"\n\t\t\t\t\tvalues={{\n\t\t\t\t\t\tamount: amount.gt(ZERO) ? utils.formatUnits(amount, 4) : \"\"\n\t\t\t\t\t}}\n\t\t\t\t\tcomponents={{\n\t\t\t\t\t\texternal: (\n\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\thref={`https://www.adex.network/blog/token-upgrade-defi-features/`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>{t(\"legacy.p2\")}</b>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<Trans\n\t\t\t\t\ti18nKey=\"legacy.p3\"\n\t\t\t\t\tvalues={{\n\t\t\t\t\t\twallet: chosenWalletType.name || \"MetaMask\"\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>\n\t\t\t\t\t<Trans\n\t\t\t\t\t\ti18nKey=\"legacy.p4\"\n\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\tamount: amount.gt(ZERO) ? utils.formatUnits(amount, 4) : \"\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tfarmer,\n\t\t\t\t\t\t\texternal: (\n\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\"https://www.adex.network/blog/new-token-economics-and-staking/\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</b>\n\t\t\t</p>\n\t\t</div>\n\t)\n\tconst onSwap = wrapDoingTxns(\n\t\tswapTokens.bind(null, setAmount, amount, getSigner, chosenWalletType)\n\t)\n\tconst dialog = ConfirmationDialog({\n\t\tisOpen: legacySwapOpen,\n\t\tonDeny: () => setLegacySwapInOpen(false),\n\t\tonConfirm: async () => {\n\t\t\tconst txns = await onSwap()\n\t\t\tif (!txns) return\n\t\t\tsetLegacySwapInPrg(true)\n\t\t\tawait Promise.all(txns.map(x => x.wait()))\n\t\t\tsetLegacySwapInPrg(false)\n\t\t},\n\t\tconfirmActionName: t(\"legacy.swapNow\"),\n\t\ttitle: t(\"legacy.adxToUpgrade\"),\n\t\tcontent\n\t})\n\treturn (\n\t\t<>\n\t\t\t{dialog}\n\t\t\t<Snackbar open={legacySwapInPrg}>\n\t\t\t\t<MuiAlert elevation={6} variant=\"filled\" severity=\"success\">\n\t\t\t\t\t{t(\"legacy.swapInProgress\")}\n\t\t\t\t</MuiAlert>\n\t\t\t</Snackbar>\n\t\t</>\n\t)\n}\n\nasync function swapTokens(setAmount, amount, getSigner, chosenWalletType) {\n\tconst signer = await getSigner(chosenWalletType)\n\tconst walletAddr = await signer.getAddress()\n\tconst legacyTokenWithSigner = new Contract(ADDR_ADX_OLD, ERC20ABI, signer)\n\tconst newTokenWithSigner = new Contract(\n\t\tADDR_ADX,\n\t\t[\"function swap(uint prevTokenAmount) external\"],\n\t\tsigner\n\t)\n\tconst allowance = await legacyTokenWithSigner.allowance(walletAddr, ADDR_ADX)\n\n\tlet txns = []\n\t// this mechanism is used so that we auto-calculate gas on the first tx, but hard-set on the next txns since they depend\n\t// on the state of the previous\n\tlet hasAutocalculatedGas = false\n\tconst firstTimeGasLimit = gasLimit => {\n\t\tif (hasAutocalculatedGas) return { gasLimit }\n\t\thasAutocalculatedGas = true\n\t\treturn {}\n\t}\n\tif (allowance.lt(amount)) {\n\t\tif (allowance.gt(ZERO)) {\n\t\t\ttxns.push(\n\t\t\t\tawait legacyTokenWithSigner.approve(\n\t\t\t\t\tADDR_ADX,\n\t\t\t\t\tZERO,\n\t\t\t\t\tfirstTimeGasLimit(60000)\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t\ttxns.push(\n\t\t\tawait legacyTokenWithSigner.approve(\n\t\t\t\tADDR_ADX,\n\t\t\t\tamount,\n\t\t\t\tfirstTimeGasLimit(60000)\n\t\t\t)\n\t\t)\n\t}\n\ttxns.push(await newTokenWithSigner.swap(amount, firstTimeGasLimit(100000)))\n\tsetAmount(ZERO)\n\treturn txns\n}\n","import React, { useState } from \"react\"\nimport { Button, Menu, Link, MenuItem } from \"@material-ui/core\"\nimport HelpIcon from \"@material-ui/icons/HelpOutline\"\nimport { useTranslation } from \"react-i18next\"\n\nexport const Help = () => {\n\tconst { t } = useTranslation()\n\tconst [menuEl, setMenuEl] = useState(null)\n\tconst openHelpMenu = ev => {\n\t\tsetMenuEl(ev.currentTarget)\n\t}\n\tconst closeHelpMenu = () => {\n\t\tsetMenuEl(null)\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tid=\"help-menu-btn\"\n\t\t\t\tsize=\"large\"\n\t\t\t\tstartIcon={<HelpIcon size=\"large\" />}\n\t\t\t\tonClick={openHelpMenu}\n\t\t\t>\n\t\t\t\t{t(\"help.help\")}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid=\"help-menu-menu\"\n\t\t\t\tanchorEl={menuEl}\n\t\t\t\topen={Boolean(menuEl)}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={closeHelpMenu}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n\t\t\t>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-tos\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://www.adex.network/tos\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"common.tos\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-staking-user-guide\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://help.adex.network/hc/en-us/categories/360002707720-Staking\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.userGuide\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-staking-source-code\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://github.com/adexnetwork/adex-protocol-eth\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.sourceCode\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-audits\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://github.com/adexnetwork/adex-protocol-eth#audits\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.audits\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-wher-to-buy-markets\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://coinmarketcap.com/currencies/adx-net/markets/\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.whereToBuy\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n","import React, { Fragment, useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Chip, Fab, Icon } from \"@material-ui/core\"\nimport { AccountBalanceWalletSharp as AccountBalanceWalletIcon } from \"@material-ui/icons\"\nimport Jazzicon, { jsNumberForAddress } from \"react-jazzicon\"\nimport { formatAddress } from \"../helpers/formatting\"\nimport copy from \"copy-to-clipboard\"\nimport { useTranslation } from \"react-i18next\"\n\nconst useStyles = makeStyles(theme => ({\n\tfabIcon: {\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tchipRoot: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tcolor: theme.palette.text.main,\n\t\tfontWeight: theme.typography.fontWeightBold,\n\t\tfontSize: theme.typography.pxToRem(15),\n\t\t// To match medium size fab\n\t\theight: 40,\n\t\tborderRadius: 40 / 2\n\t},\n\tchipIcon: {\n\t\tmarginLeft: 9,\n\t\tmarginRight: 0,\n\t\twidth: 26,\n\t\theight: 26\n\t}\n}))\n\nexport const Wallet = () => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\tconst { setConnectWallet, chosenWalletType, addSnack, account } = useContext(\n\t\tAppContext\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{!chosenWalletType.name || !account ? (\n\t\t\t\t<Fab\n\t\t\t\t\tid=\"connect-wallet-btn-topbar\"\n\t\t\t\t\tonClick={() => setConnectWallet(true)}\n\t\t\t\t\tvariant=\"extended\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\tdisabled={chosenWalletType.name && !account}\n\t\t\t\t>\n\t\t\t\t\t<AccountBalanceWalletIcon className={classes.fabIcon} />\n\t\t\t\t\t{t(\"common.connectWallet\")}\n\t\t\t\t</Fab>\n\t\t\t) : (\n\t\t\t\t<Chip\n\t\t\t\t\tid=\"wallet-address-top-bar-copy\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(account)\n\t\t\t\t\t\taddSnack(t(\"messages.addrCopied\", { account }), \"success\")\n\t\t\t\t\t}}\n\t\t\t\t\tclickable\n\t\t\t\t\tclasses={{ root: classes.chipRoot, icon: classes.chipIcon }}\n\t\t\t\t\ticon={\n\t\t\t\t\t\taccount ? (\n\t\t\t\t\t\t\t<Icon>\n\t\t\t\t\t\t\t\t<Jazzicon diameter={26} seed={jsNumberForAddress(account)} />\n\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t) : null\n\t\t\t\t\t}\n\t\t\t\t\tlabel={formatAddress(account)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n","import React from \"react\"\nimport { Button, Menu, MenuItem } from \"@material-ui/core\"\nimport { useTranslation } from \"react-i18next\"\n\nconst locales = {\n\ten: {\n\t\tvalue: \"en\",\n\t\tlabel: \"English\"\n\t},\n\tko: {\n\t\tvalue: \"ko\",\n\t\tlabel: \"\"\n\t},\n\tzh: {\n\t\tvalue: \"zh\",\n\t\tlabel: \"\"\n\t}\n}\n\nexport default function LangSelect() {\n\tconst { i18n } = useTranslation()\n\tconst [anchorEl, setAnchorEl] = React.useState(null)\n\n\tconst { language } = i18n\n\n\tconst handleClick = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\taria-controls=\"lang-select-menu\"\n\t\t\t\taria-haspopup=\"true\"\n\t\t\t\tonClick={handleClick}\n\t\t\t>\n\t\t\t\t{(locales[language] || {}).label || \"English\"}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid=\"lang-select-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={() => setAnchorEl(null)}\n\t\t\t>\n\t\t\t\t{Object.values(locales).map(({ label = \"\", value = \"\" }) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tid={`lang-select-menu-${value}`}\n\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\ti18n.changeLanguage(value)\n\t\t\t\t\t\t\tsetAnchorEl(null)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</div>\n\t)\n}\n","import React, { useEffect, useState } from \"react\"\nimport { MuiThemeProvider } from \"@material-ui/core/styles\"\nimport { darkTheme, lightTheme } from \"./themeMUi\"\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage\n} from \"./helpers/localStorage\"\n\nconst THEMES = {\n\tlight: lightTheme,\n\tdark: darkTheme\n}\n\nexport const MultiThemeContext = React.createContext()\n\nconst MultiThemeProvider = ({ children }) => {\n\tconst [themeType, setThemeType] = useState(\"dark\")\n\tconst [theme, setTheme] = useState(darkTheme)\n\n\tuseEffect(() => {\n\t\tconst lastTheme = loadFromLocalStorage(\"themeType\") || \"dark\"\n\t\tsetThemeType(lastTheme)\n\t\tsetTheme(THEMES[lastTheme])\n\t}, [])\n\n\tconst switchTheme = () => {\n\t\tif (themeType === \"light\") {\n\t\t\tsaveToLocalStorage(\"dark\", \"themeType\")\n\t\t\tsetThemeType(\"dark\")\n\t\t\tsetTheme(THEMES[\"dark\"])\n\t\t} else {\n\t\t\tsaveToLocalStorage(\"light\", \"themeType\")\n\t\t\tsetThemeType(\"light\")\n\t\t\tsetTheme(THEMES[\"light\"])\n\t\t}\n\t}\n\n\tconst contextValue = {\n\t\tthemeType,\n\t\tswitchTheme\n\t}\n\n\treturn (\n\t\t<MultiThemeContext.Provider value={contextValue}>\n\t\t\t<MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>\n\t\t</MultiThemeContext.Provider>\n\t)\n}\n\nexport default MultiThemeProvider\n","import React, { useContext } from \"react\"\nimport { IconButton } from \"@material-ui/core\"\nimport {\n\tBrightness7Sharp as LightIcon,\n\tBrightness6Sharp as DarkIcon\n} from \"@material-ui/icons\"\nimport { MultiThemeContext } from \"../MultiThemeProvider\"\n\nexport default function ThemeSwitch() {\n\tconst { themeType, switchTheme } = useContext(MultiThemeContext)\n\n\treturn (\n\t\t<IconButton\n\t\t\tid={`theme-switch-go-to-${themeType === \"dark\" ? \"light\" : \"dark\"}`}\n\t\t\tonClick={switchTheme}\n\t\t>\n\t\t\t{themeType === \"dark\" ? <LightIcon /> : <DarkIcon />}\n\t\t</IconButton>\n\t)\n}\n","import { fade } from \"@material-ui/core/styles/colorManipulator\"\n\nconst drawerWidth = 269\nconst maxContentWidth = 1420\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\toverflow: \"hidden\",\n\t\t\tposition: \"relative\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\theight: \"100vh\",\n\t\t\twidth: \"100vw\",\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tbackgroundImage:\n\t\t\t\ttheme.type === \"dark\"\n\t\t\t\t\t? `radial-gradient(\n\t\t\t\tcircle,\n\t\t\t\t${fade(theme.palette.background.special, 0.333)} 0%,\n\t\t\t\t${fade(theme.palette.background.specialSecondary, 0.69)} 146%\n\t\t\t)`\n\t\t\t\t\t: 0,\n\t\t\tbackgroundRepeat: \"no-repeat\",\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tbackgroundPositionX: drawerWidth / 2,\n\t\t\t\tbackgroundImage:\n\t\t\t\t\ttheme.type === \"dark\"\n\t\t\t\t\t\t? `radial-gradient(\n\t\t\t\t\tcircle,\n\t\t\t\t\t${fade(theme.palette.background.special, 0.333)} 0%,\n\t\t\t\t\t${fade(theme.palette.background.specialSecondary, 0.69)} 93%\n\t\t\t\t)`\n\t\t\t\t\t\t: 0\n\t\t\t}\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexWrap: \"wrap\",\n\t\t\tpaddingLeft: theme.spacing(2),\n\t\t\tpaddingRight: theme.spacing(2),\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(4),\n\t\t\t\tpaddingRight: theme.spacing(4),\n\t\t\t\tmarginLeft: drawerWidth\n\t\t\t},\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\n\t\t\t\tpaddingRight: theme.spacing(1.5)\n\t\t\t}\n\t\t},\n\t\ttoolbarActions: {\n\t\t\tmaxWidth: maxContentWidth,\n\t\t\tmargin: \"auto\"\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t// height: '110vh',\n\t\t\tbackgroundColor: theme.palette.background.darkerPaper\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tpadding: theme.spacing(2),\n\t\t\tpaddingTop: theme.spacing(2),\n\t\t\toverflow: \"auto\",\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tpadding: theme.spacing(4),\n\t\t\t\tpaddingTop: theme.spacing(4),\n\t\t\t\tmarginLeft: drawerWidth\n\t\t\t},\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t\tpaddingRight: theme.spacing(1)\n\t\t\t}\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: maxContentWidth,\n\t\t\tmargin: \"auto\",\n\t\t\tmarginBottom: theme.spacing(2)\n\t\t\t// // Because of the floating button and table paging\n\t\t\t// [theme.breakpoints.down(\"sm\")]: {\n\t\t\t// \tpaddingBottom: 146 + theme.spacing(2)\n\t\t\t// }\n\t\t},\n\t\tmodal: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\talwaysOnTop: {\n\t\t\tzIndex: `${theme.zIndex.tooltip * 2} !important`\n\t\t}\n\t}\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { AppBar, Toolbar, IconButton, Box, Hidden } from \"@material-ui/core\"\nimport { MenuSharp as MenuIcon } from \"@material-ui/icons\"\nimport { Help } from \"./HelperMenu\"\nimport { Wallet } from \"./WalletMenu\"\nimport LangSelect from \"./LangSelect\"\nimport ThemeSwitch from \"./ThemeSwitch\"\nimport { styles } from \"./rootStyles\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles(styles)\n\nexport const AppToolbar = ({ handleDrawerToggle }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<AppBar elevation={0} color=\"transparent\" position=\"static\">\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tid=\"mobile-burger-btn\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Hidden>\n\t\t\t\t<Box\n\t\t\t\t\tclassName={classes.toolbarActions}\n\t\t\t\t\tflex=\"1\"\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t>\n\t\t\t\t\t<Box mr={2}>\n\t\t\t\t\t\t<LangSelect />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mr={2}>\n\t\t\t\t\t\t<ThemeSwitch />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mr={2}>\n\t\t\t\t\t\t<Help />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Wallet />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nAppToolbar.propTypes = {\n\thandleDrawerToggle: PropTypes.func.isRequired\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1606\",\n  \"data-name\": \"Group 1606\",\n  transform: \"translate(0 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1128\",\n  \"data-name\": \"Path 1128\",\n  d: \"M3911.642,193.845a3.686,3.686,0,0,1,.714-1.652,13.68,13.68,0,0,1,1.193-1.212c.789-.771,1.575-1.545,2.366-2.313a3.624,3.624,0,0,1,3.258-1.051,3.533,3.533,0,0,1,1.808.869c.1.093.118.164.012.268-.589.579-1.172,1.164-1.757,1.746a.21.21,0,0,1-.206.076,1.866,1.866,0,0,0-1.773.586c-.683.658-1.376,1.306-2.03,1.993a1.668,1.668,0,0,0,.015,2.4c.623.643,1.262,1.274,1.919,1.882a1.758,1.758,0,0,0,2.524-.044c.644-.614,1.279-1.239,1.912-1.865a1.978,1.978,0,0,0,.662-1.774.236.236,0,0,1,.092-.22l1.715-1.647c.18-.174.2-.17.361.017a3.393,3.393,0,0,1,.877,2.278,3.263,3.263,0,0,1-.881,2.351c-1.019,1.078-2.118,2.076-3.168,3.124a4.913,4.913,0,0,1-1.163.92,4.8,4.8,0,0,1-1.168.395h-1.085a6.008,6.008,0,0,1-.956-.295,5.417,5.417,0,0,1-1.631-1.278c-.688-.667-1.362-1.35-2.043-2.026a5.42,5.42,0,0,1-1.25-1.532,5.066,5.066,0,0,1-.317-.99Z\",\n  transform: \"translate(-3911.642 -177.307)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1129\",\n  \"data-name\": \"Path 1129\",\n  d: \"M3945.354,175.231a3.788,3.788,0,0,1-.765,1.65c-.32.373-.685.7-1.035,1.043-.814.8-1.636,1.593-2.451,2.392a4.053,4.053,0,0,1-1.375.948,3.571,3.571,0,0,1-2.7-.015,3.706,3.706,0,0,1-1.015-.626c-.113-.095-.135-.169-.019-.281q.862-.835,1.716-1.678a.278.278,0,0,1,.248-.074,1.991,1.991,0,0,0,1.663-.573c.741-.709,1.487-1.413,2.2-2.151a1.619,1.619,0,0,0-.034-2.388c-.666-.666-1.3-1.364-2.026-1.967a1.722,1.722,0,0,0-2.1.014c-.442.358-.817.787-1.23,1.175-.385.361-.762.733-1.135,1.109a1.927,1.927,0,0,0-.569,1.138,1.349,1.349,0,0,0,.033.46.218.218,0,0,1-.062.227c-.578.553-1.157,1.1-1.729,1.663-.136.133-.221.113-.341-.022a3.391,3.391,0,0,1,.11-4.681q1.824-1.854,3.727-3.628a3.238,3.238,0,0,1,1.593-.75c.044-.01.087-.023.13-.034h1.085c.043.012.086.026.13.034a3.566,3.566,0,0,1,1.844.961c.933.911,1.849,1.839,2.779,2.753a7.469,7.469,0,0,1,.649.689,3.724,3.724,0,0,1,.679,1.566Z\",\n  transform: \"translate(-3921.107 -168.182)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1130\",\n  \"data-name\": \"Path 1130\",\n  d: \"M3934.977,185.166a.953.953,0,0,1-.307.721l-1.736,1.726c-.57.567-1.133,1.14-1.71,1.7-.462.447-.885.937-1.386,1.341a1.009,1.009,0,0,1-1.486-1.283,1.67,1.67,0,0,1,.329-.413q1-.995,2-1.985,1.262-1.252,2.524-2.5a1.016,1.016,0,0,1,1.624.132A.908.908,0,0,1,3934.977,185.166Z\",\n  transform: \"translate(-3919.456 -175.689)\"\n}));\n\nvar SvgLinkIc = function SvgLinkIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24.247,\n    height: 23.666,\n    viewBox: \"0 0 24.247 23.666\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLinkIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/link-ic.b389cfb7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_3_49_\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M277.888,124.306h-21.123c-2.745,0-4.97-2.225-4.97-4.97s2.225-4.97,4.97-4.97h21.123c2.745,0,4.97,2.225,4.97,4.97 S280.633,124.306,277.888,124.306z\"\n}), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M341.387,196.858c-68.072,0-123.454,49.15-123.454,117.224c0,32.625,12.947,62.438,36.455,83.945 c22.833,20.89,53.729,32.395,86.999,32.395c33.271,0,64.169-11.505,87.001-32.395c23.508-21.509,36.454-51.32,36.454-83.945 C464.842,246.009,409.46,196.858,341.387,196.858z M341.387,366.677c-29,0-52.595-23.594-52.595-52.595 c0-29.002,23.595-52.596,52.595-52.596c29.001,0,52.595,23.594,52.595,52.596C393.981,343.083,370.388,366.677,341.387,366.677z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M87.4,260.648c-48.193,0-87.4,39.209-87.4,87.401c0,23.101,9.167,44.209,25.812,59.438 c16.166,14.79,38.038,22.935,61.589,22.935c23.552,0,45.425-8.145,61.59-22.935c16.645-15.229,25.812-36.339,25.812-59.438 C174.802,299.857,135.594,260.648,87.4,260.648z M87.4,385.113c-20.435,0-37.06-16.627-37.06-37.063 c0-20.436,16.625-37.062,37.06-37.062s37.061,16.626,37.061,37.062C124.461,368.486,107.835,385.113,87.4,385.113z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M245.277,220.425c25.347-23.58,59.479-36.566,96.108-36.566c24.679,0,48.221,5.901,68.708,16.959 c0.103,0.055,0.204,0.088,0.306,0.132c1.882,1.353,4.231,2.068,6.717,1.847c5.501-0.49,9.562-5.347,9.072-10.848 c-0.093-1.047-9.351-104.934-11.104-125.312c-2.771-32.218-26.047-32.218-34.809-32.218H245.281 c-12.047-0.024-34.378-0.013-41.274,34.135c-3.881,19.216-12.413,59.658-19,90.541c-34.663,0-67.15,0-92.26,0v-50.582 c0-7.375-5.979-13.353-13.353-13.353s-13.353,5.979-13.353,13.353v50.582c-12.812,0-20.931,0-22.52,0 c-38.677,0-50.627,83.074-29.327,120.321c18.33-19.54,44.365-31.77,73.208-31.77c50.5,0,92.405,37.479,99.376,86.083h19.604 c-0.957-6.42-1.448-12.98-1.448-19.647C204.933,277.891,219.261,244.629,245.277,220.425z M395.159,68.352 c1.099,12.771,5.136,58.241,8.026,90.744c-15.819,0-46.297,0-83.104,0V54.419h60.196 C390.01,54.419,394.006,54.954,395.159,68.352z M223.611,72.513c3.656-18.1,10.463-18.087,21.663-18.094h58.807v104.676 c-30.991,0-65.323,0-98.629,0C212.397,126.456,220.854,86.163,223.611,72.513z\"\n}))));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgFarmIcon = function SvgFarmIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"464.842px\",\n    height: \"464.841px\",\n    viewBox: \"0 0 464.842 464.841\",\n    style: {\n      enableBackground: \"new 0 0 464.842 464.841\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFarmIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/farm-icon.9957c803.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\"\nimport {\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tDivider,\n\tBox,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport clsx from \"clsx\"\nimport Anchor from \"./Anchor\"\nimport logo from \"./../resources/staking-logo.svg\"\nimport logoLight from \"./../resources/logo-light-theme.svg\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useLocation } from \"react-router-dom\"\nimport packageJson from \"./../../package.json\"\nimport { ADDR_ADX } from \"./../helpers/constants\"\nimport WithRouterLink from \"./WithRouterLink\"\nimport UserData from \"./UserData\"\nimport MigrationBtn from \"./MigrationBtn\"\nimport {\n\tHomeSharp as HomeIcon,\n\tDashboardSharp as DashboardIcon\n} from \"@material-ui/icons\"\nimport { ReactComponent as StakingIcon } from \"./../resources/link-ic.svg\"\nimport { ReactComponent as GaslessIcon } from \"./../resources/gasless-ic.svg\"\nimport { ReactComponent as GiftIcon } from \"./../resources/gift-ic.svg\"\nimport { ReactComponent as StatsIcon } from \"./../resources/stats-ic.svg\"\nimport { ReactComponent as FarmIcon } from \"./../resources/farm-icon.svg\"\nimport { useTranslation } from \"react-i18next\"\n// import { fade } from \"@material-ui/core/styles/colorManipulator\"\nimport { MultiThemeContext } from \"../MultiThemeProvider\"\n\nconst RRListItem = WithRouterLink(ListItem)\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = theme.palette.text.primary\n\tconst activeBgColor = theme.palette.background.active\n\n\treturn {\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tjustifyContent: \"space-between\"\n\t\t},\n\t\tnavList: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 100,\n\t\t\toverflowY: \"auto\",\n\t\t\toverflowX: \"hidden\"\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: \"absolute\",\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: \"solid\"\n\t\t},\n\t\tlistItem: {\n\t\t\tcolor: theme.palette.text.primary,\n\t\t\t\"& .MuiListItemIcon-root\": {\n\t\t\t\tcolor: theme.palette.text.primary // fade(theme.palette.text.main, 0.69)\n\t\t\t}\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\"&:focus\": {\n\t\t\t\tbackgroundColor: activeBgColor\n\t\t\t},\n\t\t\t\"&:hover\": {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\tcolor: activeColor,\n\t\t\t\t\"& .MuiListItemIcon-root\": {\n\t\t\t\t\tcolor: activeColor\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"& .MuiListItemIcon-root\": {\n\t\t\t\tcolor: activeColor //theme.palette.text.main\n\t\t\t}\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t\"&:hover\": {\n\t\t\t\tcolor: theme.palette.text.secondary\n\t\t\t}\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`\n\t\t},\n\t\ticon: {\n\t\t\theight: 32,\n\t\t\twidth: \"auto\",\n\t\t\tcursor: \"pointer\"\n\t\t},\n\t\tamount: {\n\t\t\tfontSize: theme.typography.pxToRem(18)\n\t\t},\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\ttextTransform: \"uppercase\"\n\t\t},\n\t\tnoUserData: {\n\t\t\topacity: 0.23\n\t\t}\n\t}\n})\n\nfunction SideNav({\n\tprices,\n\tstats,\n\tonRequestUnbond,\n\tonUnbond,\n\tonClaimRewards,\n\tonRestake,\n\tsetConnectWallet\n}) {\n\tconst { themeType } = useContext(MultiThemeContext)\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst location = useLocation()\n\tconst path = location.pathname\n\n\treturn (\n\t\t<Box\n\t\t\tposition=\"relative\"\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\tflexGrow=\"1\"\n\t\t>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tmb={1}\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\twidth=\"200px\"\n\t\t\t\t\t\t\t\t\tsrc={themeType === \"dark\" ? logo : logoLight}\n\t\t\t\t\t\t\t\t\talt=\"adex-staking-logo\"\n\t\t\t\t\t\t\t\t></img>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t\t<Box position=\"relative\">\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t[classes.noUserData]: !stats.connectedWalletAddress\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Box width={1}>\n\t\t\t\t\t\t\t\t\t{UserData({\n\t\t\t\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\t\t\t\tonRequestUnbond,\n\t\t\t\t\t\t\t\t\t\tonUnbond,\n\t\t\t\t\t\t\t\t\t\tonClaimRewards,\n\t\t\t\t\t\t\t\t\t\tonRestake\n\t\t\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t\t\t\t{path !== \"/stakings\" && (\n\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t<MigrationBtn />\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t\t{!stats.connectedWalletAddress && (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tid=\"side-nav-connect-wallet-overlay\"\n\t\t\t\t\t\t\t\t\tclassName={classes.overlay}\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t\t\tcolor=\"secondary.main\"\n\t\t\t\t\t\t\t\t\tfontSize=\"h1.fontSize\"\n\t\t\t\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\t\t\t\tonClick={() => setConnectWallet(true)}\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"common.connectWallet\")}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\tflexDirection=\"column\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tflex=\"1\"\n\t\t\t>\n\t\t\t\t<Box>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-pools\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/\" }}\n\t\t\t\t\t\t\tclassName={clsx(classes.listItem, {\n\t\t\t\t\t\t\t\t[classes.active]: path === \"/\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.pools\")} />\n\t\t\t\t\t\t</RRListItem>\n\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-stakings\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/stakings\" }}\n\t\t\t\t\t\t\tclassName={clsx(classes.listItem, {\n\t\t\t\t\t\t\t\t[classes.active]: path === \"/stakings\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<StakingIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.staked\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-rewards\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/rewards\" }}\n\t\t\t\t\t\t\tclassName={clsx(classes.listItem, {\n\t\t\t\t\t\t\t\t[classes.active]: path === \"/rewards\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<GiftIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.rewards\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-farm\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/farm\" }}\n\t\t\t\t\t\t\tclassName={clsx(classes.listItem, {\n\t\t\t\t\t\t\t\t[classes.active]: path === \"/farm\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<FarmIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.farm\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-stats\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/stats\" }}\n\t\t\t\t\t\t\tclassName={clsx(classes.listItem, {\n\t\t\t\t\t\t\t\t[classes.active]: path === \"/stats\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<StatsIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.validatorStats\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-gasless\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/gasless\" }}\n\t\t\t\t\t\t\tclassName={clsx(classes.listItem, {\n\t\t\t\t\t\t\t\t[classes.active]: path === \"/gasless\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<GaslessIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.gaslessStaking\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tid=\"side-nav-link-staking-landing-page\"\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tclassName={clsx(classes.listItem)}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\"https://www.adex.network/staking/\",\n\t\t\t\t\t\t\t\t\"_blank\",\n\t\t\t\t\t\t\t\t\"noopener,noreferrer\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<HomeIcon color=\"inherit\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(\"common.homePageAndCalculator\")} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-network\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://adex.network`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"company.copy\", { year: new Date().getFullYear() })}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-network-tos\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://adex.network/tos`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"company.terms\")}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-token\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://etherscan.io/address/${ADDR_ADX}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"company.adxToken\")}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-staking-overview\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref=\"https://www.adex.network/blog/adex-defi-staking-overview/\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"company.version\", { version: packageJson.version })}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SideNav\n","import React from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport StatsCard from \"./StatsCard\"\nimport { formatADXPretty, getADXInUSDFormatted } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\nimport { BigNumber } from \"ethers\"\n\nexport default function UserData({ stats, prices }) {\n\tconst { t } = useTranslation()\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tsize: \"large\",\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: t(\"userData.myAdxBalance\"),\n\t\t\t\t\tsubtitle: stats.totalBalanceADX\n\t\t\t\t\t\t? formatADXPretty(stats.totalBalanceADX) + \" ADX\"\n\t\t\t\t\t\t: \"\",\n\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.totalBalanceADX),\n\t\t\t\t\t/*actions: (<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t>upgrade</Button>)*/\n\t\t\t\t\textraInfo: t(\"userData.adxPrice\", {\n\t\t\t\t\t\tpriceUSD: getADXInUSDFormatted(\n\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\tBigNumber.from((1e18).toString())\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: t(\"userData.onWallet\"),\n\t\t\t\t\ttitleInfo: t(\"userData.onWalletInfo\"),\n\t\t\t\t\tsubtitle: stats.userBalance\n\t\t\t\t\t\t? formatADXPretty(stats.userBalance) + \" ADX\"\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.userBalance)\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t{/* <Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: t(\"userData.activeStake\"),\n\t\t\t\t\ttitleInfo: t(\"userData.activeStakeInfo\", {\n\t\t\t\t\t\tapy: (tomPoolStats.totalAPY * 100).toFixed(2)\n\t\t\t\t\t}),\n\t\t\t\t\tsubtitle: formatADXPretty(stats.userTotalStake) + \" ADX\",\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.userTotalStake)\n\t\t\t\t})}\n\t\t\t</Box> */}\n\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: t(\"userData.totalStaked\"),\n\t\t\t\t\ttitleInfo: [\n\t\t\t\t\t\tt(\"userData.activeDepositsInfoLocked\", {\n\t\t\t\t\t\t\tamount: formatADXPretty(stats.totalLockedOnDeposits),\n\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tt(\"userData.activeUsersStakeLegacy\", {\n\t\t\t\t\t\t\tamount: formatADXPretty(stats.userTotalStake),\n\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tt(\"userData.activeDepositsInfoPendingToUnlock\", {\n\t\t\t\t\t\t\tamount: formatADXPretty(stats.totalPendingToUnlock),\n\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tt(\"userData.activeDepositsInfoUnlocked\", {\n\t\t\t\t\t\t\tamount: formatADXPretty(stats.totalUnlockedDeposits),\n\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tt(\"userData.activeDepositsInfoUnclaimed\", {\n\t\t\t\t\t\t\tamount: formatADXPretty(stats.tomRewardADX),\n\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t})\n\t\t\t\t\t],\n\t\t\t\t\tsubtitle: formatADXPretty(stats.totalStaked) + \" ADX\",\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.totalStaked)\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useCallback, useEffect, useState } from \"react\"\nimport { Snackbar } from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\n\nexport function useSnack() {\n\tconst [snackPack, setSnackPack] = useState([])\n\tconst [snackOpen, setOpen] = useState(false)\n\tconst [snackMessageInfo, setMessageInfo] = useState(undefined)\n\n\tuseEffect(() => {\n\t\tif (snackPack.length && !snackMessageInfo) {\n\t\t\t// Set a new snack when we don't have an active one\n\t\t\tsetMessageInfo({ ...snackPack[0] })\n\t\t\tsetSnackPack(prev => prev.slice(1))\n\t\t\tsetOpen(true)\n\t\t} else if (snackPack.length && snackMessageInfo && snackOpen) {\n\t\t\t// Close an active snack when a new one is added\n\t\t\tsetOpen(false)\n\t\t}\n\t}, [snackPack, snackMessageInfo, snackOpen])\n\n\tconst addSnack = useCallback(\n\t\t(message, severity, hideTimeout = 20000, action) => {\n\t\t\tsetSnackPack(prev => [\n\t\t\t\t...prev,\n\t\t\t\t{\n\t\t\t\t\tmessage,\n\t\t\t\t\tseverity,\n\t\t\t\t\thideTimeout,\n\t\t\t\t\taction,\n\t\t\t\t\tkey: new Date().getTime() + \"-\" + Math.random()\n\t\t\t\t}\n\t\t\t])\n\t\t},\n\t\t[]\n\t)\n\n\tconst closeSnack = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\t\tsetMessageInfo(undefined)\n\t\tsetOpen(false)\n\t}\n\n\tconst snackExited = () => {\n\t\tsetMessageInfo(undefined)\n\t}\n\n\treturn {\n\t\tsnackOpen,\n\t\tsnackMessageInfo,\n\t\taddSnack,\n\t\tcloseSnack,\n\t\tsnackExited\n\t}\n}\n\nexport function ShtarvolinkiSnack({\n\tsnackOpen,\n\tsnackMessageInfo = {},\n\tcloseSnack,\n\tsnackExited\n}) {\n\treturn (\n\t\t<Snackbar\n\t\t\tkey={snackMessageInfo.key}\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: \"bottom\",\n\t\t\t\thorizontal: \"center\"\n\t\t\t}}\n\t\t\topen={snackOpen}\n\t\t\tautoHideDuration={snackMessageInfo.hideTimeout}\n\t\t\tonExited={snackExited}\n\t\t\tonClose={closeSnack}\n\t\t>\n\t\t\t<Alert\n\t\t\t\tonClose={closeSnack}\n\t\t\t\tseverity={snackMessageInfo.severity || \"info\"}\n\t\t\t\tvariant=\"filled\"\n\t\t\t\taction={snackMessageInfo.action || null}\n\t\t\t>\n\t\t\t\t{snackMessageInfo.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t)\n}\n","import React, { useState, useContext } from \"react\"\nimport { Switch, Route } from \"react-router-dom\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tDrawer,\n\tModal,\n\tBackdrop,\n\tFade,\n\tSnackbar,\n\tuseMediaQuery,\n\tBox,\n\tButton\n} from \"@material-ui/core\"\nimport { Alert as MuiAlert, AlertTitle } from \"@material-ui/lab\"\nimport ChooseWallet from \"./ChooseWallet\"\nimport Stakings from \"./Stakings\"\nimport Gasless from \"./Gasless\"\nimport Rewards from \"./Rewards\"\nimport Farm from \"./Farm\"\nimport Stats from \"./Stats\"\nimport Pools from \"./Pools\"\nimport StakeNowPopup from \"./StakeNowPopup\"\nimport { MigrateNowPopup, MigrateNowAlert } from \"./MigrateNowPopup\"\nimport NewBondForm from \"./NewBondForm\"\nimport LegacyADXSwapDialog from \"./LegacyADXSwapDialog\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { AppToolbar } from \"./Toolbar\"\nimport SideNav from \"./SideNav\"\nimport {\n\tZERO,\n\tUNBOND_DAYS,\n\tPOOLS,\n\tREACT_APP_RPC_URL,\n\tIDLE_TIMEOUT_MINUTES\n} from \"../helpers/constants\"\nimport { formatADXPretty, toIdAttributeString } from \"../helpers/formatting\"\nimport { styles } from \"./rootStyles\"\nimport AppContext from \"../AppContext\"\nimport { createNewBond } from \"../actions\"\nimport { ShtarvolinkiSnack } from \"./../Snack\"\nimport clsx from \"clsx\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nfunction Alert(props) {\n\treturn <MuiAlert variant=\"filled\" {...props} />\n}\n\nconst useStyles = makeStyles(styles)\n\nexport default function Root() {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\tconst isTempDrawer = useMediaQuery(theme => theme.breakpoints.down(\"sm\"))\n\n\tconst {\n\t\tisNewBondOpen,\n\t\tsetNewBondOpen,\n\t\ttoUnbond,\n\t\tsetToUnbond,\n\t\ttoRestake,\n\t\tsetToRestake,\n\t\topenErr,\n\t\topenDoingTx,\n\t\tsnackbarErr,\n\t\tstats,\n\t\tconnectWallet,\n\t\tsetConnectWallet,\n\t\tchosenWalletType,\n\t\twrapDoingTxns,\n\t\tonRequestUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake,\n\t\thandleErrClose,\n\t\tgetSigner,\n\t\tprices,\n\t\tonWalletTypeSelect,\n\t\tsnackHooks,\n\t\tchainWarning,\n\t\tnewBondPool,\n\t\tsetNewBondPool,\n\t\tlegacySwapInPrg,\n\t\tsetLegacySwapInPrg,\n\t\tlegacySwapOpen,\n\t\tsetLegacySwapInOpen,\n\t\tidlePopupOpen,\n\t\tonIdleDialogAction\n\t} = useContext(AppContext)\n\n\tconst drawer = SideNav({\n\t\tprices,\n\t\tstats,\n\t\tonRequestUnbond: setToUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake: setToRestake,\n\t\tsetConnectWallet\n\t})\n\n\tconst container = window !== undefined ? document.body : undefined\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AppToolbar\n\t\t\t\tchosenWalletType={chosenWalletType}\n\t\t\t\tsetConnectWallet={setConnectWallet}\n\t\t\t\tsetNewBondOpen={setNewBondOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t\tstats={stats}\n\t\t\t/>\n\n\t\t\t<nav aria-label=\"side navigation\">\n\t\t\t\t<Drawer\n\t\t\t\t\tcontainer={container}\n\t\t\t\t\tvariant={isTempDrawer ? \"temporary\" : \"permanent\"}\n\t\t\t\t\tanchor=\"left\"\n\t\t\t\t\topen={isTempDrawer ? mobileOpen : true}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</nav>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<MigrateNowAlert />\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/stakings\">\n\t\t\t\t\t\t\t<Stakings />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/gasless\">\n\t\t\t\t\t\t\t<Gasless />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/rewards\">\n\t\t\t\t\t\t\t<Rewards />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/farm\">\n\t\t\t\t\t\t\t<Farm />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/stats\">\n\t\t\t\t\t\t\t<Stats />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t\t<Pools />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t{// Load stats first to prevent simultanious calls to getSigner\n\t\t\t\t\tLegacyADXSwapDialog(\n\t\t\t\t\t\tstats.loaded ? getSigner : null,\n\t\t\t\t\t\twrapDoingTxns,\n\t\t\t\t\t\tchosenWalletType,\n\t\t\t\t\t\tlegacySwapInPrg,\n\t\t\t\t\t\tsetLegacySwapInPrg,\n\t\t\t\t\t\tlegacySwapOpen,\n\t\t\t\t\t\tsetLegacySwapInOpen\n\t\t\t\t\t)}\n\n\t\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\t\tisOpen: !!toUnbond,\n\t\t\t\t\t\tonDeny: () => setToUnbond(null),\n\t\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\t\tif (toUnbond) onRequestUnbond(toUnbond)\n\t\t\t\t\t\t\tsetToUnbond(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfirmActionName: t(\"common.unbond\"),\n\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\ti18nKey=\"dialogs.bondToV5MigrationConfirmation\"\n\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\tamount: formatADXPretty(\n\t\t\t\t\t\t\t\t\t\ttoUnbond ? toUnbond.currentAmount : ZERO\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>,\n\t\t\t\t\t\t\t\t\tol: <ol></ol>,\n\t\t\t\t\t\t\t\t\tli: <li></li>\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\t\tisOpen: !!toRestake,\n\t\t\t\t\t\tonDeny: () => setToRestake(null),\n\t\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\t\tif (toRestake) onRestake()\n\t\t\t\t\t\t\tsetToRestake(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfirmActionName: t(\"common.reStake\"),\n\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\ti18nKey=\"dialogs.reStakeConfirmation\"\n\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\tamount: formatADXPretty(toRestake ? toRestake : ZERO),\n\t\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS,\n\t\t\t\t\t\t\t\t\textraInfo: !stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t\t\t? t(\"dialogs.reActivatingInfo\")\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t\t{ChooseWallet({\n\t\t\t\t\t\topen: !!connectWallet,\n\t\t\t\t\t\thandleClose: () => {\n\t\t\t\t\t\t\tsetConnectWallet(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\thandleListItemClick: onWalletTypeSelect,\n\t\t\t\t\t\tdisableNonBrowserWallets: !REACT_APP_RPC_URL\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Snackbar\n\t\t\t\t\t\topen={openErr}\n\t\t\t\t\t\tautoHideDuration={10000}\n\t\t\t\t\t\tonClose={handleErrClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tid={`err-aler-${toIdAttributeString(snackbarErr)}`}\n\t\t\t\t\t\t\tonClose={handleErrClose}\n\t\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\n\t\t\t\t\t\t\t\tsnackbarErr.msg || snackbarErr,\n\t\t\t\t\t\t\t\tObject.entries(snackbarErr.opts || {}).reduce(\n\t\t\t\t\t\t\t\t\t(opts, [key, value]) => {\n\t\t\t\t\t\t\t\t\t\topts[key] = t(value)\n\t\t\t\t\t\t\t\t\t\treturn opts\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Snackbar>\n\t\t\t\t\t<ShtarvolinkiSnack {...snackHooks} />\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={isNewBondOpen}\n\t\t\t\t\t\tonClose={() => setNewBondOpen(false)}\n\t\t\t\t\t\tclassName={classes.modal}\n\t\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tBackdropProps={{\n\t\t\t\t\t\t\ttimeout: 300\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={isNewBondOpen}>\n\t\t\t\t\t\t\t{NewBondForm({\n\t\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\t\tsetNewBondPool,\n\t\t\t\t\t\t\t\tnewBondPool,\n\t\t\t\t\t\t\t\tpools: POOLS.filter(x => x.selectable),\n\t\t\t\t\t\t\t\tonNewBond: async bond => {\n\t\t\t\t\t\t\t\t\tsetNewBondOpen(false)\n\t\t\t\t\t\t\t\t\tawait wrapDoingTxns(\n\t\t\t\t\t\t\t\t\t\tcreateNewBond.bind(null, stats, chosenWalletType, bond)\n\t\t\t\t\t\t\t\t\t)()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tchosenWalletType,\n\t\t\t\t\t\t\t\tisEarly: stats.userBonds.find(\n\t\t\t\t\t\t\t\t\tx => x.nonce.toNumber() < 1597276800\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={chainWarning}\n\t\t\t\t\t\taria-labelledby=\"alert-chain-warning-title\"\n\t\t\t\t\t\taria-describedby=\"alert-chain-description\"\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tclassName={clsx(classes.modal, classes.alwaysOnTop)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={chainWarning}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Alert severity=\"warning\">\n\t\t\t\t\t\t\t\t\t<AlertTitle id=\"alert-chain-warning-title\">\n\t\t\t\t\t\t\t\t\t\t{t(\"messages.unsupportedEthNetwork\")}\n\t\t\t\t\t\t\t\t\t</AlertTitle>\n\t\t\t\t\t\t\t\t\t<Box id=\"alert-chain-description\">\n\t\t\t\t\t\t\t\t\t\t{t(\"messages.connectToMainnet\")}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={idlePopupOpen}\n\t\t\t\t\t\taria-labelledby=\"alert-user-idle-title\"\n\t\t\t\t\t\taria-describedby=\"alert-user-idle-description\"\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tclassName={clsx(classes.modal, classes.alwaysOnTop)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={idlePopupOpen}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tseverity=\"info\"\n\t\t\t\t\t\t\t\t\taction={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={onIdleDialogAction}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t(\"messages.continueSession\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"messages.useIdleTitle\", {\n\t\t\t\t\t\t\t\t\t\tminutes: IDLE_TIMEOUT_MINUTES\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={openDoingTx}\n\t\t\t\t\t\taria-labelledby=\"info-doingTx\"\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\t\tclassName={clsx(classes.modal)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={openDoingTx}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Alert severity=\"info\">\n\t\t\t\t\t\t\t\t\t<Box id=\"info-doingTx\" p={2}>\n\t\t\t\t\t\t\t\t\t\t{t(\"messages.signAllTransactions\", {\n\t\t\t\t\t\t\t\t\t\t\twallet: chosenWalletType.name || \"\"\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<StakeNowPopup />\n\t\t\t\t\t<MigrateNowPopup />\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n","import React from \"react\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tList,\n\tListItem,\n\tListItemText,\n\tAvatar,\n\tListItemIcon\n} from \"@material-ui/core\"\nimport { Wallets, METAMASK } from \"../helpers/constants\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function ChooseWallet({\n\thandleListItemClick,\n\thandleClose,\n\topen,\n\tdisableNonBrowserWallets\n}) {\n\tconst { t } = useTranslation()\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<DialogTitle id=\"simple-dialog-title\">\n\t\t\t\t{t(\"dialogs.selectWallet\")}\n\t\t\t</DialogTitle>\n\t\t\t<List>\n\t\t\t\t{Wallets.map(({ icon, name = \"\", extraLabel }) => (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tid={`connect-wallet-select-${toIdAttributeString(name)}`}\n\t\t\t\t\t\tdisabled={disableNonBrowserWallets && name !== METAMASK}\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tonClick={() => handleListItemClick(name)}\n\t\t\t\t\t\tkey={name}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<Avatar src={icon} />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t(\"dialogs.connectWith\", {\n\t\t\t\t\t\t\t\twallet: name\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\textraLabel\n\t\t\t\t\t\t\t\t\t? t(extraLabel.message || \"\", extraLabel.data || {})\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</List>\n\t\t</Dialog>\n\t)\n}\n","import { LedgerConnector } from \"@web3-react/ledger-connector\"\nimport { TrezorConnector } from \"@web3-react/trezor-connector\"\nimport { InjectedConnector } from \"@web3-react/injected-connector\"\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\"\nimport { REACT_APP_RPC_URL } from \"../helpers/constants\"\n\nconst POLLING_INTERVAL = 13000\n\nexport const injected = new InjectedConnector({\n\tsupportedChainIds: [1, 3, 4, 5, 42]\n})\n\nexport const ledger = new LedgerConnector({\n\tchainId: 1,\n\turl: REACT_APP_RPC_URL,\n\tpollingInterval: POLLING_INTERVAL\n})\n\nexport const trezor = new TrezorConnector({\n\tchainId: 1,\n\turl: REACT_APP_RPC_URL,\n\tpollingInterval: POLLING_INTERVAL,\n\tmanifestEmail: \"contactus@adex.network\",\n\tmanifestAppUrl: \"https://adex.network\"\n})\n\nexport const walletconnect = new WalletConnectConnector({\n\trpc: { 1: REACT_APP_RPC_URL },\n\tbridge: \"https://bridge.walletconnect.org\",\n\tqrcode: true,\n\tpollingInterval: POLLING_INTERVAL\n})\n","import { useEffect, useState, useCallback } from \"react\"\nimport { useWeb3React, UnsupportedChainIdError } from \"@web3-react/core\"\nimport {\n\tNoEthereumProviderError,\n\tUserRejectedRequestError as UserRejectedRequestErrorInjected\n} from \"@web3-react/injected-connector\"\nimport { useIdleTimer } from \"react-idle-timer\"\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from \"@web3-react/walletconnect-connector\"\nimport { getSigner } from \"./ethereum\"\nimport {\n\tWALLET_CONNECT,\n\tMETAMASK,\n\tTREZOR,\n\tLEDGER,\n\tSUPPORTED_CHAINS,\n\tIDLE_TIMEOUT_MINUTES\n} from \"./helpers/constants\"\nimport { injected, trezor, ledger, walletconnect } from \"./helpers/connector\"\nimport {\n\tEMPTY_STATS,\n\tloadStats,\n\tonUnbondOrRequest,\n\tclaimRewards,\n\trestake,\n\tgetPrices,\n\treBond,\n\tonMigrationToV5Finalize\n} from \"./actions\"\nimport { useInactiveListener } from \"./helpers/hooks\"\nimport { useSnack } from \"./Snack\"\n\nconst REFRESH_INTVL = 300_000 // 300sec\nconst REFRESH_INTVL_WALLET = 60_000 // 60sec\nconst IDLE_TIMEOUT = IDLE_TIMEOUT_MINUTES * 60 * 1000\n\nconst connectorsByName = {\n\t[METAMASK]: injected,\n\t[WALLET_CONNECT]: walletconnect,\n\t[TREZOR]: trezor,\n\t[LEDGER]: ledger\n}\n\nfunction tryGetErrMessage(error) {\n\tif (error && error.message) {\n\t\treturn error.message\n\t} else if (typeof error === \"string\") {\n\t\treturn error\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction getErrorMessage(error) {\n\tif (error instanceof NoEthereumProviderError) {\n\t\treturn \"errors.noEthBrowserDetected\"\n\t} else if (error instanceof UnsupportedChainIdError) {\n\t\treturn \"errors.connectedToUnsupportedNetwork\"\n\t} else if (\n\t\terror instanceof UserRejectedRequestErrorInjected ||\n\t\terror instanceof UserRejectedRequestErrorWalletConnect\n\t) {\n\t\treturn \"errors.siteNotAuth\"\n\t} else if (tryGetErrMessage(error)) {\n\t\tconsole.error(error)\n\t\treturn tryGetErrMessage(error)\n\t} else {\n\t\tconsole.error(error)\n\t\treturn \"errors.unknownCheckConsole\"\n\t}\n}\n\nexport default function useApp() {\n\tconst { addSnack, ...snackHooks } = useSnack()\n\tconst {\n\t\tlibrary,\n\t\tactivate,\n\t\terror,\n\t\tdeactivate,\n\t\tchainId,\n\t\taccount\n\t} = useWeb3React()\n\n\tconst [isNewBondOpen, setNewBondOpen] = useState(false)\n\tconst [toUnbond, setToUnbond] = useState(null)\n\tconst [toRestake, setToRestake] = useState(null)\n\tconst [openErr, setOpenErr] = useState(false)\n\tconst [openDoingTx, setOpenDoingTx] = useState(false)\n\tconst [snackbarErr, setSnackbarErr] = useState(\"errors.unexpectedError\")\n\tconst [stats, setStats] = useState(EMPTY_STATS)\n\tconst [connectWallet, setConnectWallet] = useState(null)\n\tconst [chosenWalletTypeName, setChosenWalletTypeName] = useState(null)\n\tconst [chosenWalletType, setChosenWalletType] = useState({})\n\tconst [prices, setPrices] = useState({})\n\tconst [chainWarning, setChainWarning] = useState(false)\n\tconst [newBondPool, setNewBondPool] = useState(null)\n\tconst [legacySwapInPrg, setLegacySwapInPrg] = useState(false)\n\tconst [legacySwapOpen, setLegacySwapInOpen] = useState(false)\n\tconst [refreshCount, setRefreshCount] = useState(0)\n\tconst [userIdle, setUserIdle] = useState(false)\n\tconst [idlePopupOpen, setIdlePopupOpen] = useState(false)\n\n\tuseInactiveListener(!!connectWallet)\n\n\tconst handleOnIdle = () => {\n\t\tsetUserIdle(true)\n\t\tsetIdlePopupOpen(true)\n\t}\n\n\tconst onIdleDialogAction = () => {\n\t\tsetIdlePopupOpen(false)\n\t\tsetUserIdle(false)\n\t}\n\n\tuseIdleTimer({\n\t\ttimeout: IDLE_TIMEOUT,\n\t\tonIdle: handleOnIdle,\n\t\tdebounce: 500\n\t})\n\n\tconst refreshStats = useCallback(async () => {\n\t\tif (userIdle) return\n\n\t\tconst newPrices =\n\t\t\t!Object.keys(prices) || refreshCount % 3 === 0\n\t\t\t\t? await getPrices()\n\t\t\t\t: prices\n\t\tconst updatePrices = newPrices !== prices\n\n\t\ttry {\n\t\t\tconst newStats = await loadStats(\n\t\t\t\tchosenWalletType,\n\t\t\t\tupdatePrices ? newPrices : prices\n\t\t\t)\n\t\t\tsetRefreshCount(refreshCount + 1)\n\t\t\tsetStats(newStats)\n\t\t\tif (updatePrices) {\n\t\t\t\tsetPrices(newPrices)\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"loadStats\", e)\n\t\t\tif (e.code === 4001) {\n\t\t\t\tsetSnackbarErr(\"errors.authDeniedByUser\")\n\t\t\t} else {\n\t\t\t\tsetSnackbarErr({\n\t\t\t\t\tmsg: \"errors.loadingStats\",\n\t\t\t\t\topts: { error: !!e ? e.message || e.toString() : \"\" }\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tsetOpenErr(true)\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [userIdle, chosenWalletType, refreshCount, prices])\n\n\tuseEffect(() => {\n\t\trefreshStats()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletType])\n\n\tuseEffect(() => {\n\t\tconst intvl = setInterval(\n\t\t\trefreshStats,\n\t\t\tchosenWalletType.name ? REFRESH_INTVL_WALLET : REFRESH_INTVL\n\t\t)\n\t\treturn () => clearInterval(intvl)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletType.name, refreshStats])\n\n\tuseEffect(() => {\n\t\tif (!!chainId && !SUPPORTED_CHAINS.some(chain => chainId === chain.id)) {\n\t\t\tsetChainWarning(true)\n\t\t} else {\n\t\t\tsetChainWarning(false)\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletTypeName, chainId, account])\n\n\tuseEffect(() => {\n\t\tif (!!error) {\n\t\t\tsetSnackbarErr(getErrorMessage(error))\n\t\t\tsetOpenErr(true)\n\t\t\tdeactivate()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error])\n\n\tconst wrapDoingTxns = fn => async (...args) => {\n\t\ttry {\n\t\t\tsetOpenDoingTx(true)\n\t\t\tsetOpenErr(false)\n\t\t\tconst res = await fn.apply(null, args)\n\t\t\tsetOpenDoingTx(false)\n\t\t\treturn res\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tsetOpenDoingTx(false)\n\t\t\tsetSnackbarErr(\n\t\t\t\te.values\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tmsg: e.message || \"errors.unknownError\",\n\t\t\t\t\t\t\topts: e.values || {}\n\t\t\t\t\t  }\n\t\t\t\t\t: e.message || \"errors.unknownError\"\n\t\t\t)\n\t\t\tsetOpenErr(true)\n\t\t}\n\t}\n\tconst onRequestUnbond = wrapDoingTxns(\n\t\tonUnbondOrRequest.bind(null, false, chosenWalletType)\n\t)\n\n\tconst onUnbond = wrapDoingTxns(\n\t\tonUnbondOrRequest.bind(null, true, chosenWalletType)\n\t)\n\tconst onMigrationFinalize = wrapDoingTxns(\n\t\tonMigrationToV5Finalize.bind(null, chosenWalletType)\n\t)\n\tconst onRebond = wrapDoingTxns(reBond.bind(null, chosenWalletType))\n\tconst onClaimRewards = wrapDoingTxns(\n\t\tclaimRewards.bind(null, chosenWalletType)\n\t)\n\tconst onRestake = wrapDoingTxns(restake.bind(null, chosenWalletType, stats))\n\tconst handleErrClose = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\t\tsetOpenErr(false)\n\t}\n\n\tconst onWalletTypeSelect = async walletTypeName => {\n\t\tsetChosenWalletTypeName(walletTypeName)\n\t\tsetConnectWallet(null)\n\t\tconsole.log(\"activating\")\n\t\tawait activate(connectorsByName[walletTypeName])\n\t}\n\n\tuseEffect(() => {\n\t\tasync function updateWalletType() {\n\t\t\tif (library && chosenWalletTypeName) {\n\t\t\t\tconst newWalletType = { name: chosenWalletTypeName, library }\n\t\t\t\tconst signer = await getSigner(newWalletType)\n\n\t\t\t\tif (signer) {\n\t\t\t\t\tsetChosenWalletType(newWalletType)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateWalletType()\n\t}, [library, chosenWalletTypeName])\n\n\treturn {\n\t\tisNewBondOpen,\n\t\tsetNewBondOpen,\n\t\ttoUnbond,\n\t\tsetToUnbond,\n\t\tonRebond,\n\t\tonMigrationFinalize,\n\t\ttoRestake,\n\t\tsetToRestake,\n\t\topenErr,\n\t\tsetOpenErr,\n\t\topenDoingTx,\n\t\tsetOpenDoingTx,\n\t\tsnackbarErr,\n\t\tsetSnackbarErr,\n\t\tstats,\n\t\tconnectWallet,\n\t\tsetConnectWallet,\n\t\tchosenWalletType,\n\t\trefreshStats,\n\t\twrapDoingTxns,\n\t\tonRequestUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake,\n\t\thandleErrClose,\n\t\tgetSigner,\n\t\tprices,\n\t\tonWalletTypeSelect,\n\t\taddSnack,\n\t\tsnackHooks,\n\t\tchainId,\n\t\taccount,\n\t\tchainWarning,\n\t\tnewBondPool,\n\t\tsetNewBondPool,\n\t\tlegacySwapInPrg,\n\t\tsetLegacySwapInPrg,\n\t\tlegacySwapOpen,\n\t\tsetLegacySwapInOpen,\n\t\tidlePopupOpen,\n\t\tonIdleDialogAction,\n\t\tuserIdle\n\t}\n}\n","import { useEffect } from \"react\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { injected } from \"./connector\"\n\nexport function useInactiveListener(suppress) {\n\tconst { active, error, activate } = useWeb3React()\n\n\tconst handleConnect = () => {\n\t\tconsole.log(\"Handling 'connect' event\")\n\t\tactivate(injected)\n\t}\n\n\tconst handleChainChanged = chainId => {\n\t\tconsole.log(\"Handling 'chainChanged' event with payload\", chainId)\n\t\tactivate(injected)\n\t}\n\n\tconst handleAccountsChanged = accounts => {\n\t\tconsole.log(\"Handling 'accountsChanged' event with payload KOR\", accounts)\n\t\tif (active && accounts.length > 0) {\n\t\t\twindow.location.reload()\n\t\t}\n\t}\n\n\tconst handleNetworkChanged = networkId => {\n\t\tconsole.log(\"Handling 'networkChanged' event with payload\", networkId)\n\t\tactivate(injected)\n\t}\n\n\tuseEffect(() => {\n\t\tconst { ethereum } = window\n\n\t\tif (ethereum && ethereum.on) {\n\t\t\tethereum.on(\"connect\", handleConnect)\n\t\t\tethereum.on(\"chainChanged\", handleChainChanged)\n\t\t\tethereum.on(\"accountsChanged\", handleAccountsChanged)\n\t\t\tethereum.on(\"networkChanged\", handleNetworkChanged)\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (ethereum && ethereum.removeListener) {\n\t\t\t\tethereum.removeListener(\"connect\", handleConnect)\n\t\t\t\tethereum.removeListener(\"chainChanged\", handleChainChanged)\n\t\t\t\tethereum.removeListener(\"accountsChanged\", handleAccountsChanged)\n\t\t\t\tethereum.removeListener(\"networkChanged\", handleNetworkChanged)\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error, active, suppress])\n}\n","import React, { useContext } from \"react\"\nimport { LinearProgress, Box } from \"@material-ui/core\"\nimport logo from \"../resources/staking-logo.svg\"\nimport logoLight from \"../resources/logo-light-theme.svg\"\nimport { MultiThemeContext } from \"../MultiThemeProvider\"\n\nexport default function Loading() {\n\tconst { themeType } = useContext(MultiThemeContext)\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\twidth=\"100vw\"\n\t\t\theight=\"100vh\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t>\n\t\t\t<Box mb={1}>\n\t\t\t\t<img\n\t\t\t\t\twidth=\"200px\"\n\t\t\t\t\tsrc={themeType === \"dark\" ? logo : logoLight}\n\t\t\t\t\t// src={logo}\n\t\t\t\t\talt=\"adex-staking-logo\"\n\t\t\t\t></img>\n\t\t\t</Box>\n\t\t\t<Box width={200}>\n\t\t\t\t<LinearProgress color=\"secondary\" />\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { Suspense } from \"react\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport { HashRouter as Router } from \"react-router-dom\"\nimport { Web3ReactProvider } from \"@web3-react/core\"\nimport { ethers } from \"ethers\"\nimport Root from \"./components/Root\"\nimport AppContext from \"./AppContext\"\nimport ValidatorStatsContext from \"./ValidatorStatsContext\"\nimport useApp from \"./AppHooks\"\nimport useValidatorStats from \"./ValidatorStatsHooks\"\nimport Loading from \"./components/Loading\"\nimport MultiThemeProvider from \"./MultiThemeProvider\"\nimport { FarmProvider } from \"./FarmProvider\"\nimport \"./App.css\"\n\nconst App = () => {\n\tconst appHooks = useApp()\n\tconst validatorStatsHooks = useValidatorStats()\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<AppContext.Provider value={appHooks}>\n\t\t\t\t<FarmProvider>\n\t\t\t\t\t<ValidatorStatsContext.Provider value={validatorStatsHooks}>\n\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</ValidatorStatsContext.Provider>\n\t\t\t\t</FarmProvider>\n\t\t\t</AppContext.Provider>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default () => (\n\t<MultiThemeProvider>\n\t\t<CssBaseline />\n\t\t<Suspense fallback={<Loading />}>\n\t\t\t<Web3ReactProvider\n\t\t\t\tgetLibrary={provider => new ethers.providers.Web3Provider(provider)}\n\t\t\t>\n\t\t\t\t<App />\n\t\t\t</Web3ReactProvider>\n\t\t</Suspense>\n\t</MultiThemeProvider>\n)\n","import { useEffect, useState } from \"react\"\nimport { getValidatorStatsByPoolId } from \"./actions/pools\"\n\nexport default function ValidatorStatsHooks() {\n\tconst [poolId, setPoolId] = useState(\"\")\n\tconst [pool, setPool] = useState({})\n\tconst [statsByPoolId, setStatsByPoolId] = useState({})\n\tconst [stats, setStats] = useState({})\n\n\tconst loaded = !!Object.keys(stats).length\n\n\tuseEffect(() => {\n\t\tif (!statsByPoolId[poolId]) {\n\t\t\tconst newStats = { ...setStatsByPoolId }\n\t\t\tnewStats[poolId] = {}\n\t\t\tsetStatsByPoolId(newStats)\n\t\t\tsetStats(newStats[poolId])\n\n\t\t\tconst updatePoolStats = async () => {\n\t\t\t\tconst stats = await getValidatorStatsByPoolId(poolId)()\n\t\t\t\tconst newStats = { ...setStatsByPoolId }\n\t\t\t\tnewStats[poolId] = stats\n\t\t\t\tsetStatsByPoolId(newStats)\n\t\t\t\tsetStats(newStats[poolId])\n\t\t\t}\n\t\t\tupdatePoolStats()\n\t\t}\n\t}, [poolId, statsByPoolId])\n\n\treturn {\n\t\tloaded,\n\t\tpoolId,\n\t\tsetPoolId,\n\t\tpool,\n\t\tsetPool,\n\t\tstatsByPoolId,\n\t\tsetStatsByPoolId,\n\t\tstats,\n\t\tsetStats\n\t}\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import i18n from \"i18next\"\nimport { initReactI18next } from \"react-i18next\"\n\nimport Backend from \"i18next-http-backend\"\nimport LanguageDetector from \"i18next-browser-languagedetector\"\n// don't want to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\ni18n\n\t// load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n\t// learn more: https://github.com/i18next/i18next-http-backend\n\t.use(Backend)\n\t// detect user language\n\t// learn more: https://github.com/i18next/i18next-browser-languageDetector\n\t.use(LanguageDetector)\n\t// pass the i18n instance to react-i18next.\n\t.use(initReactI18next)\n\t// init i18next\n\t// for all options read: https://www.i18next.com/overview/configuration-options\n\t.init({\n\t\tbackend: {\n\t\t\t// for all available options read the backend's repository readme file\n\t\t\tloadPath: \"/locales/{{lng}}/{{ns}}.json\"\n\t\t},\n\t\tfallbackLng: \"en\",\n\t\tdefaultNS: \"translation\",\n\t\tdebug: true,\n\t\tkeySeparator: \".\",\n\t\tinterpolation: {\n\t\t\tescapeValue: false // not needed for react as it escapes by default\n\t\t}\n\t})\n\nexport default i18n\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nimport \"./i18n\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", {\n  id: \"defs4\"\n}, /*#__PURE__*/React.createElement(\"style\", {\n  id: \"style2\"\n}, \".cls-1{fill:#1b75bc;}.cls-2{fill:#3c3c3b;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"title\", {\n  id: \"title6\"\n}, \"adex-vector-logo\");\n\nvar SvgAdexLogoClean = function SvgAdexLogoClean(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 765.98 765.98\",\n    id: \"svg16\",\n    ref: svgRef\n  }, props), _ref2, title === undefined ? _ref3 : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: \"title6\"\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\",\n    transform: \"translate(152)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1-2\",\n    \"data-name\": \"Layer 1\"\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"87.67,617.65 235.13,470.2 382.58,617.65 470.25,529.98 322.8,382.53 470.25,235.08 382.58,147.4 235.13,294.85 87.67,147.4 0,235.08 147.45,382.53 0,529.98 \",\n    id: \"polygon8\",\n    style: {\n      fill: \"#1b75bc\"\n    }\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"183.93 51.2 97.82 137.31 170.36 209.85 235.13 144.3 299.89 209.85 372.44 137.31 286.33 51.2 235.13 0 183.93 51.2\",\n    id: \"polyline10\",\n    style: {\n      fill: \"#3c3c3b\"\n    }\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"183.93 714.78 97.82 628.67 170.36 556.13 235.13 621.67 299.89 556.13 372.44 628.67 286.33 714.78 235.13 765.98 183.93 714.78\",\n    id: \"polyline12\",\n    style: {\n      fill: \"#3c3c3b\"\n    }\n  }))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAdexLogoClean, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/adex-logo-clean.9a6cff4c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25.81,123.07c-6.88,0-13.75,0-20.63,0a4.81,4.81,0,0,1-4.79-3.19,4.94,4.94,0,0,1,1.15-5.51,5.24,5.24,0,0,1,4.12-1.45q18,0,36,0c2.85,0,2.83,0,2.21-2.84a71,71,0,0,1,1.67-37.22,13.43,13.43,0,0,0,.65-4.74c-.6-12.82-2.17-25.57-3-38.37-.51-7.77-1-15.55.16-23.32a17.14,17.14,0,0,1,.36-1.73c1-4.15,2.48-5.09,6.64-4.35,6.88,1.24,13.07,4.18,18.93,7.86A102.65,102.65,0,0,1,89,24.93a2.66,2.66,0,0,0,3.23.77,70.38,70.38,0,0,1,44.8,0,2.51,2.51,0,0,0,3.06-.74c7.51-7.75,15.56-14.84,25.23-19.83A49.65,49.65,0,0,1,180,.12c2.64-.44,4,.32,5,2.88a25.67,25.67,0,0,1,1.49,8.54c.35,9-.37,17.92-1.11,26.86s-1.65,18.07-2.21,27.13a32.38,32.38,0,0,0,1.5,10.72,70.6,70.6,0,0,1,.57,34.45c-.5,2.22-.52,2.22,1.84,2.22q18.3,0,36.6,0c3.1,0,5.22,1.81,5.44,4.57a5,5,0,0,1-5.09,5.56c-4.67.06-9.35,0-14,0H183.6c-.54,0-1.08,0-1.61,0-.86.07-1.16.76-1.31,1.44-.19.87.61.87,1.15,1l24.91,6.66c.62.16,1.25.31,1.86.51a5,5,0,0,1,3.58,6.42,5.1,5.1,0,0,1-6.45,3.31c-4.57-1.2-9.13-2.44-13.7-3.66-5.08-1.37-10.18-2.7-15.25-4.12a1.86,1.86,0,0,0-2.42.88,41.55,41.55,0,0,1-2.6,3.49,1.22,1.22,0,0,0,.09,1.93q7.92,7.81,15.79,15.67c1.22,1.21,2.49,2.37,3.69,3.59a5.24,5.24,0,0,1,.29,7.52c-2.09,2.14-5.09,2.1-7.45-.23q-9.28-9.19-18.48-18.46c-1.56-1.56-1.59-1.58-3.18-.18a70.5,70.5,0,0,1-38.6,17.52A71.48,71.48,0,0,1,76.62,156.3a63,63,0,0,1-9.91-7.43c-1.13-1-2-1-3.12.11-6,6.13-12.14,12.18-18.22,18.27-1.26,1.26-2.65,2.22-4.53,2A4.84,4.84,0,0,1,36.47,166a5.12,5.12,0,0,1,1.35-5.63c2.27-2.28,4.61-4.49,6.9-6.76,4.12-4.09,8.2-8.22,12.35-12.27.94-.91,1-1.57.16-2.54a18.77,18.77,0,0,1-2.21-3c-.74-1.28-1.63-1.37-3-1-9.48,2.6-19,5.13-28.48,7.67a5.13,5.13,0,0,1-6-7.66,6,6,0,0,1,3.77-2.28q12.69-3.36,25.38-6.78c.67-.18,1.88,0,1.77-1.16s-1.07-1.52-2.24-1.51c-6.83,0-13.65,0-20.48,0Zm88.65,9.27c.68.22.6.74.73,1.11a31.42,31.42,0,0,0,2.19,5c3.33,6,8.82,8.25,15.14,5.72,8.42-3.38,13-10,14.63-18.81,1-5.23-1.31-8.69-5.68-11.13a25.34,25.34,0,0,0-4.68-2.14c-13.68-4.33-27.48-4.32-41.33-1a25.5,25.5,0,0,0-10,4.61c-2.53,2-4,4.49-3.66,7.8.86,9.11,5.36,15.88,13.42,20.09,4.56,2.37,9.24,2.32,13.44-1.15a17,17,0,0,0,4.6-6.9C113.67,134.5,114.05,133.42,114.46,132.34ZM82.2,88.18a7.38,7.38,0,0,0-7.49,7.41,7.5,7.5,0,1,0,15,.14A7.39,7.39,0,0,0,82.2,88.18Zm64.73,0a7.37,7.37,0,0,0-7.42,7.47,7.47,7.47,0,0,0,7.38,7.57,7.64,7.64,0,0,0,7.62-7.56A7.39,7.39,0,0,0,146.93,88.18Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M114.68,111.67A26.83,26.83,0,0,1,122,112.8c1.84.68,2.23,1.36,2.05,3.3-.47,4.94-4.66,8.94-9.37,8.94a9.82,9.82,0,0,1-9.42-8.89c-.2-2,.21-2.71,2.15-3.39A27.63,27.63,0,0,1,114.68,111.67Z\"\n})));\n\nvar SvgTomIc = function SvgTomIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 229.17 169.33\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTomIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tom-ic.13f67482.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#3c3c3c;}.cls-2{fill:#ff4266;}\\n\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"63.93 50.11 73.68 59.86 82.38 51.05 91.09 59.86 100.84 50.11 89.26 38.54 82.38 31.66 75.5 38.54 63.93 50.11\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"82.38 115.21 73.68 106.4 63.93 116.15 75.5 127.72 82.38 134.6 89.26 127.72 100.84 116.15 91.09 106.4 82.38 115.21\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"115.19 82.27 106.49 73.46 96.74 83.21 108.31 94.78 115.19 101.66 122.07 94.78 133.65 83.21 123.9 73.46 115.19 82.27\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"68.03 83.21 58.28 73.46 49.58 82.27 40.87 73.46 31.12 83.21 42.69 94.78 49.58 101.66 56.46 94.78 68.03 83.21\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"113.98 19.39 122.69 28.2 132.44 18.45 120.86 6.88 113.98 0 107.1 6.88 95.53 18.45 105.28 28.2 113.98 19.39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"50.78 19.39 59.49 28.2 69.24 18.45 57.66 6.88 50.78 0 43.9 6.88 32.33 18.45 42.08 28.2 50.78 19.39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"18.72 51.41 27.22 43.01 17.81 33.6 6.64 44.77 0 51.41 6.64 58.05 17.81 69.22 27.22 59.81 18.72 51.41\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"158.13 44.77 146.95 33.6 137.54 43.01 146.05 51.41 137.54 59.81 146.95 69.22 158.13 58.05 164.77 51.41 158.13 44.77\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"70.6 19.81 50.78 39.63 30.97 19.81 19.19 31.59 39 51.41 19.19 71.22 29.65 81.69 81.06 30.27 70.6 19.81\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"145.58 31.59 133.8 19.81 113.98 39.63 94.2 19.84 83.75 30.3 135.13 81.67 145.58 71.22 125.76 51.41 145.58 31.59\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"95.39 81.84 95.39 81.84 113.98 63.25 113.95 63.22 113.96 63.21 102.18 51.43 82.38 71.22 82.41 71.25 82.38 71.29 82.35 71.25 82.38 71.22 62.6 51.44 50.79 63.26 70.6 83.07 69.21 84.46 69.2 84.45 50.75 102.9 50.78 102.94 50.81 102.91 62.57 114.67 82.38 94.85 102.2 114.67 113.95 102.91 113.98 102.94 114.01 102.92 94.16 83.07 95.39 81.84\"\n})));\n\nvar SvgLoyaltyIc = function SvgLoyaltyIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 164.77 134.6\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLoyaltyIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/loyalty-ic.c43ef8ac.svg\";\nexport { ForwardRef as ReactComponent };","module.exports = __webpack_public_path__ + \"static/media/staking-logo.7e002c99.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-light-theme.e5c2148e.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"balancer-bal\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"SVGID-2\",\n  \"data-name\": \"SVGID\",\n  d: \"M507.5,709C347.6,709,218,662.8,218,600.9c0-32.3,35.3-61.4,91.8-81.9,44.1,28.3,118.1,42.8,202,42.8,81.9,0,154.3-17.7,198.8-44.8,53.3,20.3,86.4,48.6,86.4,79.8,0,62-129.6,112.2-289.5,112.2Z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"SVGID-3\",\n  \"data-name\": \"SVGID\",\n  d: \"M509.2,547.9c-121.2,0-219.5-38-219.5-84.9,0-26,30.3-49.3,77.8-64.8,33.9,17.7,84.7,29,141.7,29s107.8-11.3,141.7-29c47.6,15.6,77.8,38.8,77.8,64.8.1,46.9-98.2,84.9-219.5,84.9Z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"SVGID-4\",\n  \"data-name\": \"SVGID\",\n  d: \"M508.4,413.1c-93.7,0-169.7-31.4-169.7-70s76-70,169.7-70,169.7,31.4,169.7,70-76,70-169.7,70Z\"\n});\n\nvar SvgBalancerBalLogo = function SvgBalancerBalLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1000 1000\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1-2\",\n    \"data-name\": \"Layer 1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"SVGID\",\n    d: \"M500,0c276.1,0,500,223.9,500,500s-223.9,500-500,500S0,776.1,0,500,223.9,0,500,0Z\",\n    style: {\n      fill: \"transparent\"\n    }\n  }), _ref3, _ref4, _ref5)));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBalancerBalLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/balancer-bal-logo.0afc9dd8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\n\\t.st0{fill:#FF007A;}\\n\\t.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#FF007A;}\\n\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M66,44.1c-2.1-0.3-2.2-0.4-1.2-0.5c1.9-0.3,6.3,0.1,9.4,0.8c7.2,1.7,13.7,6.1,20.6,13.8l1.8,2.1l2.6-0.4  c11.1-1.8,22.5-0.4,32,4c2.6,1.2,6.7,3.6,7.2,4.2c0.2,0.2,0.5,1.5,0.7,2.8c0.7,4.7,0.4,8.2-1.1,10.9c-0.8,1.5-0.8,1.9-0.3,3.2  c0.4,1,1.6,1.7,2.7,1.7c2.4,0,4.9-3.8,6.1-9.1l0.5-2.1l0.9,1c5.1,5.7,9.1,13.6,9.7,19.2l0.2,1.5l-0.9-1.3c-1.5-2.3-2.9-3.8-4.8-5.1  c-3.4-2.3-7-3-16.5-3.5c-8.6-0.5-13.5-1.2-18.3-2.8c-8.2-2.7-12.4-6.2-22.1-19.1c-4.3-5.7-7-8.8-9.7-11.4  C79.6,48.3,73.7,45.3,66,44.1z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M140.5,56.8c0.2-3.8,0.7-6.3,1.8-8.6c0.4-0.9,0.8-1.7,0.9-1.7c0.1,0-0.1,0.7-0.4,1.5c-0.8,2.2-0.9,5.3-0.4,8.8  c0.7,4.5,1,5.1,5.8,10c2.2,2.3,4.8,5.2,5.8,6.4l1.7,2.2l-1.7-1.6c-2.1-2-6.9-5.8-8-6.3c-0.7-0.4-0.8-0.4-1.3,0.1  c-0.4,0.4-0.5,1-0.5,3.9c-0.1,4.5-0.7,7.3-2.2,10.2c-0.8,1.5-0.9,1.2-0.2-0.5c0.5-1.3,0.6-1.9,0.6-6.2c0-8.7-1-10.8-7.1-14.3  c-1.5-0.9-4.1-2.2-5.6-2.9c-1.6-0.7-2.8-1.3-2.7-1.3c0.2-0.2,6.1,1.5,8.4,2.5c3.5,1.4,4.1,1.5,4.5,1.4  C140.2,60.1,140.4,59.3,140.5,56.8z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M70.1,71.7c-4.2-5.8-6.9-14.8-6.3-21.5l0.2-2.1l1,0.2c1.8,0.3,4.9,1.5,6.4,2.4c4,2.4,5.8,5.7,7.5,13.9  c0.5,2.4,1.2,5.2,1.5,6.1c0.5,1.5,2.4,5,4,7.2c1.1,1.6,0.4,2.4-2.1,2.2C78.5,79.7,73.4,76.2,70.1,71.7z\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M135.4,115.2c-19.8-8-26.8-14.9-26.8-26.6c0-1.7,0.1-3.1,0.1-3.1c0.1,0,0.8,0.6,1.7,1.3c4,3.2,8.5,4.6,21,6.4  c7.3,1.1,11.5,1.9,15.3,3.2c12.1,4,19.6,12.2,21.4,23.3c0.5,3.2,0.2,9.3-0.6,12.5c-0.7,2.5-2.7,7.1-3.2,7.2c-0.1,0-0.3-0.5-0.3-1.3  c-0.2-4.2-2.3-8.2-5.8-11.3C154,123.2,148.6,120.5,135.4,115.2z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M121.4,118.5c-0.2-1.5-0.7-3.4-1-4.2l-0.5-1.5l0.9,1.1c1.3,1.5,2.3,3.3,3.2,5.8c0.7,1.9,0.7,2.5,0.7,5.6  c0,3-0.1,3.7-0.7,5.4c-1,2.7-2.2,4.6-4.2,6.7c-3.6,3.7-8.3,5.7-15,6.6c-1.2,0.1-4.6,0.4-7.6,0.6c-7.5,0.4-12.5,1.2-17,2.8  c-0.6,0.2-1.2,0.4-1.3,0.3c-0.2-0.2,2.9-2,5.4-3.2c3.5-1.7,7.1-2.6,15-4c3.9-0.6,7.9-1.4,8.9-1.8C118.1,135.6,123,127.9,121.4,118.5  z\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M130.5,134.6c-2.6-5.7-3.2-11.1-1.8-16.2c0.2-0.5,0.4-1,0.6-1c0.2,0,0.8,0.3,1.4,0.7c1.2,0.8,3.7,2.2,10.1,5.7  c8.1,4.4,12.7,7.8,15.9,11.7c2.8,3.4,4.5,7.3,5.3,12.1c0.5,2.7,0.2,9.2-0.5,11.9c-2.2,8.5-7.2,15.3-14.5,19.2c-1.1,0.6-2,1-2.1,1  c-0.1,0,0.3-1,0.9-2.2c2.4-5.1,2.7-10,0.9-15.5c-1.1-3.4-3.4-7.5-8-14.4C133.2,139.6,131.9,137.5,130.5,134.6z\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M56,165.2c7.4-6.2,16.5-10.6,24.9-12c3.6-0.6,9.6-0.4,12.9,0.5c5.3,1.4,10.1,4.4,12.6,8.1  c2.4,3.6,3.5,6.7,4.6,13.6c0.4,2.7,0.9,5.5,1,6.1c0.8,3.6,2.4,6.4,4.4,7.9c3.1,2.3,8.5,2.4,13.8,0.4c0.9-0.3,1.7-0.6,1.7-0.5  c0.2,0.2-2.5,2-4.3,2.9c-2.5,1.3-4.5,1.7-7.2,1.7c-4.8,0-8.9-2.5-12.2-7.5c-0.7-1-2.1-3.9-3.3-6.6c-3.5-8.1-5.3-10.5-9.4-13.2  c-3.6-2.3-8.2-2.8-11.7-1.1c-4.6,2.2-5.8,8.1-2.6,11.7c1.3,1.5,3.7,2.7,5.7,3c3.7,0.5,6.9-2.4,6.9-6.1c0-2.4-0.9-3.8-3.3-4.9  c-3.2-1.4-6.7,0.2-6.6,3.3c0,1.3,0.6,2.1,1.9,2.7c0.8,0.4,0.8,0.4,0.2,0.3c-2.9-0.6-3.6-4.2-1.3-6.5c2.8-2.8,8.7-1.6,10.7,2.3  c0.8,1.6,0.9,4.8,0.2,6.8c-1.7,4.4-6.5,6.7-11.4,5.4c-3.3-0.9-4.7-1.8-8.7-5.9c-7-7.2-9.7-8.6-19.7-10.1l-1.9-0.3L56,165.2z\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st1\",\n  d: \"M3.4,4.3c23.3,28.3,59.2,72.3,61,74.7c1.5,2,0.9,3.9-1.6,5.3c-1.4,0.8-4.3,1.6-5.7,1.6c-1.6,0-3.5-0.8-4.8-2.1  c-0.9-0.9-4.8-6.6-13.6-20.3c-6.7-10.5-12.4-19.2-12.5-19.3C25.8,44,25.8,44,38,65.8C45.7,79.5,48.2,84.4,48.2,85c0,1.3-0.4,2-2,3.8  c-2.7,3-3.9,6.4-4.8,13.5c-1,7.9-3.7,13.5-11.4,23c-4.5,5.6-5.2,6.6-6.3,8.9c-1.4,2.8-1.8,4.4-2,8c-0.2,3.8,0.2,6.2,1.3,9.8  c1,3.2,2.1,5.3,4.8,9.4c2.3,3.6,3.7,6.3,3.7,7.3c0,0.8,0.2,0.8,3.8,0c8.6-2,15.7-5.4,19.6-9.6c2.4-2.6,3-4,3-7.6  c0-2.3-0.1-2.8-0.7-4.2c-1-2.2-2.9-4-7-6.8c-5.4-3.7-7.7-6.7-8.3-10.7c-0.5-3.4,0.1-5.7,3.1-12c3.1-6.5,3.9-9.2,4.4-15.8  c0.3-4.2,0.8-5.9,2-7.2c1.3-1.4,2.4-1.9,5.5-2.3c5.1-0.7,8.4-2,11-4.5c2.3-2.1,3.3-4.2,3.4-7.3l0.1-2.3L70.1,77C65.4,71.6,0.3,0,0,0  C-0.1,0,1.5,1.9,3.4,4.3z M34.1,146.5c1.1-1.9,0.5-4.3-1.3-5.5c-1.7-1.1-4.3-0.6-4.3,0.9c0,0.4,0.2,0.8,0.8,1c0.9,0.5,1,1,0.3,2.1  c-0.7,1.1-0.7,2.1,0.2,2.8C31.2,148.9,33.1,148.3,34.1,146.5z\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st1\",\n  d: \"M74.6,93.9c-2.4,0.7-4.7,3.3-5.4,5.9c-0.4,1.6-0.2,4.5,0.5,5.4c1.1,1.4,2.1,1.8,4.9,1.8  c5.5,0,10.2-2.4,10.7-5.3c0.5-2.4-1.6-5.7-4.5-7.2C79.3,93.7,76.2,93.4,74.6,93.9z M81,98.9c0.8-1.2,0.5-2.5-1-3.4  c-2.7-1.7-6.8-0.3-6.8,2.3c0,1.3,2.1,2.7,4.1,2.7C78.6,100.5,80.4,99.7,81,98.9z\"\n});\n\nvar SvgUniswapUniLogo = function SvgUniswapUniLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 168.3 193.8\",\n    style: {\n      enableBackground: \"new 0 0 168.3 193.8\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUniswapUniLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/uniswap-uni-logo.097c1dfb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(0,250) scale(0.100000,-0.100000)\",\n  fill: \"#000000\",\n  stroke: \"none\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1105 2489 c-530 -71 -950 -450 -1070 -964 -52 -224 -39 -454 39 -682 132 -388 463 -694 861 -798 213 -55 413 -55 630 0 414 105 761 439 879 847 30 103 56 271 56 358 0 87 -26 255 -56 358 -88 303 -315 584 -594 736 -215 117 -518 176 -745 145z m184 -555 c107 -54 231 -211 231 -293 0 -111 -134 -86 -270 48 -97 96 -140 195 -110 252 16 28 84 25 149 -7z m720 -336 c94 -71 131 -109 131 -134 0 -37 -30 -47 -74 -23 l-36 19 7 -27 c15 -54 8 -274 -11 -346 -44 -169 -109 -281 -230 -403 -135 -135 -280 -212 -460 -243 -172 -31 -421 7 -475 73 -16 19 -11 56 11 69 12 8 36 5 90 -12 50 -16 109 -25 189 -28 150 -7 238 11 378 79 90 43 115 61 190 136 160 161 231 332 231 552 l-1 95 -20 -27 c-24 -33 -54 -36 -69 -8 -8 16 -5 45 14 126 40 165 46 169 135 102z m-1318 -255 c108 -53 239 -216 239 -297 0 -106 -144 -81 -273 48 -176 176 -154 341 34 249z\"\n}));\n\nvar SvgYUsd = function SvgYUsd(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"250pt\",\n    height: \"250pt\",\n    viewBox: \"0 0 250 250\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgYUsd, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/yUSD.361ed961.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_x0020_1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"_1421394342400\"\n}, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#343434\",\n  fillRule: \"nonzero\",\n  points: \"392.07,0 383.5,29.11 383.5,873.74 392.07,882.29 784.13,650.54 \"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#8C8C8C\",\n  fillRule: \"nonzero\",\n  points: \"392.07,0 -0,650.54 392.07,882.29 392.07,472.33 \"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#3C3C3B\",\n  fillRule: \"nonzero\",\n  points: \"392.07,956.52 387.24,962.41 387.24,1263.28 392.07,1277.38 784.37,724.89 \"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#8C8C8C\",\n  fillRule: \"nonzero\",\n  points: \"392.07,1277.38 392.07,956.52 -0,724.89 \"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#141414\",\n  fillRule: \"nonzero\",\n  points: \"392.07,882.29 784.13,650.54 392.07,472.33 \"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#393939\",\n  fillRule: \"nonzero\",\n  points: \"0,650.54 392.07,882.29 392.07,472.33 \"\n}))));\n\nvar SvgEthLogo = function SvgEthLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlSpace: \"preserve\",\n    width: \"100%\",\n    height: \"100%\",\n    shapeRendering: \"geometricPrecision\",\n    textRendering: \"geometricPrecision\",\n    imageRendering: \"optimizeQuality\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    viewBox: \"0 0 784.37 1277.39\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEthLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/eth-logo.bcf81086.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"yearn-finance-yfi\");\n\nvar SvgYfiLogo = function SvgYfiLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1000 1000\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1-2\",\n    \"data-name\": \"Layer 1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"SVGID\",\n    d: \"M500,0c276.1,0,500,223.9,500,500s-223.9,500-500,500S0,776.1,0,500,223.9,0,500,0Z\",\n    style: {\n      fill: \"#006ae3\",\n      fillRule: \"evenodd\"\n    }\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    id: \"SVGID-2\",\n    \"data-name\": \"SVGID\",\n    points: \"479.4 710.8 479.4 294.8 524.7 294.8 524.7 710.8 479.4 710.8\",\n    style: {\n      fill: \"#fff\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"SVGID-3\",\n    \"data-name\": \"SVGID\",\n    d: \"M710,433.4,570.1,470.5,538.9,325.3l41.6-9.4,16.4,68.8s37.8-62-12.6-126.2c-29.7-33-43.8-34.4-77.1-39.6-29.3-4.2-97.4,5.7-117.7,85.2-8.6,51.2,1.1,89.1,67.1,138.7L452.9,498s-73.7-51.9-92.7-88.3c-14.7-28.8-39.9-85.7,5.6-164.9,24.5-39.6,72.8-77.6,157.9-73.6C566.5,173,671,225.3,654.8,347.5c-2.8,22.9-14.7,53.4-14.7,53.4l57.4-12.8L710,433.4Z\",\n    style: {\n      fill: \"#fff\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"SVGID-4\",\n    \"data-name\": \"SVGID\",\n    d: \"M630.1,758.9c-25.6,38.9-74.9,75.6-159.8,69.4-42.8-2.9-145.8-58-126.4-179.7,3.4-22.8,16.1-52.9,16.1-52.9l-57.7,11.2L291,561.4,431.9,528l27.4,146-41.9,8.3L402.8,613s-39.4,60.9,9.2,126.5c28.8,33.8,42.8,35.5,76.1,41.6,29.1,5,97.5-3.2,119.9-82.1,9.9-50.9,1.2-89.1-63.4-140.5l5.2-55.1s72.3,53.8,90.3,90.7c13.8,29.3,37.5,86.9-10,164.8Z\",\n    style: {\n      fill: \"#fff\"\n    }\n  }))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgYfiLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/yfi-logo.5d0d11cd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#2a5ada;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"title\", null, \"Asset 1\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M18.9,0l-4,2.3L4,8.6,0,10.9V32.7L4,35l11,6.3,4,2.3,4-2.3L33.8,35l4-2.3V10.9l-4-2.3L22.9,2.3ZM8,28.1V15.5L18.9,9.2l10.9,6.3V28.1L18.9,34.4Z\"\n})));\n\nvar SvgChainLinkLogo = function SvgChainLinkLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 37.8 43.6\",\n    ref: svgRef\n  }, props), _ref2, title === undefined ? _ref3 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChainLinkLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chain-link-logo.0bc2e488.svg\";\nexport { ForwardRef as ReactComponent };","import { BigNumber, utils } from \"ethers\"\nimport walletconnectLogo from \"../walletconnect-logo.svg\"\nimport metamaskLogo from \"../metamask-fox.svg\"\n// import trezorLogo from \"../trezor.svg\"\n// import ledgerLogo from \"../ledger.png\"\n\nimport { ReactComponent as BalancerIcon } from \"./../resources/balancer-bal-logo.svg\"\nimport { ReactComponent as UniswapIcon } from \"./../resources/uniswap-uni-logo.svg\"\nimport { ReactComponent as YUSDIcon } from \"./../resources/yUSD.svg\"\nimport { ReactComponent as ADXIcon } from \"./../resources/adex-logo-clean.svg\"\nimport { ReactComponent as ETHIcon } from \"./../resources/eth-logo.svg\"\nimport { ReactComponent as YFIIcon } from \"./../resources/yfi-logo.svg\"\nimport { ReactComponent as LINKIcon } from \"./../resources/chain-link-logo.svg\"\nimport { ReactComponent as LoyaltyIcon } from \"./../resources/loyalty-ic.svg\"\nimport { ReactComponent as TomIcon } from \"./../resources/tom-ic.svg\"\n\nexport const useTestnet = false // true // TODO env cfg\n\nexport const MIGRATION_UNBOND_BEFORE = 1619182800000 // 24.04.2021\n\n// Legacy staking\nexport const ADDR_STAKING = useTestnet\n\t? \"0xA83675086d99ef52ac78EDd534059C0Ae7f504f4\"\n\t: \"0x4846c6837ec670bbd1f5b485471c8f64ecb9c534\"\n\nexport const ZERO = BigNumber.from(0)\n// export const PRICES_API_URL =\n// \t\"https://min-api.cryptocompare.com/data/price?fsym=ADX&tsyms=BTC,USD,EUR\"\n\nexport const PRICES_API_URL = `https://api.coingecko.com/api/v3/simple/price?ids=ADEX&vs_currencies=usd`\nexport const UNBOND_DAYS = 30\nexport const STAKING_RULES_URL = null\n\nexport const IDLE_TIMEOUT_MINUTES = 10\n\nexport const ADDR_CORE = \"0x333420fc6a897356e69b62417cd17ff012177d2b\"\n\nexport const ADDR_ADX = useTestnet\n\t? \"0x6170ea3629a1E49B77EEd0e0A18460ac184CA71e\"\n\t: \"0xADE00C28244d5CE17D72E40330B1c318cD12B7c3\"\nexport const ADDR_FACTORY = \"0x9fe0d438e3c29c7cff949ad8e8da9403a531cc1a\"\nexport const ADDR_ADX_LOYALTY_TOKEN =\n\t\"0xd9A4cB9dc9296e111c66dFACAb8Be034EE2E1c2C\"\nexport const DAI_TOKEN_ADDR = \"0x6B175474E89094C44Da98b954EedeAC495271d0F\"\n\nexport const ZERO_ADDR = \"0x0000000000000000000000000000000000000000\"\n\nexport const ADDR_STAKING_POOL = useTestnet\n\t? \"0x01C43e275085bc5364f43C3980695e9BbAa4E7Fe\"\n\t: // ? \"0xf43ced622ea1656e4c7070b1c03d868801362183\"\n\t  \"0xB6456b57f03352bE48Bf101B46c1752a0813491a\" // TODO\n\nexport const ADDR_STAKING_MIGRATOR = useTestnet\n\t? // ? \"0x90C3d23ab2D9F7305D63f7Cb8514Fdd4B2f6225E\"\n\t  // ? \"0x555660ccf94b40ee8d7ddca8dd3c4dbf7bd51312\" // with Jerry pool id\n\t  \"0x7dc5737cddd06975dc1e1dd246636ed526c93fc7\" // with Jerry pool id - updated abi - log owner\n\t: \"0x27851Df171c419A8e05cac7d7B45a9Fa72B0a07c\" // TODO\n\nexport const ADDR_ADX_SUPPLY_CONTROLLER = useTestnet\n\t? \"0x1DD8Fb8aE154B780973Ff21D163ad8710c145B79\"\n\t: \"0x9d47f1c6ba4d66d8aa5e19226191a8968bc9094e\"\n\nexport const MAX_UINT = BigNumber.from(\n\t\"115792089237316195423570985008687907853269984665640564039457584007913129639935\"\n)\n\nexport const MIN_BALANCE_FOR_GASLESS_TXNS = BigNumber.from(\n\t\"10000000000000000000000\"\n) // 10 000 ADX\n\nexport const DEFAULT_BOND = {\n\tpoolId: \"\",\n\tamount: ZERO\n}\n\nexport const POOLS = [\n\t{\n\t\tlabel: \"common.validatorTom\",\n\t\tid: utils.id(\"validator:0x2892f6C41E0718eeeDd49D98D648C789668cA67d\"),\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\tpurpose: \"pools.tomPurpose\",\n\t\tlockupPeriod: 30,\n\t\tlockupPeriodText: \"pools.tomLockupPeriodTxt\",\n\t\trewardPolicy: \"pools.tomRewardPolicy\",\n\t\tslashPolicy: \"pools.tomSlashPolicy\",\n\t\tapyStability: \"pools.tomApyStability\",\n\t\turl: useTestnet ? \"http://localhost:8005\" : \"https://tom.adex.network\",\n\t\testimatedAnnualFeeYield: 182500,\n\t\testimatedAnnualADXYield: 15103448.2758,\n\t\testimatedAnnualADXEarlyYield: 12166666.6666\n\t},\n\t{\n\t\tlabel: \"common.validatorJerry\",\n\t\tid: utils.id(\"validator:0xce07CbB7e054514D590a0262C93070D838bFBA2e\"),\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\tpurpose: \"pools.jerryPurpose\",\n\t\tlockupPeriod: 30,\n\t\tlockupPeriodText: \"pools.jerryLockupPeriodTxt\",\n\t\trewardPolicy: \"pools.jerryRewardPolicy\",\n\t\tslashPolicy: \"pools.jerrySlashPolicy\",\n\t\tapyStability: \"pools.jerryApyStability\",\n\t\turl: useTestnet ? \"http://localhost:8005\" : \"https://tom.adex.network\"\n\t}\n]\n\nexport const DEPOSIT_POOLS = [\n\t{\n\t\tlabel: \"common.loPo\",\n\t\tid: utils.id(\"deposit:0x49ee1555672E1b7928Fc581810B4e79dD85263E1\"),\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\trewardPolicy: \"pools.loPoRewardPolicy\",\n\t\tslashPolicy: \"pools.loPoSlashPolicy\",\n\t\turl:\n\t\t\t\"https://etherscan.io/address/0x49ee1555672e1b7928fc581810b4e79dd85263e1\",\n\t\tconfirmationLabel: null,\n\t\tconfirmationUrl: \"https://www.adex.network/tos/\"\n\t},\n\t{\n\t\tversion: \"stakingv5\",\n\t\tlabel: \"common.tomStakingPool\",\n\t\tid: utils.id(\"V5validator:0x2892f6C41E0718eeeDd49D98D648C789668cA67d\"), // TODO:\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\tpurpose: \"pools.tomV5Purpose\",\n\t\tlockupPeriod: 20,\n\t\tlockupPeriodText: \"pools.tomLockupPeriodTxt\",\n\t\trewardPolicy: \"pools.tomV5RewardPolicy\",\n\t\tslashPolicy: \"pools.tomV5SlashPolicy\",\n\t\tapyStability: \"pools.tomApyStability\",\n\t\turl: \"https://tom.adex.network\",\n\t\tlegacyPoolId: utils.id(\n\t\t\t\"validator:0x2892f6C41E0718eeeDd49D98D648C789668cA67d\"\n\t\t),\n\t\tuserDepositsLimit: \"15000000000000000000000000\" // 15 000 000\n\t}\n]\n\nexport const iconByPoolId = ({ poolId, id }) => {\n\tswitch (poolId || id) {\n\t\tcase \"adex-loyalty-pool\":\n\t\tcase DEPOSIT_POOLS[0].id:\n\t\t\treturn LoyaltyIcon\n\t\tcase \"adex-staking-pool\":\n\t\tcase POOLS[0].id:\n\t\tcase POOLS[1].id:\n\t\tcase DEPOSIT_POOLS[1].id:\n\t\t\treturn TomIcon\n\t\tdefault:\n\t\t\treturn null\n\t}\n}\n\nexport const METAMASK = \"Metamask\"\nexport const WALLET_CONNECT = \"WalletConnect\"\nexport const TREZOR = \"Trezor\"\nexport const LEDGER = \"Ledger\"\n\nexport const Wallets = [\n\t{\n\t\tname: METAMASK,\n\t\ticon: metamaskLogo\n\t},\n\t{\n\t\tname: WALLET_CONNECT,\n\t\ticon: walletconnectLogo,\n\t\textraLabel: {\n\t\t\tmessage: \"dialogs.exceptWallets\",\n\t\t\tdata: {\n\t\t\t\twallets: \"Trust Wallet\"\n\t\t\t}\n\t\t}\n\t}\n\t// {\n\t// \tname: TREZOR,\n\t// \ticon: trezorLogo\n\t// },\n\t// {\n\t// \tname: LEDGER,\n\t// \ticon: ledgerLogo\n\t// }\n]\n\nexport const SUPPORTED_CHAINS = useTestnet\n\t? [{ id: 5, name: \"goerli\" }]\n\t: [{ id: 1, name: \"mainnet\" }]\n\nexport const TOKEN_OLD_TO_NEW_MULTIPLIER = BigNumber.from(\"100000000000000\")\n\nexport const REACT_APP_INFURA_ID = \"3d22938fd7dd41b7af4197752f83e8a1\"\n\n// export const REACT_APP_RPC_URL =\n// \t\"wss://mainnet.infura.io/ws/v3/3d22938fd7dd41b7af4197752f83e8a1\"\n\nexport const REACT_APP_RPC_URL = useTestnet\n\t? \"https://goerli.infura.io/v3/3d22938fd7dd41b7af4197752f83e8a1\"\n\t: \"https://mainnet.infura.io/v3/3d22938fd7dd41b7af4197752f83e8a1\"\n\nexport const ADEX_RELAYER_HOST = useTestnet\n\t? \"https://goerli-relayer.adex.network\"\n\t: \"https://relayer.adex.network\"\n// export const ADEX_RELAYER_HOST = \"https://goerli-relayer.adex.network\"\n\nconst MAIN_START_BLOCK = 11296000\n\nexport const FARM_POOLS = [\n\t// {\n\t// \t// GOERLI TST\n\t// \tpoolId: 0,\n\t// \tname: \"TST-ADX\",\n\t// \ttoken: \"TST-ADX\",\n\t// \tplatform: \"Balancer\",\n\t// \tdepositAssetName: \"TST-ADX\",\n\t// \tdepositAssetAddr: \"0x7af963cF6D228E564e2A0aA0DdBF06210B38615D\",\n\t// \tdepositAssetDecimals: 18,\n\t// \tgetDepositAssetUrl: \"https://goerli-faucet.slock.it/\",\n\t// \tlpTokenAddr: \"0x2aecF52ABe359820c48986046959B4136AfDfbe2\",\n\t// \tlpTokenData: [\n\t// \t\t{\n\t// \t\t\ttoken: \"TST\",\n\t// \t\t\tweight: 0.2,\n\t// \t\t\taddr: \"0x7af963cF6D228E564e2A0aA0DdBF06210B38615D\"\n\t// \t\t},\n\t// \t\t{\n\t// \t\t\ttoken: \"ADX\",\n\t// \t\t\tweight: 0.8,\n\t// \t\t\taddr: ADDR_ADX\n\t// \t\t}\n\t// \t],\n\t// \trewardAssetName: \"ADX\",\n\t// \trewardAssetAddr: ADDR_ADX,\n\t// \tplatformIcon: BalancerIcon,\n\t// \tassetsIcons: [ADXIcon, YUSDIcon]\n\t// },\n\t// {\n\t// \t// GOERLI TST\n\t// \tpoolId: 1,\n\t// \tname: \"ADX-TST-2\",\n\t// \ttoken: \"ADX-TST-2\",\n\t// \tplatform: \"Uniswap\",\n\t// \tdepositAssetName: \"ADX-TST-2\",\n\t// \tdepositAssetAddr: ADDR_ADX,\n\t// \tdepositAssetDecimals: 18,\n\t// \tgetDepositAssetUrl: \"https://goerli-faucet.slock.it/\",\n\t// \tlpTokenAddr: \"0x0A8fe6e91eaAb3758dF18f546f7364343667E957\",\n\t// \tlpTokenData: [\n\t// \t\t{\n\t// \t\t\ttoken: \"ADX\",\n\t// \t\t\tweight: 0.83129,\n\t// \t\t\taddr: ADDR_ADX\n\t// \t\t},\n\t// \t\t{\n\t// \t\t\ttoken: \"TST2\",\n\t// \t\t\tweight: 1 - 0.83129,\n\t// \t\t\taddr: \"0x7af963cF6D228E564e2A0aA0DdBF06210B38615D\"\n\t// \t\t}\n\t// \t],\n\t// \trewardAssetName: \"ADX\",\n\t// \trewardAssetAddr: ADDR_ADX,\n\t// \tplatformIcon: UniswapIcon,\n\t// \tassetsIcons: [ADXIcon, ADXIcon]\n\t// }\n\n\t// MAINNET\n\t{\n\t\tpoolId: 0,\n\t\tname: \"Uniswap ADX-ETH\",\n\t\ttoken: \"UNI-ADX-ETH\",\n\t\tplatform: \"Uniswap\",\n\t\tdepositAssetName: \"UNI-ADX-ETH\",\n\t\tdepositAssetAddr: \"0xd3772a963790fede65646cfdae08734a17cd0f47\",\n\t\tdepositAssetDecimals: 18,\n\t\tgetDepositAssetUrl:\n\t\t\t\"https://info.uniswap.org/pair/0xd3772a963790fede65646cfdae08734a17cd0f47\",\n\t\tlpTokenAddr: \"0xd3772a963790fede65646cfdae08734a17cd0f47\",\n\t\tlpTokenData: [\n\t\t\t{\n\t\t\t\ttoken: \"ADX\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xADE00C28244d5CE17D72E40330B1c318cD12B7c3\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttoken: \"ETH\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"\n\t\t\t}\n\t\t],\n\t\trewardAssetName: \"ADX\",\n\t\trewardAssetAddr: ADDR_ADX,\n\t\tplatformIcon: UniswapIcon,\n\t\tassetsIcons: [ADXIcon, ETHIcon],\n\t\tspecial: true,\n\t\tlatRewardBlock: 11547869, //11494773,\n\t\tfirstRewardBlock: MAIN_START_BLOCK,\n\t\trewardsDurationDays: 38\n\t},\n\t{\n\t\tpoolId: 1,\n\t\tname: \"Balancer ADX-yUSD\",\n\t\ttoken: \"BPT-ADX-yUSD\",\n\t\tplatform: \"Balancer\",\n\t\tdepositAssetName: \"BPT-ADX-yUSD\",\n\t\tdepositAssetAddr: \"0x415900c6e18b89531e3e24c902b05c031c71a925\",\n\t\tdepositAssetDecimals: 18,\n\t\tgetDepositAssetUrl:\n\t\t\t\"https://pools.balancer.exchange/#/pool/0x415900c6e18b89531e3e24c902b05c031c71a925/\",\n\t\tlpTokenAddr: \"0x415900c6e18b89531e3e24c902b05c031c71a925\",\n\t\tlpTokenData: [\n\t\t\t{\n\t\t\t\ttoken: \"ADX\",\n\t\t\t\tweight: 0.7,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xADE00C28244d5CE17D72E40330B1c318cD12B7c3\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttoken: \"yUSD\",\n\t\t\t\tweight: 0.3,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0x5dbcF33D8c2E976c6b560249878e6F1491Bca25c\"\n\t\t\t}\n\t\t],\n\t\trewardAssetName: \"ADX\",\n\t\trewardAssetAddr: ADDR_ADX,\n\t\tplatformIcon: BalancerIcon,\n\t\tassetsIcons: [ADXIcon, YUSDIcon],\n\t\tspecial: true,\n\t\tlatRewardBlock: 11547869, // 11494773,\n\t\tfirstRewardBlock: MAIN_START_BLOCK,\n\t\trewardsDurationDays: 38\n\t},\n\t{\n\t\tpoolId: 2,\n\t\tname: \"Balancer BAL-ETH\",\n\t\ttoken: \"BPT-BAL-ETH\",\n\t\tplatform: \"Balancer\",\n\t\tdepositAssetName: \"BPT-BAL-ETH\",\n\t\tdepositAssetAddr: \"0x59A19D8c652FA0284f44113D0ff9aBa70bd46fB4\",\n\t\tdepositAssetDecimals: 18,\n\t\tgetDepositAssetUrl:\n\t\t\t\"https://pools.balancer.exchange/#/pool/0x59A19D8c652FA0284f44113D0ff9aBa70bd46fB4/\",\n\t\tlpTokenAddr: \"0x59A19D8c652FA0284f44113D0ff9aBa70bd46fB4\",\n\t\tlpTokenData: [\n\t\t\t{\n\t\t\t\ttoken: \"BAL\",\n\t\t\t\tweight: 0.8,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xba100000625a3754423978a60c9317c58a424e3D\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttoken: \"ETH\",\n\t\t\t\tweight: 0.2,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"\n\t\t\t}\n\t\t],\n\t\trewardAssetName: \"ADX\",\n\t\trewardAssetAddr: ADDR_ADX,\n\t\tplatformIcon: BalancerIcon,\n\t\tassetsIcons: [BalancerIcon, ETHIcon],\n\t\tlatRewardBlock: 11428515,\n\t\tfirstRewardBlock: MAIN_START_BLOCK,\n\t\trewardsDurationDays: 20\n\t},\n\t{\n\t\tpoolId: 3,\n\t\tname: \"Uniswap YFI-ETH\",\n\t\ttoken: \"UNI-YFI-ETH\",\n\t\tplatform: \"Uniswap\",\n\t\tdepositAssetName: \"UNI-YFI-ETH\",\n\t\tdepositAssetAddr: \"0x2fDbAdf3C4D5A8666Bc06645B8358ab803996E28\",\n\t\tdepositAssetDecimals: 18,\n\t\tgetDepositAssetUrl:\n\t\t\t\"https://info.uniswap.org/pair/0x2fDbAdf3C4D5A8666Bc06645B8358ab803996E28\",\n\t\tlpTokenAddr: \"0x2fDbAdf3C4D5A8666Bc06645B8358ab803996E28\",\n\t\tlpTokenData: [\n\t\t\t{\n\t\t\t\ttoken: \"YFI\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttoken: \"ETH\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"\n\t\t\t}\n\t\t],\n\t\trewardAssetName: \"ADX\",\n\t\trewardAssetAddr: ADDR_ADX,\n\t\tplatformIcon: UniswapIcon,\n\t\tassetsIcons: [YFIIcon, ETHIcon],\n\t\tlatRewardBlock: 11428515,\n\t\tfirstRewardBlock: MAIN_START_BLOCK,\n\t\trewardsDurationDays: 20\n\t},\n\t{\n\t\tpoolId: 4,\n\t\tname: \"Uniswap UNI-ETH\",\n\t\ttoken: \"UNI-UNI-ETH\",\n\t\tplatform: \"Uniswap\",\n\t\tdepositAssetName: \"UNI-UNI-ETH\",\n\t\tdepositAssetAddr: \"0xd3d2E2692501A5c9Ca623199D38826e513033a17\",\n\t\tdepositAssetDecimals: 18,\n\t\tgetDepositAssetUrl:\n\t\t\t\"https://info.uniswap.org/pair/0xd3d2E2692501A5c9Ca623199D38826e513033a17\",\n\t\tlpTokenAddr: \"0xd3d2E2692501A5c9Ca623199D38826e513033a17\",\n\t\tlpTokenData: [\n\t\t\t{\n\t\t\t\ttoken: \"UNI\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttoken: \"ETH\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"\n\t\t\t}\n\t\t],\n\t\trewardAssetName: \"ADX\",\n\t\trewardAssetAddr: ADDR_ADX,\n\t\tplatformIcon: UniswapIcon,\n\t\tassetsIcons: [UniswapIcon, ETHIcon],\n\t\tlatRewardBlock: 11428515,\n\t\tfirstRewardBlock: MAIN_START_BLOCK,\n\t\trewardsDurationDays: 20\n\t},\n\t{\n\t\tpoolId: 5,\n\t\tname: \"Uniswap LINK-ETH\",\n\t\ttoken: \"UNI-LINK-ETH\",\n\t\tplatform: \"Uniswap\",\n\t\tdepositAssetName: \"UNI-LINK-ETH\",\n\t\tdepositAssetAddr: \"0xa2107FA5B38d9bbd2C461D6EDf11B11A50F6b974\",\n\t\tdepositAssetDecimals: 18,\n\t\tgetDepositAssetUrl:\n\t\t\t\"https://info.uniswap.org/pair/0xa2107FA5B38d9bbd2C461D6EDf11B11A50F6b974\",\n\t\tlpTokenAddr: \"0xa2107FA5B38d9bbd2C461D6EDf11B11A50F6b974\",\n\t\tlpTokenData: [\n\t\t\t{\n\t\t\t\ttoken: \"LINK\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0x514910771af9ca656af840dff83e8264ecf986ca\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttoken: \"ETH\",\n\t\t\t\tweight: 0.5,\n\t\t\t\tdecimals: 18,\n\t\t\t\taddr: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\"\n\t\t\t}\n\t\t],\n\t\trewardAssetName: \"ADX\",\n\t\trewardAssetAddr: ADDR_ADX,\n\t\tplatformIcon: UniswapIcon,\n\t\tassetsIcons: [LINKIcon, ETHIcon],\n\t\tlatRewardBlock: 11428515,\n\t\tfirstRewardBlock: MAIN_START_BLOCK,\n\t\trewardsDurationDays: 20\n\t}\n]\n","module.exports = __webpack_public_path__ + \"static/media/walletconnect-logo.37f2bc6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/metamask-fox.c879a582.svg\";","module.exports = __webpack_public_path__ + \"static/media/eddie-farmer-info-card.5f27e01a.svg\";","import { generateAddress2 } from \"ethereumjs-util\"\nimport { utils } from \"ethers\"\nimport { Transaction } from \"adex-protocol-eth/js\"\nimport { ADDR_FACTORY, useTestnet } from \"./constants\"\n\nfunction getBytecode(addr) {\n\tconst addrHex = addr.slice(2).toLowerCase()\n\t// Do not change that bytecode! It comes from compiling this https://gist.github.com/Ivshti/e66cd57ade1abfb07c2517df9e73ceb9\n\n\tconst bytecode = useTestnet\n\t\t? `0x608060405234801561001057600080fd5b5060026000803073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff160217905550600260008073${addrHex}73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff1602179055506101b7806100e46000396000f3fe608060405234801561001057600080fd5b506004361061002f5760003560e01c8063c066a5b11461007357610030565b5b60007396e3cb4b4632ed45363ff2c9f0fbec9b583d9d3a90503660008037600080366000846127105a03f43d6000803e806000811461006e573d6000f35b3d6000fd5b61008d600480360381019061008891906100d8565b6100a3565b60405161009a9190610110565b60405180910390f35b60006020528060005260406000206000915054906101000a900460ff1681565b6000813590506100d28161016a565b92915050565b6000602082840312156100ea57600080fd5b60006100f8848285016100c3565b91505092915050565b61010a8161015d565b82525050565b60006020820190506101256000830184610101565b92915050565b60006101368261013d565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060ff82169050919050565b6101738161012b565b811461017e57600080fd5b5056fea264697066735822122019f5875efc4074eb90fc23ade40cf7e2dab386def2d35b85eb8873751ce883b764736f6c634300060c0033`\n\t\t: `0x608060405234801561001057600080fd5b5060026000803073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff160217905550600260008073${addrHex}73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff1602179055506000734470bb87d77b963a013db939be332f927f2b992e9050600073ade00c28244d5ce17d72e40330b1c318cd12b7c3905060008273ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016101429190610501565b60206040518083038186803b15801561015a57600080fd5b505afa15801561016e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610192919061045a565b90506000811115610276578273ffffffffffffffffffffffffffffffffffffffff1663095ea7b383836040518363ffffffff1660e01b81526004016101d892919061051c565b600060405180830381600087803b1580156101f257600080fd5b505af1158015610206573d6000803e3d6000fd5b505050508173ffffffffffffffffffffffffffffffffffffffff166394b918de826040518263ffffffff1660e01b81526004016102439190610560565b600060405180830381600087803b15801561025d57600080fd5b505af1158015610271573d6000803e3d6000fd5b505050505b60008273ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016102b19190610501565b60206040518083038186803b1580156102c957600080fd5b505afa1580156102dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610301919061045a565b9050600081111561043c576000734846c6837ec670bbd1f5b485471c8f64ecb9c53490508373ffffffffffffffffffffffffffffffffffffffff1663095ea7b382846040518363ffffffff1660e01b815260040161036092919061051c565b600060405180830381600087803b15801561037a57600080fd5b505af115801561038e573d6000803e3d6000fd5b505050508073ffffffffffffffffffffffffffffffffffffffff1663b4dca72460405180606001604052808581526020017f2ce0c96383fb229d9776f33846e983a956a7d95844fac57b180ed0071d93bb2860001b8152602001428152506040518263ffffffff1660e01b81526004016104089190610545565b600060405180830381600087803b15801561042257600080fd5b505af1158015610436573d6000803e3d6000fd5b50505050505b505050506105d8565b600081519050610454816105c1565b92915050565b60006020828403121561046c57600080fd5b600061047a84828501610445565b91505092915050565b61048c8161057b565b82525050565b61049b8161058d565b82525050565b6060820160008201516104b760008501826104e3565b5060208201516104ca6020850182610492565b5060408201516104dd60408501826104e3565b50505050565b6104ec816105b7565b82525050565b6104fb816105b7565b82525050565b60006020820190506105166000830184610483565b92915050565b60006040820190506105316000830185610483565b61053e60208301846104f2565b9392505050565b600060608201905061055a60008301846104a1565b92915050565b600060208201905061057560008301846104f2565b92915050565b600061058682610597565b9050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6105ca816105b7565b81146105d557600080fd5b50565b6101b7806105e76000396000f3fe608060405234801561001057600080fd5b506004361061002f5760003560e01c8063c066a5b11461007357610030565b5b60007396e3cb4b4632ed45363ff2c9f0fbec9b583d9d3a90503660008037600080366000846127105a03f43d6000803e806000811461006e573d6000f35b3d6000fd5b61008d600480360381019061008891906100d8565b6100a3565b60405161009a9190610110565b60405180910390f35b60006020528060005260406000206000915054906101000a900460ff1681565b6000813590506100d28161016a565b92915050565b6000602082840312156100ea57600080fd5b60006100f8848285016100c3565b91505092915050565b61010a8161015d565b82525050565b60006020820190506101256000830184610101565b92915050565b60006101368261013d565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060ff82169050919050565b6101738161012b565b811461017e57600080fd5b5056fea26469706673582212200e40aa3025d54e828fb973089b64ce06688fedcd71b98ae68521a0217652c59564736f6c634300060c0033`\n\treturn bytecode\n}\n\nexport function getUserIdentity(walletAddr) {\n\tconst bytecode = getBytecode(walletAddr)\n\tconst addr = utils.getAddress(\n\t\t`0x${generateAddress2(ADDR_FACTORY, Buffer.alloc(32), bytecode).toString(\n\t\t\t\"hex\"\n\t\t)}`\n\t)\n\treturn { bytecode, addr }\n}\n\nexport function rawZeroFeeTx(idAddr, nonce, to, data) {\n\treturn {\n\t\tidentityContract: idAddr,\n\t\tnonce: nonce.toString(),\n\t\tfeeTokenAddr: \"0x6b175474e89094c44da98b954eedeac495271d0f\",\n\t\tfeeAmount: 0,\n\t\tto,\n\t\tdata\n\t}\n}\n\nexport function zeroFeeTx(idAddr, nonce, to, data) {\n\treturn new Transaction({\n\t\tidentityContract: idAddr,\n\t\tnonce: nonce.toString(),\n\t\tfeeTokenAddr: \"0x6b175474e89094c44da98b954eedeac495271d0f\",\n\t\tfeeAmount: 0,\n\t\tto,\n\t\tdata\n\t})\n}\n"],"sourceRoot":""}